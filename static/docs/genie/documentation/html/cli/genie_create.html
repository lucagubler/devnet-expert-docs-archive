<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pyATS Create &mdash; Genie Documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/asciinema-player.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/genie_ico.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/asciinema-player.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Genie Solutions" href="../solutions/index.html" />
    <link rel="prev" title="Genie DNAC" href="genie_dnac.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            pyATS Library: Genie
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cookbooks/index.html">Getting Started</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../userguide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../clean/index.html">pyATS Clean</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blitz/index.html">pyATS Blitz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../health/index.html">pyATS Health Check</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Genie Command Line</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="genie_parse.html">Genie Parse</a></li>
<li class="toctree-l2"><a class="reference internal" href="genie_learn.html">Genie Learn</a></li>
<li class="toctree-l2"><a class="reference internal" href="genie_diff.html">Genie Diff</a></li>
<li class="toctree-l2"><a class="reference internal" href="genie_run.html">Genie Run</a></li>
<li class="toctree-l2"><a class="reference internal" href="genie_shell.html">Genie Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="genie_dnac.html">Genie DNAC</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">pyATS Create</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../solutions/index.html">Genie Solutions</a></li>
<li class="toctree-l1"><a class="reference external" href="https://wiki.cisco.com/pages/viewpage.action?pageId=831194226">Internal Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/apis">Available APIs</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/clean">Available Clean Stages</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/models">Available Models (Conf/Ops)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/parsers">Available Parsers</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/triggers">Available Triggers</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/verifications">Available Verifications</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../abstract/index.html">Library Abstraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metaparser/index.html">Metaparsers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parsergen/index.html">CLI Auto-Parser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../predcore/index.html">Predicates</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../roadmap/index.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/index.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pyATS Library: Genie</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Genie Command Line</a></li>
      <li class="breadcrumb-item active">pyATS Create</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pyats-create">
<span id="cli-create"></span><h1>pyATS Create<a class="headerlink" href="#pyats-create" title="Permalink to this heading"></a></h1>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">pyats</span> <span class="pre">create</span></code> provide an easy way to create parsers, testbeds, and triggers.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>pyats.contrib package needs to be installed for <code class="xref py py-obj docutils literal notranslate"><span class="pre">pyats</span> <span class="pre">create</span></code> command. If not installed, please install by <code class="xref py py-obj docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pyats.contrib</span></code>
pyats.contrib GitHub : <a class="reference external" href="https://github.com/CiscoTestAutomation/pyats.contrib">https://github.com/CiscoTestAutomation/pyats.contrib</a></p>
</div>
<p>To see what functionality <code class="xref py py-obj docutils literal notranslate"><span class="pre">pyats</span> <span class="pre">create</span></code> offers, execute the following in your linux terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage:
<span class="w">  </span>pyats<span class="w"> </span>create<span class="w"> </span>&lt;subcommand&gt;<span class="w"> </span><span class="o">[</span>options<span class="o">]</span>

Description:
<span class="w">  </span>Creates<span class="w"> </span>script<span class="w"> </span>and<span class="w"> </span>library<span class="w"> </span>components<span class="w"> </span>automatically<span class="w"> </span>based<span class="w"> </span>on<span class="w"> </span>your<span class="w"> </span>input.<span class="w"> </span>These
<span class="w">  </span>are<span class="w"> </span>helper<span class="w"> </span>functions<span class="w"> </span>intended<span class="w"> </span>to<span class="w"> </span>make<span class="w"> </span>your<span class="w"> </span>development<span class="w"> </span>life<span class="w"> </span>easier/reducing
<span class="w">  </span>number<span class="w"> </span>of<span class="w"> </span>boilerplate<span class="w"> </span>to-dos.

Subcommands:
<span class="w">  </span>parser<span class="w">              </span>create<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>Genie<span class="w"> </span>parser<span class="w"> </span>from<span class="w"> </span>template
<span class="w">  </span>project<span class="w">             </span>create<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>pyATS<span class="w"> </span>project<span class="w"> </span>from<span class="w"> </span>template
<span class="w">  </span>testbed<span class="w">             </span>create<span class="w"> </span>a<span class="w"> </span>testbed<span class="w"> </span>file<span class="w"> </span>automatically
<span class="w">  </span>trigger<span class="w">             </span>create<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>Genie<span class="w"> </span>trigger<span class="w"> </span>from<span class="w"> </span>template

General<span class="w"> </span>Options:
<span class="w">  </span>-h,<span class="w"> </span>--help<span class="w">            </span>Show<span class="w"> </span><span class="nb">help</span>
<span class="w">  </span>-v,<span class="w"> </span>--verbose<span class="w">         </span>Give<span class="w"> </span>more<span class="w"> </span>output,<span class="w"> </span>additive<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span><span class="m">3</span><span class="w"> </span>times.
<span class="w">  </span>-q,<span class="w"> </span>--quiet<span class="w">           </span>Give<span class="w"> </span>less<span class="w"> </span>output,<span class="w"> </span>additive<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span><span class="m">3</span><span class="w"> </span>times,<span class="w"> </span>corresponding<span class="w"> </span>to<span class="w"> </span>WARNING,<span class="w"> </span>ERROR,
<span class="w">                        </span>and<span class="w"> </span>CRITICAL<span class="w"> </span>logging<span class="w"> </span>levels
</pre></div>
</div>
<section id="pyats-create-testbed">
<span id="cli-create-testbed"></span><h2>pyATS Create Testbed<a class="headerlink" href="#pyats-create-testbed" title="Permalink to this heading"></a></h2>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">pyats</span> <span class="pre">create</span> <span class="pre">testbed</span></code> provide an easy way to create a testbed yaml file. It gives the ability to convert some sources containing device data into a testbed yaml that can be loaded directly.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage:
<span class="w">  </span>pyats<span class="w"> </span>create<span class="w"> </span>testbed<span class="w"> </span><span class="o">[</span>source<span class="o">]</span><span class="w"> </span><span class="o">[</span>arguments<span class="o">]</span>

Testbed<span class="w"> </span>Options:
<span class="w">  </span><span class="o">[</span>source<span class="o">]</span><span class="w">              </span>Source<span class="w"> </span>of<span class="w"> </span>where<span class="w"> </span>to<span class="w"> </span>retrieve<span class="w"> </span>device<span class="w"> </span>data.
<span class="w">  </span>--output<span class="w"> </span>OUTPUT<span class="w">       </span>File<span class="w"> </span>location<span class="w"> </span>to<span class="w"> </span>output<span class="w"> </span>the<span class="w"> </span>created<span class="w"> </span>testbed<span class="w"> </span>yaml.

General<span class="w"> </span>Options:
<span class="w">  </span>-h,<span class="w"> </span>--help<span class="w">            </span>Show<span class="w"> </span><span class="nb">help</span>
<span class="w">  </span>-v,<span class="w"> </span>--verbose<span class="w">         </span>Give<span class="w"> </span>more<span class="w"> </span>output,<span class="w"> </span>additive<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span><span class="m">3</span><span class="w"> </span>times.
<span class="w">  </span>-q,<span class="w"> </span>--quiet<span class="w">           </span>Give<span class="w"> </span>less<span class="w"> </span>output,<span class="w"> </span>additive<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span><span class="m">3</span><span class="w"> </span>times,<span class="w"> </span>corresponding<span class="w"> </span>to<span class="w"> </span>WARNING,<span class="w"> </span>ERROR,
<span class="w">                        </span>and<span class="w"> </span>CRITICAL<span class="w"> </span>logging<span class="w"> </span>levels
</pre></div>
</div>
<section id="generate-from-csv-excel-file">
<h3>Generate from csv/excel file<a class="headerlink" href="#generate-from-csv-excel-file" title="Permalink to this heading"></a></h3>
<p>Use the following columns header to create a testbed yaml file from Excel/csv file:</p>
<ul class="simple">
<li><p><strong>hostname</strong> : <em>the host name of the device</em></p></li>
<li><p><strong>ip</strong> : <em>the ip address of the device, to specify a port, add the port number in the format of:</em> <code class="xref py py-obj docutils literal notranslate"><span class="pre">ip:port</span></code></p></li>
<li><p><strong>username</strong> : <em>the username for logging into the device</em></p></li>
<li><p><strong>password</strong> : <em>the default password for logging into the device, user can leave this field blank for security reason, and Genie will prompt you to enter the password when you connect to the device</em></p></li>
<li><p><strong>protocol</strong> : <em>the protocol used to connected to the device i.e. ssh, telnet, etc..</em></p></li>
<li><p><strong>os</strong> : <em>the operating system for the device i.e. iosxr, iosxe, nxos, linux, etc..</em></p></li>
<li><p><strong>enable_password</strong> : <em>(Optional) to provide a different password for entering privileged EXEC mode with `enable` command</em></p></li>
</ul>
<p>All other columns not listed above will be added to the yaml as a <code class="xref py py-obj docutils literal notranslate"><span class="pre">key:</span> <span class="pre">value</span></code> pair</p>
<p><strong>Example</strong></p>
<p>Here is an example excel file containing device data:</p>
<blockquote>
<div><figure class="align-default">
<img alt="Sample Excel file" src="../_images/Excel.png" />
</figure>
</div></blockquote>
<p>we can turn it into a testbed yaml file by running the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>venv<span class="o">)</span>demo$<span class="w"> </span>pyats<span class="w"> </span>create<span class="w"> </span>testbed<span class="w"> </span>file<span class="w"> </span>--path<span class="w"> </span>my_devices.xls<span class="w"> </span>--output<span class="w"> </span>yaml/my_testbed.yaml
Testbed<span class="w"> </span>file<span class="w"> </span>generated:
my_devices.xls<span class="w"> </span>-&gt;<span class="w"> </span>yaml/my_testbed.yaml
</pre></div>
</div>
<p>This will give us the below yaml:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">devices</span><span class="p">:</span>
<span class="w">  </span><span class="nt">R1</span><span class="p">:</span>
<span class="w">    </span><span class="nt">connections</span><span class="p">:</span>
<span class="w">      </span><span class="nt">cli</span><span class="p">:</span>
<span class="w">      </span><span class="nt">ip</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.25.192.101</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">17013</span>
<span class="w">      </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ssh</span>
<span class="w">    </span><span class="nt">credentials</span><span class="p">:</span>
<span class="w">      </span><span class="nt">default</span><span class="p">:</span>
<span class="w">        </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco</span>
<span class="w">        </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin</span>
<span class="w">      </span><span class="nt">enable</span><span class="p">:</span>
<span class="w">        </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco123</span>
<span class="w">    </span><span class="nt">os</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">iosxe</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">iosxe</span>
<span class="w">  </span><span class="nt">R2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">connections</span><span class="p">:</span>
<span class="w">      </span><span class="nt">cli</span><span class="p">:</span>
<span class="w">        </span><span class="nt">ip</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.25.192.102</span>
<span class="w">        </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">17015</span>
<span class="w">        </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ssh</span>
<span class="w">    </span><span class="nt">credentials</span><span class="p">:</span>
<span class="w">      </span><span class="nt">default</span><span class="p">:</span>
<span class="w">        </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco</span>
<span class="w">        </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin</span>
<span class="w">      </span><span class="nt">enable</span><span class="p">:</span>
<span class="w">        </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco123</span>
<span class="w">    </span><span class="nt">os</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">iosxr</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">iosxr</span>
<span class="w">  </span><span class="nt">R3</span><span class="p">:</span>
<span class="w">    </span><span class="nt">connections</span><span class="p">:</span>
<span class="w">      </span><span class="nt">cli</span><span class="p">:</span>
<span class="w">        </span><span class="nt">ip</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.25.192.103</span>
<span class="w">        </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">17019</span>
<span class="w">        </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ssh</span>
<span class="w">    </span><span class="nt">credentials</span><span class="p">:</span>
<span class="w">      </span><span class="nt">default</span><span class="p">:</span>
<span class="w">        </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco</span>
<span class="w">        </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin</span>
<span class="w">      </span><span class="nt">enable</span><span class="p">:</span>
<span class="w">        </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cisco</span>
<span class="w">    </span><span class="nt">os</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nxos</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nxos</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Add the <code class="xref py py-obj docutils literal notranslate"><span class="pre">--encode-password</span></code> option to hide the password in the yaml as a secret string.
However this is only for the purpose of obfuscation, the password is not cryptographically secure. Please refer to <a class="reference external" href="http://wwwin-pyats.cisco.com/documentation/latest/utilities/secret_strings.html#secret-strings">Secret String</a> for more detail.</p>
</div>
</section>
<section id="generate-from-multiple-csv-excel-files-under-a-directory">
<h3>Generate from multiple csv/excel files under a directory<a class="headerlink" href="#generate-from-multiple-csv-excel-files-under-a-directory" title="Permalink to this heading"></a></h3>
<p>Having multiple csv/excel files? You can pass a directory as the input and another directory as the output, then it will create a testbed file for every excel in the provided directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>venv<span class="o">)</span>demo$<span class="w"> </span>pyats<span class="w"> </span>create<span class="w"> </span>testbed<span class="w"> </span>file<span class="w"> </span>--path<span class="w"> </span>excels<span class="w"> </span>--output<span class="w"> </span>yamls<span class="w"> </span>-r
Testbed<span class="w"> </span>file<span class="w"> </span>generated:
excels/my_devices.xlsx<span class="w"> </span>-&gt;<span class="w"> </span>yamls/my_devices.yaml
excels/my_devices_2.xlsx<span class="w"> </span>-&gt;<span class="w"> </span>yamls/my_devices_2.yaml
excels/my_devices_test.csv<span class="w"> </span>-&gt;<span class="w"> </span>yamls/my_devices_test.yaml
excels/sub1/my_devices_csv.csv<span class="w"> </span>-&gt;<span class="w"> </span>yamls/sub1/my_devices_csv.yaml
excels/sub1/subsub1/my_devices_csv.csv<span class="w"> </span>-&gt;<span class="w"> </span>yamls/sub1/subsub1<span class="w"> </span>my_devices_csv.yaml
Errors:
excels/my_devices_csv.csv<span class="w"> </span>has<span class="w"> </span>an<span class="w"> </span>error:<span class="w"> </span>Duplicate<span class="w"> </span>hostname<span class="w"> </span><span class="s2">&quot;R2_xr&quot;</span><span class="w"> </span>detected
excels/my_devices_test_err.csv<span class="w"> </span>has<span class="w"> </span>an<span class="w"> </span>error:<span class="w"> </span><span class="s1">&#39;Every device must have a hostname&#39;</span>
excels/my_devices_test_err.xlsx<span class="w"> </span>has<span class="w"> </span>an<span class="w"> </span>error:<span class="w"> </span>Error<span class="w"> </span>-3<span class="w"> </span><span class="k">while</span><span class="w"> </span>decompressing<span class="w"> </span>data:<span class="w"> </span>invalid<span class="w"> </span>code<span class="w"> </span>--<span class="w"> </span>missing<span class="w"> </span>end-of-block
Warnings:
excels/not_excel.txt<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>excel<span class="w"> </span>or<span class="w"> </span>csv
excels/my_devices_csv.yaml<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>excel<span class="w"> </span>or<span class="w"> </span>csv
excels/sub1/not_sub_excel.txt<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>excel<span class="w"> </span>or<span class="w"> </span>csv
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The added <code class="xref py py-obj docutils literal notranslate"><span class="pre">-r</span></code> option above will enable genie to look for excels in subdirectories.</p>
</div>
</section>
<section id="generate-by-entering-device-data">
<h3>Generate by entering device data<a class="headerlink" href="#generate-by-entering-device-data" title="Permalink to this heading"></a></h3>
<p>Don’t have an excel sheet or a csv? Don’t worry we got you covered! You can manually input the device data without providing the csv/excel file.
Just follow the prompt from the program to enter the data:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>venv<span class="o">)</span>demo$<span class="w"> </span>pyats<span class="w"> </span>create<span class="w"> </span>testbed<span class="w"> </span>interactive<span class="w"> </span>--output<span class="w"> </span>yaml<span class="w"> </span>my_testbed.yaml<span class="w"> </span>--encode-password
Start<span class="w"> </span>creating<span class="w"> </span>Testbed<span class="w"> </span>yaml<span class="w"> </span>file<span class="w"> </span>...
Do<span class="w"> </span>all<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>devices<span class="w"> </span>have<span class="w"> </span>the<span class="w"> </span>same<span class="w"> </span>username?<span class="w"> </span><span class="o">[</span>y/n<span class="o">]</span><span class="w"> </span>y
Common<span class="w"> </span>Username:<span class="w"> </span>admin
Do<span class="w"> </span>all<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>devices<span class="w"> </span>have<span class="w"> </span>the<span class="w"> </span>same<span class="w"> </span>default<span class="w"> </span>password?<span class="w"> </span><span class="o">[</span>y/n<span class="o">]</span><span class="w"> </span>y
Common<span class="w"> </span>Default<span class="w"> </span>Password<span class="w"> </span><span class="o">(</span>leave<span class="w"> </span>blank<span class="w"> </span><span class="k">if</span><span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>on<span class="w"> </span>demand<span class="o">)</span>:
Do<span class="w"> </span>all<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>devices<span class="w"> </span>have<span class="w"> </span>the<span class="w"> </span>same<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>password?<span class="w"> </span><span class="o">[</span>y/n<span class="o">]</span><span class="w"> </span>n
Device<span class="w"> </span>hostname:<span class="w"> </span>R1
<span class="w">    </span>IP<span class="w"> </span><span class="o">(</span>ip,<span class="w"> </span>or<span class="w"> </span>ip:port<span class="o">)</span>:<span class="w"> </span><span class="m">172</span>.15.192.101:17001
<span class="w">    </span>Enable<span class="w"> </span>Password<span class="w"> </span><span class="o">(</span>leave<span class="w"> </span>blank<span class="w"> </span><span class="k">if</span><span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>on<span class="w"> </span>demand<span class="o">)</span>:
<span class="w">    </span>Protocol<span class="w"> </span><span class="o">(</span>ssh,<span class="w"> </span>telnet,<span class="w"> </span>...<span class="o">)</span>:<span class="w"> </span>ssh
<span class="w">    </span>OS<span class="w"> </span><span class="o">(</span>iosxr,<span class="w"> </span>iosxe,<span class="w"> </span>ios,<span class="w"> </span>nxos,<span class="w"> </span>linux,<span class="w"> </span>...<span class="o">)</span>:<span class="w"> </span>iosxe
More<span class="w"> </span>devices<span class="w"> </span>to<span class="w"> </span>add<span class="w"> </span>?<span class="w"> </span><span class="o">[</span>y/n<span class="o">]</span><span class="w"> </span>y
Device<span class="w"> </span>hostname:<span class="w"> </span>R2
<span class="w">    </span>IP<span class="w"> </span><span class="o">(</span>ip,<span class="w"> </span>or<span class="w"> </span>ip:port<span class="o">)</span>:<span class="w"> </span><span class="m">172</span>.25.192.102:17002
<span class="w">    </span>Enable<span class="w"> </span>Password<span class="w"> </span><span class="o">(</span>leave<span class="w"> </span>blank<span class="w"> </span><span class="k">if</span><span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>on<span class="w"> </span>demand<span class="o">)</span>:
<span class="w">    </span>Protocol<span class="w"> </span><span class="o">(</span>ssh,<span class="w"> </span>telnet,<span class="w"> </span>...<span class="o">)</span>:<span class="w"> </span>ssh
<span class="w">    </span>OS<span class="w"> </span><span class="o">(</span>iosxr,<span class="w"> </span>iosxe,<span class="w"> </span>ios,<span class="w"> </span>nxos,<span class="w"> </span>linux,<span class="w"> </span>...<span class="o">)</span>:<span class="w"> </span>iosxr
More<span class="w"> </span>devices<span class="w"> </span>to<span class="w"> </span>add<span class="w"> </span>?<span class="w"> </span><span class="o">[</span>y/n<span class="o">]</span><span class="w"> </span>n
Testbed<span class="w"> </span>file<span class="w"> </span>generated:
yaml/my_testbed.yaml
</pre></div>
</div>
<p>This will give us the below yaml (note the hidden password):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">devices</span><span class="p">:</span>
<span class="w">  </span><span class="nt">R1</span><span class="p">:</span>
<span class="w">    </span><span class="nt">connections</span><span class="p">:</span>
<span class="w">      </span><span class="nt">cli</span><span class="p">:</span>
<span class="w">        </span><span class="nt">ip</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.15.192.101</span>
<span class="w">        </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">17001</span>
<span class="w">        </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ssh</span>
<span class="w">    </span><span class="nt">credentials</span><span class="p">:</span>
<span class="w">      </span><span class="nt">default</span><span class="p">:</span>
<span class="w">        </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ENC(w5PDosOUw5fDog==)</span>
<span class="w">        </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin</span>
<span class="w">      </span><span class="nt">enable</span><span class="p">:</span>
<span class="w">        </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ENC(w5PDosOUw5fDosK-w4nDk8OHw4PDocOR)</span>
<span class="w">    </span><span class="nt">os</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">iosxe</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">iosxe</span>
<span class="w">  </span><span class="nt">R2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">connections</span><span class="p">:</span>
<span class="w">      </span><span class="nt">cli</span><span class="p">:</span>
<span class="w">        </span><span class="nt">ip</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.25.192.102</span>
<span class="w">        </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">17002</span>
<span class="w">        </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ssh</span>
<span class="w">    </span><span class="nt">credentials</span><span class="p">:</span>
<span class="w">      </span><span class="nt">default</span><span class="p">:</span>
<span class="w">        </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ENC(w5PDosOUw5fDog==)</span>
<span class="w">        </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin</span>
<span class="w">      </span><span class="nt">enable</span><span class="p">:</span>
<span class="w">        </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ENC(w5PDosOUw5fDosK-w4nDk8OHw4PDocORw5PDl8Od)</span>
<span class="w">    </span><span class="nt">os</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">iosxr</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">iosxr</span>
</pre></div>
</div>
</section>
<section id="generate-csv-excel-template">
<h3>Generate csv/excel template<a class="headerlink" href="#generate-csv-excel-template" title="Permalink to this heading"></a></h3>
<p>Too much work? You know can also generate a excel file template to fill in yourself:</p>
<p>Use the <code class="xref py py-obj docutils literal notranslate"><span class="pre">--add-keys</span></code> option if you want to add more optional keys to your template.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>venv<span class="o">)</span>demo$<span class="w"> </span>pyats<span class="w"> </span>create<span class="w"> </span>testbed<span class="w"> </span>template<span class="w"> </span>--output<span class="w"> </span>my_template.xlsx<span class="w"> </span>--add-keys<span class="w"> </span><span class="nb">alias</span><span class="w"> </span><span class="nb">type</span>
...<span class="w"> </span>Template<span class="w"> </span>file<span class="w"> </span>generated:<span class="w"> </span>my_template.xlsx
</pre></div>
</div>
</section>
<section id="generate-from-ansible-inventory-file">
<h3>Generate from Ansible inventory file<a class="headerlink" href="#generate-from-ansible-inventory-file" title="Permalink to this heading"></a></h3>
<p>Having Ansible inventory file already and want to leverage it even with pyATS?
Yes! We offer the option to convert the Ansible inventory file to pyATS testbed yaml.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>venv<span class="o">)</span>demo$<span class="w"> </span>pyats<span class="w"> </span>create<span class="w"> </span>testbed<span class="w"> </span>ansible<span class="w"> </span>--output<span class="w"> </span>testbed.yaml<span class="w"> </span>--inventory-name<span class="w"> </span>inventory.ini
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Add the <code class="xref py py-obj docutils literal notranslate"><span class="pre">--encode-password</span></code> option to hide the password in the yaml as a secret string.
However this is only for the purpose of obfuscation, the password is not cryptographically secure. Please refer to <a class="reference external" href="http://wwwin-pyats.cisco.com/documentation/latest/utilities/secret_strings.html#secret-strings">Secret String</a> for more detail.</p>
</div>
</section>
<section id="generate-from-netbox">
<h3>Generate from Netbox<a class="headerlink" href="#generate-from-netbox" title="Permalink to this heading"></a></h3>
<p>You are managing network devices on Netbox and want to generate pyATS testbed yaml from the source of truth? Of course, you can! <code class="xref py py-obj docutils literal notranslate"><span class="pre">pyats</span> <span class="pre">create</span> <span class="pre">testbed</span> <span class="pre">netbox</span></code> command can access to Netbox via REST API and retrieves device data and convert to testbed file.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>venv<span class="o">)</span>demo$<span class="w"> </span>pyats<span class="w"> </span>create<span class="w"> </span>testbed<span class="w"> </span>netbox<span class="w"> </span>--output<span class="w"> </span>testbed.yaml<span class="w"> </span>--netbox-url<span class="o">=</span>&lt;netbox<span class="w"> </span>url&gt;<span class="w"> </span>--user-token<span class="o">=</span>&lt;token&gt;
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Add the <code class="xref py py-obj docutils literal notranslate"><span class="pre">--encode-password</span></code> option to hide the password in the yaml as a secret string.
However this is only for the purpose of obfuscation, the password is not cryptographically secure. Please refer to <a class="reference external" href="http://wwwin-pyats.cisco.com/documentation/latest/utilities/secret_strings.html#secret-strings">Secret String</a> for more detail.</p>
</div>
</section>
</section>
<section id="genie-create-parser">
<h2>Genie Create Parser<a class="headerlink" href="#genie-create-parser" title="Permalink to this heading"></a></h2>
<p>This subcommand uses cookiecutter to generate a new Genie parser.
The generated folder contains a parser template and a parser unittest template</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Usage:
  genie create parser [options]

Description:
  create a Genie parser from cookiecutter template, located at:
      https://github.com/CiscoTestAutomation/genie-parser-template

Parser Options:
  --parser_name PARSER_NAME
                        name of parser to be generated
  --os OS               Cisco OS for the parser

General Options:
  -h, --help            Show help
  -v, --verbose         Give more output, additive up to 3 times.
  -q, --quiet           Give less output, additive up to 3 times, corresponding to WARNING, ERROR, and CRITICAL logging levels
</pre></div>
</div>
<p>By default, the command will prompt you for information it needs to generate
the parser from template. These prompts can be automated if you provide the
corresponding command line arguments.</p>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this heading"></a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># Example
# -------
#
#   creating a parser by entering everything through the prompts

bash$ genie create parser
Checking if cookiecutter is installed...
Parser Name: my_parser
Cisco OS for the parser [IOSXE/IOSXR/NXOS]: IOSXE
Generating your project...

# this will create a new folder with your provided parser name, containing
# the template files

bash $ tree my_parser/
my_parser/
├── my_parser.py
└── test_my_parser.py
</pre></div>
</div>
</section>
</section>
<section id="genie-create-trigger">
<h2>genie create trigger<a class="headerlink" href="#genie-create-trigger" title="Permalink to this heading"></a></h2>
<p>Just like <code class="xref py py-obj docutils literal notranslate"><span class="pre">genie</span> <span class="pre">create</span> <span class="pre">parser</span></code>, this subcommand uses cookiecutter to generate a new Genie trigger.
The generated folder contains a trigger template and a trigger datafile template</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Usage:
  genie create trigger [options]

Description:
  create a Genie trigger from cookiecutter template, located at:
      https://github.com/CiscoTestAutomation/genie-trigger-template

Trigger Options:
  --trigger_name TRIGGER_NAME
                        name of trigger to be generated
  --action ACTION       action the trigger will perform
  --undo_action UNDO_ACTION
                        undo action the trigger will perform

General Options:
  -h, --help            Show help
  -v, --verbose         Give more output, additive up to 3 times.
  -q, --quiet           Give less output, additive up to 3 times, corresponding to WARNING, ERROR, and CRITICAL logging levels
</pre></div>
</div>
<p>By default, the command will prompt you for information it needs to generate
the trigger from template. These prompts can be automated if you provide the
corresponding command line arguments.</p>
<section id="id1">
<h3>Example<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># Example
# -------
#
#   creating a trigger by entering everything through the prompts

bash$ pyats create trigger
Checking if cookiecutter is installed...
Trigger Name: my_trigger
Action the trigger will perform (ex. Add): Shut
Undo action the trigger will perform (ex. Remove): NoShut
Generating your project...

# this will create a new folder with your provided trigger name, containing
# the template files

bash $ tree my_trigger/
my_trigger/
├── my_trigger.py
└── my_trigger_datafile.yaml
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="genie_dnac.html" class="btn btn-neutral float-left" title="Genie DNAC" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../solutions/index.html" class="btn btn-neutral float-right" title="Genie Solutions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Cisco Systems Inc..
      <span class="lastupdated">Last updated on Dec 30, 2024.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>