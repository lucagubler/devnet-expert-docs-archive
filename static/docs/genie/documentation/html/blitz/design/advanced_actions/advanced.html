<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>parallel &mdash; Genie Documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/asciinema-player.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/genie_ico.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/asciinema-player.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Customizing Blitz" href="../customization/index.html" />
    <link rel="prev" title="Advanced Actions" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            pyATS Library: Genie
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cookbooks/index.html">Getting Started</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../userguide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../clean/index.html">pyATS Clean</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">pyATS Blitz</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Design</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../actions/actions.html">List of blitz actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../save/index.html">Save action outputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../save/index.html#re-use-variables">Re-use variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../save/index.html#save-variables-in-testscript-level">Save variables in testscript level</a></li>
<li class="toctree-l3"><a class="reference internal" href="../save/index.html#save-action-outputs-to-files">Save action outputs to files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../save/index.html#save-action-outputs-as-dictionary">Save action outputs as dictionary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../verification/index.html">Verifying actions output</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Advanced Actions</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">parallel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#loop">loop</a></li>
<li class="toctree-l4"><a class="reference internal" href="#run-condition">run_condition</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../customization/index.html">Customizing Blitz</a></li>
<li class="toctree-l3"><a class="reference internal" href="../negative.html">Negative testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../terminate.html">Script termination on failure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reply.html">Replying to the prompt dialogue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../result_status.html">Changing the result status</a></li>
<li class="toctree-l3"><a class="reference internal" href="../timeout.html">Trigger timeout/interval ratio adjustments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../steps.html">Customizing steps log messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tips.html">Useful tips and tricks in Blitz</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../usage/usage.html">Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../health/index.html">pyATS Health Check</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cli/index.html">Genie Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../solutions/index.html">Genie Solutions</a></li>
<li class="toctree-l1"><a class="reference external" href="https://wiki.cisco.com/pages/viewpage.action?pageId=831194226">Internal Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/apis">Available APIs</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/clean">Available Clean Stages</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/models">Available Models (Conf/Ops)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/parsers">Available Parsers</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/triggers">Available Triggers</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/verifications">Available Verifications</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../abstract/index.html">Library Abstraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../metaparser/index.html">Metaparsers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../parsergen/index.html">CLI Auto-Parser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../predcore/index.html">Predicates</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../roadmap/index.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog/index.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">pyATS Library: Genie</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">pyATS Blitz</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Design</a></li>
          <li class="breadcrumb-item"><a href="index.html">Advanced Actions</a></li>
      <li class="breadcrumb-item active">parallel</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="parallel">
<span id="advanced"></span><h1>parallel<a class="headerlink" href="#parallel" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>In some testcases executing actions in parallel can save huge amount of time.
In this section we will discuss how to execute multiple actions in parallel.</p>
<p>You can run multiple actions concurrently by defining your actions after the keyword <code class="xref py py-obj docutils literal notranslate"><span class="pre">parallel</span></code> within
your <em>trigger_datafile</em>. Below you can see an example of of configuring multiple devices in parallel.</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">verify_configuration</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">- parallel</span><span class="p p-Indicator">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">configure</span><span class="p">:</span>
<span class="w">                </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE1</span>
<span class="w">                </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">feature bgp</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">configure</span><span class="p">:</span>
<span class="w">                </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE2</span>
<span class="w">                </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">feature bgp</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">configure</span><span class="p">:</span>
<span class="w">                </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">xe_rx</span>
<span class="w">                </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">feature bgp</span>
<span class="nn">...</span>
</pre></div>
</div>
<p>While you can execute actions in parallel to make the execution of a <em>trigger_datafile</em> faster,
you can still run some other actions in the same sequential manner. In below example action <code class="docutils literal notranslate"><span class="pre">execute</span></code>
gets executed first and then two actions <code class="docutils literal notranslate"><span class="pre">api</span></code> and <code class="docutils literal notranslate"><span class="pre">parse</span></code> start their work in parallel, and finally
the action <code class="docutils literal notranslate"><span class="pre">sleep</span></code> start its work for 5 seconds.</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="c1"># Actions &#39;execute&#39; and &#39;sleep&#39; are being executed on a sequential manner</span>
<span class="w">    </span><span class="c1"># While &#39;api&#39; and &#39;parse&#39; are executed at the same time</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">apply_configuration</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">execute</span><span class="p">:</span>
<span class="w">            </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE1</span>
<span class="w">            </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show version</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">parallel</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">api</span><span class="p">:</span>
<span class="w">                </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE1</span>
<span class="w">                </span><span class="nt">function</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">get_interface_mtu_config_range</span>
<span class="w">                </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P2</span>
<span class="w">                  </span><span class="nt">interface</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GigabitEthernet1</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">parse</span><span class="p">:</span>
<span class="w">                </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show bgp process vrf all</span>
<span class="w">                </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P1</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">sleep</span><span class="p">:</span>
<span class="w">            </span><span class="nt">sleep_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="nn">...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please note that you cannot save a variable in parallel and immediately use it in another action
that is being executed in the same parallel block. However, you still can save a variable in an action
that being executed in a parallel block, and use it outside that parallel block later. If you want to use a
variable in an action that is being executed in parallel, you need to save that variable beforehand in an
action outside of that parallel block.</p>
</div>
<p>In below <code class="xref py py-obj docutils literal notranslate"><span class="pre">example</span></code> value <code class="docutils literal notranslate"><span class="pre">min</span></code> and <code class="docutils literal notranslate"><span class="pre">max</span></code> are saved from the output of the <em>get_interface_mtu_config_range</em>
api action and later is being used in <em>get_interface_mtu_size</em> api that is going to be executed in parallel
along with a <code class="docutils literal notranslate"><span class="pre">configure</span></code> action. Within the same parallel block the output of the action <code class="docutils literal notranslate"><span class="pre">configure</span></code> is being saved
to be used later in other actions.</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="nt">test_sections</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">apply_configuration</span><span class="p">:</span>

<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">api</span><span class="p">:</span>
<span class="w">            </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE2</span>
<span class="w">            </span><span class="nt">function</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">get_interface_mtu_config_range</span>
<span class="w">            </span><span class="nt">save</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">min</span>
<span class="w">              </span><span class="nt">filter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">contains(&#39;min&#39;)</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">max</span>
<span class="w">              </span><span class="nt">filter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">contains(&#39;max&#39;)</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">parallel</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">api</span><span class="p">:</span>
<span class="w">                </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE1</span>
<span class="w">                </span><span class="nt">function</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">get_interface_mtu_size</span>
<span class="w">                </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">interface</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GigabitEthernet1</span>
<span class="w">                </span><span class="nt">include</span><span class="p">:</span>
<span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;&gt;=</span><span class="nv"> </span><span class="s">%VARIABLES{min}</span><span class="nv"> </span><span class="s">&amp;&amp;</span><span class="nv"> </span><span class="s">&lt;=</span><span class="nv"> </span><span class="s">%VARIABLES{max}</span><span class="nv"> </span><span class="s">&quot;</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">configure</span><span class="p">:</span>
<span class="w">                </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE1</span>
<span class="w">                </span><span class="nt">save</span><span class="p">:</span>
<span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">another_configure_output</span>
<span class="w">                </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                    </span><span class="no">router bgp 65000</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">execute</span><span class="p">:</span>
<span class="w">              </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE1</span>
<span class="w">              </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show interface</span>
<span class="w">              </span><span class="nt">include</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;%VARIABLES{another_configure_output}&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can run multiple actions on one device in parallel. However to make sure that actions are actually
running in parallel you need to have multiple sessions of your device open. You can learn how to have multiple sessions open on a device bt following this <a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-docs/docs/userguide/harness/user/datafile.html#mapping-datafile">link</a>.</p>
</div>
</section>
<section id="loop">
<h1>loop<a class="headerlink" href="#loop" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>In <em>Blitz</em>, a loop is a sequence of actions that is iterated until a certain terminating condition is reached.
Looping allows the development of more dynamic testcases.</p>
<p>Lets take a look at a basic examples of looping before diving deeper into looping in Blitz.
In the below <em>Blitz</em> section, the loop is above an execute action.</p>
<p>The goal is to run this action twice on the same device using 2 different commands, without writing two separate execute
actions with 2 different commands. This can be achieved simply by using loop like below.
In the below example The loop_variable_name will be the name of the loop value that will be reused in the action.
The value here is a list of show commands. Here each show commands get saved into the variable_name ‚Äúcommand‚Äù and in the execute action would be loaded as the actual command.
The execute action would run twice once executing show version command and once executing show vrf command both times on the device PE1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>An iteration here means, one execution of all the actions below the keyword loop. In below example we have 2 iterations.</p>
</div>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">apply_config</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">loop</span><span class="p">:</span>
<span class="w">        </span><span class="nt">loop_variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">command</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show version</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show vrf</span>
<span class="w">        </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">execute</span><span class="p">:</span>
<span class="w">              </span><span class="nt">alias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">execute_</span>
<span class="w">              </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE1</span>
<span class="w">              </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{command}&quot;</span>
</pre></div>
</div>
<p>Each loop can contains the following keywords as explained in the table:</p>
<a class="reference internal image-reference" href="../../../_images/table.png"><img alt="../../../_images/table.png" src="../../../_images/table.png" style="width: 260%;" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A loop can only have one of the <code class="docutils literal notranslate"><span class="pre">value</span></code>, <code class="docutils literal notranslate"><span class="pre">range</span></code>, <code class="docutils literal notranslate"><span class="pre">until</span></code>, <code class="docutils literal notranslate"><span class="pre">do_until</span></code>.</p>
</div>
<p>There are a lot of use cases for looping with various features. Examples can be found below.</p>
<p><strong>Example-1: Loop over dictionary/hash</strong></p>
<p>Each dictionary is a collection of key value pairs.
To use the keys and values of the dictionary you can use the keywords <code class="docutils literal notranslate"><span class="pre">._keys</span></code> and <code class="docutils literal notranslate"><span class="pre">._values</span></code></p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">loop</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># looping over a dictionary and applying values within action in same level and actions that re in the nested loop</span>
<span class="w">    </span><span class="nt">loop_variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">l_dict</span>
<span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w">                          </span><span class="c1"># l_dict will represent each item upon iteration in this dictionary</span>
<span class="w">      </span><span class="nt">inventory_save</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">inventory</span>
<span class="w">      </span><span class="nt">module_save</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vrf</span>
<span class="w">    </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">execute</span><span class="p">:</span>
<span class="w">            </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE1</span>
<span class="w">            </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show %VARIABLES{l_dict._values}</span><span class="w">            </span><span class="c1"># l_dict.values will be inventory and vrf in order</span>
<span class="w">            </span><span class="nt">save</span><span class="p">:</span><span class="w">                                               </span><span class="c1"># The output of the action gets saved respectively in the specified values.</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">variable_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{l_dict._keys}&quot;</span><span class="w">       </span><span class="c1"># l_dict.keys will be inventory_save and module_save in order.</span>
<span class="w">            </span><span class="nt">include</span><span class="p">:</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;state&quot;</span>
</pre></div>
</div>
<p><strong>Example-2: Loop over a list of device names</strong></p>
<p>Loop over a list of device names, and run actions
on the various devices without duplicating that action.</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">loop</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># A loop that runs one action over different devices</span>
<span class="w">    </span><span class="nt">loop_variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">devices</span>
<span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w">         </span><span class="c1"># a list of device names</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE1</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE2</span>
<span class="w">    </span><span class="nt">parallel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="w">    </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">configure</span><span class="p">:</span>
<span class="w">          </span><span class="c1"># The action name</span>
<span class="w">          </span><span class="nt">alias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">execute_</span>
<span class="w">          </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{devices}&quot;</span>
<span class="w">          </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">feature bgp</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In <strong>Example-2</strong> script would configure 2 devices with same command in parallel, without writing duplicate blocks of text.</p>
</div>
<p><strong>Example-3: Executing actions until the api output is passed</strong></p>
<p>Loop over actions for maximum time of 5 seconds, execute actions once (one iteration).
If the result of first action was not equal to ‚Äúpassed‚Äù,
terminate the loop, else continue until the condition is met or
max_time is reached</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">loop</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># Loop over an action at least running it once and if a condition met terminate the loop</span>
<span class="w">    </span><span class="nt">do_until</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{api_mtu_size}</span><span class="nv"> </span><span class="s">!=</span><span class="nv"> </span><span class="s">passed&quot;</span>
<span class="w">    </span><span class="nt">max_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">    </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">api</span><span class="p">:</span>
<span class="w">              </span><span class="nt">alias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">api_mtu_size</span>
<span class="w">              </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">get the api value and verify the output</span>
<span class="w">              </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%{testbed.devices.PE1.alias}&quot;</span>
<span class="w">              </span><span class="nt">function</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">get_interface_mtu_size</span>
<span class="w">              </span><span class="nt">save</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nbc</span>
<span class="w">              </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">                </span><span class="nt">interface</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GigabitEthernet1</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">execute</span><span class="p">:</span>
<span class="w">              </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show vrf</span>
<span class="w">              </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE2</span>
</pre></div>
</div>
<p><strong>Example-4: Executing actions twice with range: 2</strong></p>
<p>Looping over an action twice (two iteration) since the range is 2, and each time,
and run a couple of actions in parallel
Also after each parallel call sleep for amount of the range value, so once for one second and the other for two seconds.</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">loop</span><span class="p">:</span>
<span class="w">    </span><span class="nt">range</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">    </span><span class="nt">loop_variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">range_name</span>
<span class="w">    </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">parallel</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">parse</span><span class="p">:</span>
<span class="w">            </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE1</span>
<span class="w">            </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show version</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">execute</span><span class="p">:</span>
<span class="w">            </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE2</span>
<span class="w">            </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show version</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">sleep</span><span class="p">:</span>
<span class="w">            </span><span class="nt">sleep_time</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{range_name}&quot;</span>
</pre></div>
</div>
<p><strong>Example-5: Looping over actions with regards to range that has an starting and ending point</strong></p>
<p>In this example the range number will be printed. The starting number is 1 and the final number will be 5. Number 6 wont be included in the range.</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">loop</span><span class="p">:</span>
<span class="w">    </span><span class="nt">loop_variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">range_num</span>
<span class="w">    </span><span class="nt">range</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1,6</span>
<span class="w">    </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">print</span><span class="p">:</span>
<span class="w">            </span><span class="nt">item</span><span class="p">:</span>
<span class="w">                </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{range_num}&quot;</span>
</pre></div>
</div>
<p><strong>Example-6: Synchronizing with every_seconds</strong></p>
<p>The keyword <code class="docutils literal notranslate"><span class="pre">every_seconds</span></code> is defined so users can manage their loop and if possible run it with synchronized timing.
If the execution of an iteration of a loop exceeds the time assigned for every_seconds, the loop would still continue its work but a warning would be
printed into the log. <strong>Example-6</strong> shows how <code class="docutils literal notranslate"><span class="pre">every_seconds</span></code> work.</p>
<p>This action is looping over a list of size two, hence two iteration and each iteration should take 8 seconds
if the iteration ends in less than 8 seconds, the loop would sleep for the remaining of that time and after reaching 8 seconds
it would execute the other iteration. The total time of execution in this case would be 16 seconds.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Keep in mind if an iteration takes more than 8 seconds the action will continue, it will not terminate after 8 seconds.
The 8 second is the minimal interval between the loop.</p>
</div>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">loop</span><span class="p">:</span>
<span class="w">    </span><span class="nt">loop_variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">banana</span>
<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">version</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vrf</span>
<span class="w">    </span><span class="nt">every_seconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8</span>
<span class="w">    </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">execute</span><span class="p">:</span>
<span class="w">                </span><span class="nt">alias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">execute_</span>
<span class="w">                </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uut</span>
<span class="w">                </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show %VARIABLES{banana}</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">parse</span><span class="p">:</span>
<span class="w">                </span><span class="nt">alias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">parse_</span>
<span class="w">                </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uut</span>
<span class="w">                </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show version</span>
</pre></div>
</div>
<p><strong>Example-7: Looping over multiple values</strong></p>
<p>In case that the goal is to loop over more than one iterable at the same time (over 2 or more list, a combination of lists or dict etc.),
you can define your <code class="docutils literal notranslate"><span class="pre">loop_variable_name</span></code> to have a list of variable names along with a list of iterables. Blitz then would zip each iterable to its variable name
accordingly, and use items of multiple iterable within your actions that are iterating.</p>
<p>Below example attempts to reuse items of 3 different lists and print each list item. variable name <code class="docutils literal notranslate"><span class="pre">a</span></code> is going to represent list <code class="docutils literal notranslate"><span class="pre">[1,2]</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code> is going to represent list <code class="docutils literal notranslate"><span class="pre">['d',</span> <span class="pre">'e']</span></code>,
and <code class="docutils literal notranslate"><span class="pre">c</span></code> will map to [0, 98]</p>
<p>This way you are iterating over 3 different lists at the same using one single loop.</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">loop</span><span class="p">:</span>
<span class="w">    </span><span class="nt">loop_variable_name</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;a&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;b&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;c&#39;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">1</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">2</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;d&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;e&#39;</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">98</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">print</span><span class="p">:</span>
<span class="w">            </span><span class="nt">item_a</span><span class="p">:</span>
<span class="w">                </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{a}&quot;</span>
<span class="w">            </span><span class="nt">item_b</span><span class="p">:</span>
<span class="w">                </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{b}&quot;</span>
<span class="w">            </span><span class="nt">item_c</span><span class="p">:</span>
<span class="w">                </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{c}&quot;</span>
</pre></div>
</div>
<p>The print action here would print <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">'d',</span> <span class="pre">0]</span></code> in the first iteration and in the next iteration it print <code class="docutils literal notranslate"><span class="pre">[2,</span> <span class="pre">'e',</span> <span class="pre">98]</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure that you have a variable name for each iterable that you are defining. Failure to do so would results in failure of the testcase.</p>
</div>
<p><strong>Example-8: Nested looping in Blitz</strong></p>
<p>There are cases that the users might want to iterate over
various values. Using nested loop would provide users with that functionality. Below shows the example of how you can implement nested loops
in your script.</p>
<p>in this example, the first loop has a dictionary value. The item of the second loop that is nested
in the first loop have access to both the values of the dictionary in the first loop and the list in the second loop.</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">loop</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># looping over a dictionary and applying values within action in same level and actions that re in the nested loop</span>
<span class="w">    </span><span class="nt">loop_variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">l_dict</span>
<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">inventory_save</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">inventory</span>
<span class="w">      </span><span class="nt">module_save</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vrf</span>
<span class="w">    </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">api</span><span class="p">:</span>
<span class="w">          </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE2</span>
<span class="w">          </span><span class="nt">function</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">get_interface_mtu_config_range</span>
<span class="w">          </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">            </span><span class="nt">interface</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GigabitEthernet1</span>
<span class="w">          </span><span class="nt">save</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">max</span>
<span class="w">              </span><span class="nt">filter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">get_values(&#39;max&#39;)</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">loop</span><span class="p">:</span>
<span class="w">          </span><span class="c1"># Looping on a range of value, this instance it runs twice, you still can use the range number in your actions</span>
<span class="w">          </span><span class="nt">value</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show version</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show vrf</span>
<span class="w">          </span><span class="nt">loop_variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">list_name</span>
<span class="w">          </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">parallel</span><span class="p">:</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">execute</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE1</span>
<span class="w">                  </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show %VARIABLES{l_dict._values}</span>
<span class="w">                  </span><span class="nt">save</span><span class="p">:</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">variable_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{l_dict._keys}&quot;</span>
<span class="w">                  </span><span class="nt">include</span><span class="p">:</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;state&quot;</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">execute</span><span class="p">:</span>
<span class="w">                </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{list_name}&quot;</span>
<span class="w">                </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PE2</span>
</pre></div>
</div>
</section>
<section id="run-condition">
<h1>run_condition<a class="headerlink" href="#run-condition" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>It is possible to run (or not run) a set of actions with regards to a conditional statement.
This can be achieved by running actions below the keyword run_condition.
To run actions with a conditional statement, <em>Blitz</em> expects:</p>
<ul class="simple">
<li><p>An if statement with boolean value (True or False statement).</p></li>
<li><p>(Optional) An elif statement with boolean value (True or False statement).</p></li>
<li><p>(Optional) An else statement, the actions under else are executed when the booleans for the if and elif statements are all False.</p></li>
<li><p>A set of actions (e.g parse, execute etc.) that would be specified under keyword <code class="docutils literal notranslate"><span class="pre">actions</span></code>.</p></li>
<li><p>(Optional) A function that can be the result of all the actions under run_condition if the boolean condition is equal <strong>True</strong>.</p></li>
<li><p>(Optional) A description for logging purposes</p></li>
</ul>
<p>The function can be one from this list <code class="docutils literal notranslate"><span class="pre">[passed,</span> <span class="pre">failed,</span> <span class="pre">aborted,</span> <span class="pre">skipped,</span> <span class="pre">blocked,</span> <span class="pre">errored,</span> <span class="pre">passx]</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The function will be applied only if the if statement is equal True, otherwise actions will be running normally.</p>
</div>
<p><strong>Example-1: if statment == True</strong></p>
<p>All the actions that are under this keyword will be executed</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run_condition</span><span class="p">:</span>

<span class="w">    </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2000</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">2000&quot;</span>
<span class="w">    </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">api</span><span class="p">:</span>
<span class="w">          </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%{testbed.devices.PE1.alias}&quot;</span>
<span class="w">          </span><span class="nt">function</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">get_interface_mtu_size</span>
<span class="w">          </span><span class="nt">save</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nbc</span>
<span class="w">          </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">            </span><span class="nt">interface</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GigabitEthernet1</span>
<span class="w">          </span><span class="nt">include</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;&gt;=</span><span class="nv"> </span><span class="s">1400</span><span class="nv"> </span><span class="s">&amp;&amp;</span><span class="nv"> </span><span class="s">&lt;=</span><span class="nv"> </span><span class="s">1600&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">sleep</span><span class="p">:</span>
<span class="w">          </span><span class="nt">sleep_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
<p><strong>Example-2: if statment == False</strong></p>
<p>All the actions that are under this keyword wont be executed</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run_condition</span><span class="p">:</span>
<span class="w">  </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2000</span><span class="nv"> </span><span class="s">!=</span><span class="nv"> </span><span class="s">2000&quot;</span>
<span class="w">  </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">api</span><span class="p">:</span>
<span class="w">        </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%{testbed.devices.PE1.alias}&quot;</span>
<span class="w">        </span><span class="nt">function</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">get_interface_mtu_size</span>
<span class="w">        </span><span class="nt">save</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nbc</span>
<span class="w">        </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">          </span><span class="nt">interface</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GigabitEthernet1</span>
<span class="w">        </span><span class="nt">include</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;&gt;=</span><span class="nv"> </span><span class="s">1400</span><span class="nv"> </span><span class="s">&amp;&amp;</span><span class="nv"> </span><span class="s">&lt;=</span><span class="nv"> </span><span class="s">1600&quot;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">sleep</span><span class="p">:</span><span class="w">         </span><span class="c1"># will sleep for a sec</span>
<span class="w">        </span><span class="nt">sleep_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
<p>Using the run_condition, users can evaluate various conditional statements before running their actions.
Examples are provided below for these conditional statements.</p>
<p><strong>Example-3: running an action if another section has passed</strong></p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="nt">test</span><span class="p">:</span>
<span class="w">    </span><span class="nt">source</span><span class="p">:</span>
<span class="w">        </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">genie.libs.sdk</span>
<span class="w">        </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">triggers.blitz.blitz.Blitz</span>
<span class="w">    </span><span class="nt">devices</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;uut&#39;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">test_sections</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">plain_actions</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">sleep</span><span class="p">:</span>
<span class="w">                </span><span class="nt">sleep_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">apply_config</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run_condition</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{plain_actions}</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">passed&quot;</span>
<span class="w">                   </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">                     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">execute</span><span class="p">:</span>
<span class="w">                         </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show version</span>
<span class="w">                         </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uut</span>
<span class="w">                     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">sleep</span><span class="p">:</span>
<span class="w">                         </span><span class="nt">sleep_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
<p><strong>Example-3: running an action if another action has passed</strong></p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="nt">test</span><span class="p">:</span>
<span class="w">    </span><span class="nt">source</span><span class="p">:</span>
<span class="w">        </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">genie.libs.sdk</span>
<span class="w">        </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">triggers.blitz.blitz.Blitz</span>
<span class="w">    </span><span class="nt">devices</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;uut&#39;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">test_sections</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">apply_config</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">execute</span><span class="p">:</span>
<span class="w">                </span><span class="nt">alias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">execute_alias</span>
<span class="w">                </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show vrf</span>
<span class="w">                </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uut</span>
<span class="w">                </span><span class="nt">include</span><span class="p">:</span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">parser</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run_condition</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{execute_alias}</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">passed&quot;</span>
<span class="w">                   </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">                     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">parse</span><span class="p">:</span>
<span class="w">                         </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show version</span>
<span class="w">                         </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uut</span>
<span class="w">                     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">sleep</span><span class="p">:</span>
<span class="w">                         </span><span class="nt">sleep_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
<p><strong>Example-4: running an action if another saved_variable has the appropriate output</strong></p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="c1"># Description: You can check whether if a saved_variable has the appropriate output</span>

<span class="nt">test</span><span class="p">:</span>
<span class="w">    </span><span class="nt">source</span><span class="p">:</span>
<span class="w">        </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">genie.libs.sdk</span>
<span class="w">        </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">triggers.blitz.blitz.Blitz</span>
<span class="w">    </span><span class="nt">devices</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;uut&#39;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">test_sections</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">apply_config</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">api</span><span class="p">:</span><span class="w">                                              </span><span class="c1"># api output is equal to 1500</span>
<span class="w">                 </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uut</span>
<span class="w">                 </span><span class="nt">function</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">get_interface_mtu_size</span>
<span class="w">                 </span><span class="nt">save</span><span class="p">:</span>
<span class="w">                   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gims_output</span><span class="w">                 </span><span class="c1"># the 1500 is stored in gims_output</span>
<span class="w">                 </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">interface</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GigabitEthernet1</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run_condition</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{gims_output}</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">1500&quot;</span>
<span class="w">                   </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">                     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">parse</span><span class="p">:</span>
<span class="w">                         </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show version</span>
<span class="w">                         </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uut</span>
<span class="w">                     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">sleep</span><span class="p">:</span>
<span class="w">                         </span><span class="nt">sleep_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
<p><strong>Example-5: check multiple conditional statement</strong></p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="nt">test</span><span class="p">:</span>
<span class="w">    </span><span class="nt">source</span><span class="p">:</span>
<span class="w">        </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">genie.libs.sdk</span>
<span class="w">        </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">triggers.blitz.blitz.Blitz</span>
<span class="w">    </span><span class="nt">devices</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;uut&#39;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">test_sections</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">apply_config</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">api</span><span class="p">:</span><span class="w">                                              </span><span class="c1"># api output is equal to 1500</span>
<span class="w">                 </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uut</span>
<span class="w">                 </span><span class="nt">function</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">get_interface_mtu_size</span>
<span class="w">                 </span><span class="nt">save</span><span class="p">:</span>
<span class="w">                   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gims_output</span><span class="w">                 </span><span class="c1"># the 1500 is stored in gims_output</span>
<span class="w">                 </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">interface</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GigabitEthernet1</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">api</span><span class="p">:</span><span class="w">                                              </span><span class="c1"># api output is equal to 1500</span>
<span class="w">                 </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uut</span>
<span class="w">                 </span><span class="nt">function</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">get_interface_mtu_size</span>
<span class="w">                 </span><span class="nt">save</span><span class="p">:</span>
<span class="w">                   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gims_output_1</span><span class="w">                 </span><span class="c1"># the 2500 is stored in gims_output</span>
<span class="w">                 </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">interface</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GigabitEthernet10</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run_condition</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{gims_output}</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">1500</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">%VARIABLES{gims_output}</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">2500&quot;</span>
<span class="w">                   </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">                     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">parse</span><span class="p">:</span>
<span class="w">                         </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show version</span>
<span class="w">                         </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uut</span>
<span class="w">                     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">sleep</span><span class="p">:</span>
<span class="w">                         </span><span class="nt">sleep_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
<p><strong>Example-6: Running actions with if else condition</strong></p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="nt">test</span><span class="p">:</span>
<span class="w">    </span><span class="nt">source</span><span class="p">:</span>
<span class="w">        </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">genie.libs.sdk</span>
<span class="w">        </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">triggers.blitz.blitz.Blitz</span>
<span class="w">    </span><span class="nt">devices</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;uut&#39;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">test_sections</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">apply_config</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">api</span><span class="p">:</span><span class="w">                                              </span><span class="c1"># api output is equal to 1500</span>
<span class="w">                 </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uut</span>
<span class="w">                 </span><span class="nt">function</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">get_interface_mtu_size</span>
<span class="w">                 </span><span class="nt">save</span><span class="p">:</span>
<span class="w">                   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mtu1</span><span class="w">                 </span><span class="c1"># the 1500 is stored in mtu1</span>
<span class="w">                 </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">interface</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GigabitEthernet1</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run_condition</span><span class="p">:</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{mtu1}</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">1200&quot;</span><span class="w">   </span><span class="c1"># mtu1 output is 1500, if condition fails</span>
<span class="w">                </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">parse</span><span class="p">:</span>
<span class="w">                      </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show version</span>
<span class="w">                      </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uut</span>
<span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">sleep</span><span class="p">:</span>
<span class="w">                      </span><span class="nt">sleep_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">else</span><span class="p">:</span><span class="w">                                 </span><span class="c1"># actions under else is executed here</span>
<span class="w">                </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">print</span><span class="p">:</span>
<span class="w">                      </span><span class="nt">item1</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">The mtu is not 1200</span>
</pre></div>
</div>
<p><strong>Example-7: Running actions with if, elif and else condition</strong></p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="nt">test</span><span class="p">:</span>
<span class="w">    </span><span class="nt">source</span><span class="p">:</span>
<span class="w">        </span><span class="nt">pkg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">genie.libs.sdk</span>
<span class="w">        </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">triggers.blitz.blitz.Blitz</span>
<span class="w">    </span><span class="nt">devices</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;uut&#39;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">test_sections</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">apply_config</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">api</span><span class="p">:</span><span class="w">                                              </span><span class="c1"># api output is equal to 1500</span>
<span class="w">                 </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uut</span>
<span class="w">                 </span><span class="nt">function</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">get_interface_mtu_size</span>
<span class="w">                 </span><span class="nt">save</span><span class="p">:</span>
<span class="w">                   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">variable_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mtu1</span><span class="w">               </span><span class="c1"># the 1500 is stored in mtu1</span>
<span class="w">                 </span><span class="nt">arguments</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">interface</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GigabitEthernet1</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run_condition</span><span class="p">:</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{mtu1}</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">1300&quot;</span>
<span class="w">                </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">parse</span><span class="p">:</span>
<span class="w">                      </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show version</span>
<span class="w">                      </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uut</span>
<span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">sleep</span><span class="p">:</span>
<span class="w">                      </span><span class="nt">sleep_time</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">              </span><span class="w w-Error"> </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">elif</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{mtu1}</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">1000&quot;</span>
<span class="w">               </span><span class="w w-Error"> </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">parse</span><span class="p">:</span>
<span class="w">                      </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show ip interface brief</span>
<span class="w">                      </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uut</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">elif</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%VARIABLES{mtu1}</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">1500&quot;</span><span class="w">  </span><span class="c1"># mtu1 output is 1500, elif is executed</span>
<span class="w">                </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">parse</span><span class="p">:</span>
<span class="w">                      </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show version</span>
<span class="w">                      </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uut</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">else</span><span class="p">:</span>
<span class="w">                </span><span class="nt">actions</span><span class="p">:</span>
<span class="w">                  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">print</span><span class="p">:</span>
<span class="w">                      </span><span class="nt">item1</span><span class="p">:</span>
<span class="w">                        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">The mtu does not match any given values.</span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Advanced Actions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../customization/index.html" class="btn btn-neutral float-right" title="Customizing Blitz" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Cisco Systems Inc..
      <span class="lastupdated">Last updated on Dec 30, 2024.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>