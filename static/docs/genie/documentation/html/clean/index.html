<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Introduction to pyATS Clean &mdash; Genie Documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/asciinema-player.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/genie_ico.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/asciinema-player.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Supported Platforms and PowerCyclers" href="supported_os_platform.html" />
    <link rel="prev" title="Useful Libraries" href="../userguide/utils/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            pyATS Library: Genie
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cookbooks/index.html">Getting Started</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../userguide/index.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">pyATS Clean</a><ul>
<li class="toctree-l2"><a class="reference internal" href="supported_os_platform.html">Supported Platforms and PowerCyclers</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/index.html">User Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_guide/index.html">Developer Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="support.html">Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../blitz/index.html">pyATS Blitz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../health/index.html">pyATS Health Check</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Genie Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../solutions/index.html">Genie Solutions</a></li>
<li class="toctree-l1"><a class="reference external" href="https://wiki.cisco.com/pages/viewpage.action?pageId=831194226">Internal Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/apis">Available APIs</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/clean">Available Clean Stages</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/models">Available Models (Conf/Ops)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/parsers">Available Parsers</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/triggers">Available Triggers</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/verifications">Available Verifications</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../abstract/index.html">Library Abstraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metaparser/index.html">Metaparsers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parsergen/index.html">CLI Auto-Parser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../predcore/index.html">Predicates</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../roadmap/index.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/index.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pyATS Library: Genie</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Introduction to pyATS Clean</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="introduction-to-pyats-clean">
<h1>Introduction to pyATS Clean<a class="headerlink" href="#introduction-to-pyats-clean" title="Permalink to this heading"></a></h1>
<div class="toctree-wrapper compound">
</div>
<p>This topic provides a high-level overview of pyATS Clean framework which is driven by a YAML file. Its clean flow is
defined by the clean stages (steps). Each stage is a building a block to create a clean process specific to a device
and os and/or platform.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the event you encounter terms or acronyms in this document you are unfamiliar with, there is a specialized
<a class="reference internal" href="glossary.html#clean-doc-glossary"><span class="std std-ref">Clean-specific terms and acronym glossary</span></a> to assist you.</p>
</div>
<section id="what-is-a-clean">
<h2>What is a clean?<a class="headerlink" href="#what-is-a-clean" title="Permalink to this heading"></a></h2>
<p>Clean is an operation to initialize a device with a specific software image and/or configuration regardless
of what was initially installed or in what state the device is in.</p>
</section>
<section id="do-i-need-a-clean">
<h2>Do I need a clean?<a class="headerlink" href="#do-i-need-a-clean" title="Permalink to this heading"></a></h2>
<p>Yes! Clean operations are required in number of different scenarios:</p>
<ul class="simple">
<li><p>In Automated regression/sanity testing for loading new software images for testing</p></li>
<li><p>To recover devices and bring back to operational state from bad state</p></li>
<li><p>To re-initialize the configuration of a device to its base config</p></li>
<li><p>Remove all unwanted files on the devices</p></li>
<li><p>To re-initialize the device or bring up the device with new image</p></li>
</ul>
</section>
<section id="why-pyats-clean">
<h2>Why pyATS Clean?<a class="headerlink" href="#why-pyats-clean" title="Permalink to this heading"></a></h2>
<p>pyATS Clean provides the framework and base libraries(Stages) to support device clean flow and requirement. Stages are
the main building blocks, they define the clean workflow and provide runtime control. pyATS Clean utilizes
<a class="reference external" href="https://developer.cisco.com/docs/unicon/">Unicon</a> as the device connection library in the backend.</p>
<p>pyATS Clean is designed in a modular stage-based architecture driven by a YAML file. The end goal is to allow you
to divide clean workflow into smaller stages which will help in debugging failures and have better control of runtime and
the flow requirement specific to device OS/Platform.</p>
<div class="topic">
<p class="topic-title">pyATS Clean framework provides:</p>
<ul class="simple">
<li><p>Set of steps/stages and API which will be used in developing clean for different platforms</p></li>
<li><p>Set of commonly used utilities across platforms</p></li>
<li><p>Template and examples to define clean flow for a new platforms</p></li>
<li><p>CLI and APIs to execute clean and control the runtime environment</p></li>
</ul>
</div>
<p>The modular architecture of <a class="reference internal" href="user_guide/writing_a_clean/intro_to_clean_stages.html#clean-doc-clean-stages"><span class="std std-ref">stage-based design</span></a> in pyATS clean allows easy customization
of the clean by modifying the <a class="reference internal" href="user_guide/writing_a_clean/index.html#clean-doc-writing-a-clean-yaml"><span class="std std-ref">Clean YAML</span></a> files suit your applications.</p>
<div class="topic">
<p class="topic-title">Here are a few clean scenarios:</p>
<ul class="simple">
<li><p>Loading new image &amp; applying new configuration on the device(s)</p></li>
<li><p>Write erase &amp; reload the device</p></li>
<li><p>Verify connectivity to a specific server before executing the script</p></li>
<li><p>To recover a device when it in a bad state.</p></li>
<li><p>To purge any dangling or unwanted configurations on the device and bring device back to an operational state with a base configuration.</p></li>
<li><p>From a Sanity/Regression script execution point of view; it is mandatory to clean the device(s) before execution; as
the state of the device is unknown. A purged device with a specific configuration and a specific image must be used as starting point.</p></li>
</ul>
</div>
<p>To get started with pyATS Clean, many examples can be found at the <a class="reference external" href="https://github.com/CiscoTestAutomation/examples/tree/master/clean">pyATS Clean example repository on GitHub</a>. These examples are typical of most user’s
operational requirements and can be used as a base template for you to customize the clean flow based on your
platform need. You can easily create your own customized <a class="reference internal" href="user_guide/writing_a_clean/index.html#clean-doc-writing-a-clean-yaml"><span class="std std-ref">Clean YAML</span></a> files and
<a class="reference internal" href="user_guide/writing_a_clean/intro_to_clean_stages.html#clean-doc-clean-stages"><span class="std std-ref">Clean Stages</span></a>.</p>
<p>Refer to the existing pool of ready-to-use stages at <a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/clean">Clean Stage Browser</a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../userguide/utils/index.html" class="btn btn-neutral float-left" title="Useful Libraries" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="supported_os_platform.html" class="btn btn-neutral float-right" title="Supported Platforms and PowerCyclers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Cisco Systems Inc..
      <span class="lastupdated">Last updated on Dec 30, 2024.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>