<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Changelog &#8212; Jinja Documentation (3.1.x)</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=bb251e69" />
    <link rel="stylesheet" type="text/css" href="_static/jinja.css?v=85659ec6" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=a7614d5a"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script data-project="jinja" data-version="3.1.x" src="_static/describe_version.js?v=fa7f30d0"></script>
    <link rel="icon" href="_static/jinja-logo-sidebar.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Frequently Asked Questions" href="faq.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="faq.html" title="Frequently Asked Questions"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Jinja Documentation (3.1.x)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Changelog</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this heading">¶</a></h1>
<section id="version-2-11-3">
<h2>Version 2.11.3<a class="headerlink" href="#version-2-11-3" title="Permalink to this heading">¶</a></h2>
<p>Released 2021-01-31</p>
<ul class="simple">
<li><p>Improve the speed of the <code class="docutils literal notranslate"><span class="pre">urlize</span></code> filter by reducing regex
backtracking. Email matching requires a word character at the start
of the domain part, and only word characters in the TLD. <a class="reference external" href="https://github.com/pallets/jinja/pull/1343">#1343</a></p></li>
</ul>
</section>
<section id="version-2-11-2">
<h2>Version 2.11.2<a class="headerlink" href="#version-2-11-2" title="Permalink to this heading">¶</a></h2>
<p>Released 2020-04-13</p>
<ul class="simple">
<li><p>Fix a bug that caused callable objects with <code class="docutils literal notranslate"><span class="pre">__getattr__</span></code>, like
<a class="reference external" href="https://docs.python.org/3/library/unittest.mock.html#unittest.mock.Mock" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mock</span></code></a> to be treated as a
<code class="xref py py-func docutils literal notranslate"><span class="pre">contextfunction()</span></code>. <a class="reference external" href="https://github.com/pallets/jinja/issues/1145">#1145</a></p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">wordcount</span></code> filter to trigger <a class="reference internal" href="api.html#jinja2.Undefined" title="jinja2.Undefined"><code class="xref py py-class docutils literal notranslate"><span class="pre">Undefined</span></code></a> methods
by wrapping the input in <code class="xref py py-func docutils literal notranslate"><span class="pre">soft_unicode()</span></code>. <a class="reference external" href="https://github.com/pallets/jinja/pull/1160">#1160</a></p></li>
<li><p>Fix a hang when displaying tracebacks on Python 32-bit.
<a class="reference external" href="https://github.com/pallets/jinja/issues/1162">#1162</a></p></li>
<li><p>Showing an undefined error for an object that raises
<code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> on access doesn’t cause a recursion error.
<a class="reference external" href="https://github.com/pallets/jinja/issues/1177">#1177</a></p></li>
<li><p>Revert changes to <a class="reference internal" href="api.html#jinja2.PackageLoader" title="jinja2.loaders.PackageLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">PackageLoader</span></code></a> from 2.10 which
removed the dependency on setuptools and pkg_resources, and added
limited support for namespace packages. The changes caused issues
when using Pytest. Due to the difficulty in supporting Python 2 and
<span class="target" id="index-0"></span><a class="pep reference external" href="https://peps.python.org/pep-0451/"><strong>PEP 451</strong></a> simultaneously, the changes are reverted until 3.0.
<a class="reference external" href="https://github.com/pallets/jinja/pull/1182">#1182</a></p></li>
<li><p>Fix line numbers in error messages when newlines are stripped.
<a class="reference external" href="https://github.com/pallets/jinja/pull/1178">#1178</a></p></li>
<li><p>The special <code class="docutils literal notranslate"><span class="pre">namespace()</span></code> assignment object in templates works in
async environments. <a class="reference external" href="https://github.com/pallets/jinja/issues/1180">#1180</a></p></li>
<li><p>Fix whitespace being removed before tags in the middle of lines when
<code class="docutils literal notranslate"><span class="pre">lstrip_blocks</span></code> is enabled. <a class="reference external" href="https://github.com/pallets/jinja/issues/1138">#1138</a></p></li>
<li><p><a class="reference internal" href="nativetypes.html#jinja2.nativetypes.NativeEnvironment" title="jinja2.nativetypes.NativeEnvironment"><code class="xref py py-class docutils literal notranslate"><span class="pre">NativeEnvironment</span></code></a> doesn’t evaluate
intermediate strings during rendering. This prevents early
evaluation which could change the value of an expression.
<a class="reference external" href="https://github.com/pallets/jinja/issues/1186">#1186</a></p></li>
</ul>
</section>
<section id="version-2-11-1">
<h2>Version 2.11.1<a class="headerlink" href="#version-2-11-1" title="Permalink to this heading">¶</a></h2>
<p>Released 2020-01-30</p>
<ul class="simple">
<li><p>Fix a bug that prevented looking up a key after an attribute
(<code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">data.items[1:]</span> <span class="pre">}}</span></code>) in an async template. <a class="reference external" href="https://github.com/pallets/jinja/issues/1141">#1141</a></p></li>
</ul>
</section>
<section id="version-2-11-0">
<h2>Version 2.11.0<a class="headerlink" href="#version-2-11-0" title="Permalink to this heading">¶</a></h2>
<p>Released 2020-01-27</p>
<ul class="simple">
<li><p>Drop support for Python 2.6, 3.3, and 3.4. This will be the last
version to support Python 2.7 and 3.5.</p></li>
<li><p>Added a new <code class="docutils literal notranslate"><span class="pre">ChainableUndefined</span></code> class to support getitem and
getattr on an undefined object. <a class="reference external" href="https://github.com/pallets/jinja/issues/977">#977</a></p></li>
<li><p>Allow <code class="docutils literal notranslate"><span class="pre">{%+</span></code> syntax (with NOP behavior) when <code class="docutils literal notranslate"><span class="pre">lstrip_blocks</span></code> is
disabled. <a class="reference external" href="https://github.com/pallets/jinja/issues/748">#748</a></p></li>
<li><p>Added a <code class="docutils literal notranslate"><span class="pre">default</span></code> parameter for the <code class="docutils literal notranslate"><span class="pre">map</span></code> filter. <a class="reference external" href="https://github.com/pallets/jinja/issues/557">#557</a></p></li>
<li><p>Exclude environment globals from
<a class="reference internal" href="api.html#jinja2.meta.find_undeclared_variables" title="jinja2.meta.find_undeclared_variables"><code class="xref py py-func docutils literal notranslate"><span class="pre">meta.find_undeclared_variables()</span></code></a>. <a class="reference external" href="https://github.com/pallets/jinja/issues/931">#931</a></p></li>
<li><p>Float literals can be written with scientific notation, like
2.56e-3. <a class="reference external" href="https://github.com/pallets/jinja/issues/912">#912</a>, <a class="reference external" href="https://github.com/pallets/jinja/pull/922">#922</a></p></li>
<li><p>Int and float literals can be written with the ‘_’ separator for
legibility, like 12_345. <a class="reference external" href="https://github.com/pallets/jinja/pull/923">#923</a></p></li>
<li><p>Fix a bug causing deadlocks in <code class="docutils literal notranslate"><span class="pre">LRUCache.setdefault</span></code>. <a class="reference external" href="https://github.com/pallets/jinja/pull/1000">#1000</a></p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">trim</span></code> filter takes an optional string of characters to trim.
<a class="reference external" href="https://github.com/pallets/jinja/pull/828">#828</a></p></li>
<li><p>A new <code class="docutils literal notranslate"><span class="pre">jinja2.ext.debug</span></code> extension adds a <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">debug</span> <span class="pre">%}</span></code> tag to
quickly dump the current context and available filters and tests.
<a class="reference external" href="https://github.com/pallets/jinja/issues/174">#174</a>, <a class="reference external" href="https://github.com/pallets/jinja/pull/798">#798</a>, <a class="reference external" href="https://github.com/pallets/jinja/pull/983">#983</a></p></li>
<li><p>Lexing templates with large amounts of whitespace is much faster.
<a class="reference external" href="https://github.com/pallets/jinja/issues/857">#857</a>, <a class="reference external" href="https://github.com/pallets/jinja/pull/858">#858</a></p></li>
<li><p>Parentheses around comparisons are preserved, so
<code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">(3</span> <span class="pre">&lt;</span> <span class="pre">5)</span> <span class="pre">}}</span></code> outputs “2” instead of “False”.
<a class="reference external" href="https://github.com/pallets/jinja/issues/755">#755</a>, <a class="reference external" href="https://github.com/pallets/jinja/pull/938">#938</a></p></li>
<li><p>Add new <code class="docutils literal notranslate"><span class="pre">boolean</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code>, <code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">integer</span></code> and <code class="docutils literal notranslate"><span class="pre">float</span></code>
tests. <a class="reference external" href="https://github.com/pallets/jinja/pull/824">#824</a></p></li>
<li><p>The environment’s <code class="docutils literal notranslate"><span class="pre">finalize</span></code> function is only applied to the
output of expressions (constant or not), not static template data.
<a class="reference external" href="https://github.com/pallets/jinja/issues/63">#63</a></p></li>
<li><p>When providing multiple paths to <code class="docutils literal notranslate"><span class="pre">FileSystemLoader</span></code>, a template
can have the same name as a directory. <a class="reference external" href="https://github.com/pallets/jinja/issues/821">#821</a></p></li>
<li><p>Always return <a class="reference internal" href="api.html#jinja2.Undefined" title="jinja2.Undefined"><code class="xref py py-class docutils literal notranslate"><span class="pre">Undefined</span></code></a> when omitting the <code class="docutils literal notranslate"><span class="pre">else</span></code> clause
in a <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">'foo'</span> <span class="pre">if</span> <span class="pre">bar</span> <span class="pre">}}</span></code> expression, regardless of the
environment’s <code class="docutils literal notranslate"><span class="pre">undefined</span></code> class. Omitting the <code class="docutils literal notranslate"><span class="pre">else</span></code> clause is a
valid shortcut and should not raise an error when using
<a class="reference internal" href="api.html#jinja2.StrictUndefined" title="jinja2.StrictUndefined"><code class="xref py py-class docutils literal notranslate"><span class="pre">StrictUndefined</span></code></a>. <a class="reference external" href="https://github.com/pallets/jinja/issues/710">#710</a>, <a class="reference external" href="https://github.com/pallets/jinja/pull/1079">#1079</a></p></li>
<li><p>Fix behavior of <code class="docutils literal notranslate"><span class="pre">loop</span></code> control variables such as <code class="docutils literal notranslate"><span class="pre">length</span></code> and
<code class="docutils literal notranslate"><span class="pre">revindex0</span></code> when looping over a generator. <a class="reference external" href="https://github.com/pallets/jinja/issues/459">#459</a>, <a class="reference external" href="https://github.com/pallets/jinja/issues/751">#751</a>, <a class="reference external" href="https://github.com/pallets/jinja/issues/794">#794</a>,
<a class="reference external" href="https://github.com/pallets/jinja/pull/993">#993</a></p></li>
<li><p>Async support is only loaded the first time an environment enables
it, in order to avoid a slow initial import. <a class="reference external" href="https://github.com/pallets/jinja/issues/765">#765</a></p></li>
<li><p>In async environments, the <code class="docutils literal notranslate"><span class="pre">|map</span></code> filter will await the filter
call if needed. <a class="reference external" href="https://github.com/pallets/jinja/pull/913">#913</a></p></li>
<li><p>In for loops that access <code class="docutils literal notranslate"><span class="pre">loop</span></code> attributes, the iterator is not
advanced ahead of the current iteration unless <code class="docutils literal notranslate"><span class="pre">length</span></code>,
<code class="docutils literal notranslate"><span class="pre">revindex</span></code>, <code class="docutils literal notranslate"><span class="pre">nextitem</span></code>, or <code class="docutils literal notranslate"><span class="pre">last</span></code> are accessed. This makes it
less likely to break <code class="docutils literal notranslate"><span class="pre">groupby</span></code> results. <a class="reference external" href="https://github.com/pallets/jinja/issues/555">#555</a>, <a class="reference external" href="https://github.com/pallets/jinja/pull/1101">#1101</a></p></li>
<li><p>In async environments, the <code class="docutils literal notranslate"><span class="pre">loop</span></code> attributes <code class="docutils literal notranslate"><span class="pre">length</span></code> and
<code class="docutils literal notranslate"><span class="pre">revindex</span></code> work for async iterators. <a class="reference external" href="https://github.com/pallets/jinja/pull/1101">#1101</a></p></li>
<li><p>In async environments, values from attribute/property access will
be awaited if needed. <a class="reference external" href="https://github.com/pallets/jinja/pull/1101">#1101</a></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PackageLoader</span></code> doesn’t depend on setuptools or
pkg_resources. <a class="reference external" href="https://github.com/pallets/jinja/issues/970">#970</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PackageLoader</span></code> has limited support for <span class="target" id="index-1"></span><a class="pep reference external" href="https://peps.python.org/pep-0420/"><strong>PEP 420</strong></a> namespace
packages. <a class="reference external" href="https://github.com/pallets/jinja/issues/1097">#1097</a></p></li>
<li><p>Support <a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">os.PathLike</span></code></a> objects in
<code class="xref py py-class docutils literal notranslate"><span class="pre">FileSystemLoader</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">ModuleLoader</span></code>.
<a class="reference external" href="https://github.com/pallets/jinja/issues/870">#870</a></p></li>
<li><p><a class="reference internal" href="nativetypes.html#jinja2.nativetypes.NativeTemplate" title="jinja2.nativetypes.NativeTemplate"><code class="xref py py-class docutils literal notranslate"><span class="pre">NativeTemplate</span></code></a> correctly handles quotes
between expressions. <code class="docutils literal notranslate"><span class="pre">&quot;'{{</span> <span class="pre">a</span> <span class="pre">}}',</span> <span class="pre">'{{</span> <span class="pre">b</span> <span class="pre">}}'&quot;</span></code> renders as the tuple
<code class="docutils literal notranslate"><span class="pre">('1',</span> <span class="pre">'2')</span></code> rather than the string <code class="docutils literal notranslate"><span class="pre">'1,</span> <span class="pre">2'</span></code>. <a class="reference external" href="https://github.com/pallets/jinja/issues/1020">#1020</a></p></li>
<li><p>Creating a <a class="reference internal" href="nativetypes.html#jinja2.nativetypes.NativeTemplate" title="jinja2.nativetypes.NativeTemplate"><code class="xref py py-class docutils literal notranslate"><span class="pre">NativeTemplate</span></code></a> directly creates a
<a class="reference internal" href="nativetypes.html#jinja2.nativetypes.NativeEnvironment" title="jinja2.nativetypes.NativeEnvironment"><code class="xref py py-class docutils literal notranslate"><span class="pre">NativeEnvironment</span></code></a> instead of a default
<a class="reference internal" href="api.html#jinja2.Environment" title="jinja2.Environment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Environment</span></code></a>. <a class="reference external" href="https://github.com/pallets/jinja/issues/1091">#1091</a></p></li>
<li><p>After calling <code class="docutils literal notranslate"><span class="pre">LRUCache.copy()</span></code>, the copy’s queue methods point to
the correct queue. <a class="reference external" href="https://github.com/pallets/jinja/issues/843">#843</a></p></li>
<li><p>Compiling templates always writes UTF-8 instead of defaulting to the
system encoding. <a class="reference external" href="https://github.com/pallets/jinja/issues/889">#889</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">|wordwrap</span></code> filter treats existing newlines as separate paragraphs
to be wrapped individually, rather than creating short intermediate
lines. <a class="reference external" href="https://github.com/pallets/jinja/issues/175">#175</a></p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">break_on_hyphens</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">|wordwrap</span></code> filter.
<a class="reference external" href="https://github.com/pallets/jinja/issues/550">#550</a></p></li>
<li><p>Cython compiled functions decorated as context functions will be
passed the context. <a class="reference external" href="https://github.com/pallets/jinja/pull/1108">#1108</a></p></li>
<li><p>When chained comparisons of constants are evaluated at compile time,
the result follows Python’s behavior of returning <code class="docutils literal notranslate"><span class="pre">False</span></code> if any
comparison returns <code class="docutils literal notranslate"><span class="pre">False</span></code>, rather than only the last one.
<a class="reference external" href="https://github.com/pallets/jinja/issues/1102">#1102</a></p></li>
<li><p>Tracebacks for exceptions in templates show the correct line numbers
and source for Python &gt;= 3.7. <a class="reference external" href="https://github.com/pallets/jinja/issues/1104">#1104</a></p></li>
<li><p>Tracebacks for template syntax errors in Python 3 no longer show
internal compiler frames. <a class="reference external" href="https://github.com/pallets/jinja/issues/763">#763</a></p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">DerivedContextReference</span></code> node that can be used by
extensions to get the current context and local variables such as
<code class="docutils literal notranslate"><span class="pre">loop</span></code>. <a class="reference external" href="https://github.com/pallets/jinja/issues/860">#860</a></p></li>
<li><p>Constant folding during compilation is applied to some node types
that were previously overlooked. <a class="reference external" href="https://github.com/pallets/jinja/issues/733">#733</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TemplateSyntaxError.source</span></code> is not empty when raised from an
included template. <a class="reference external" href="https://github.com/pallets/jinja/issues/457">#457</a></p></li>
<li><p>Passing an <code class="docutils literal notranslate"><span class="pre">Undefined</span></code> value to <code class="docutils literal notranslate"><span class="pre">get_template</span></code> (such as through
<code class="docutils literal notranslate"><span class="pre">extends</span></code>, <code class="docutils literal notranslate"><span class="pre">import</span></code>, or <code class="docutils literal notranslate"><span class="pre">include</span></code>), raises an
<code class="docutils literal notranslate"><span class="pre">UndefinedError</span></code> consistently. <code class="docutils literal notranslate"><span class="pre">select_template</span></code> will show the
undefined message in the list of attempts rather than the empty
string. <a class="reference external" href="https://github.com/pallets/jinja/issues/1037">#1037</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TemplateSyntaxError</span></code> can be pickled. <a class="reference external" href="https://github.com/pallets/jinja/pull/1117">#1117</a></p></li>
</ul>
</section>
<section id="version-2-10-3">
<h2>Version 2.10.3<a class="headerlink" href="#version-2-10-3" title="Permalink to this heading">¶</a></h2>
<p>Released 2019-10-04</p>
<ul class="simple">
<li><p>Fix a typo in Babel entry point in <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> that was preventing
installation.</p></li>
</ul>
</section>
<section id="version-2-10-2">
<h2>Version 2.10.2<a class="headerlink" href="#version-2-10-2" title="Permalink to this heading">¶</a></h2>
<p>Released 2019-10-04</p>
<ul class="simple">
<li><p>Fix Python 3.7 deprecation warnings.</p></li>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">range</span></code> in the sandboxed environment uses <code class="docutils literal notranslate"><span class="pre">xrange</span></code> on
Python 2 to avoid memory use. <a class="reference external" href="https://github.com/pallets/jinja/issues/933">#933</a></p></li>
<li><p>Use Python 3.7’s better traceback support to avoid a core dump when
using debug builds of Python 3.7. <a class="reference external" href="https://github.com/pallets/jinja/issues/1050">#1050</a></p></li>
</ul>
</section>
<section id="version-2-10-1">
<h2>Version 2.10.1<a class="headerlink" href="#version-2-10-1" title="Permalink to this heading">¶</a></h2>
<p>Released 2019-04-06</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SandboxedEnvironment</span></code> securely handles <code class="docutils literal notranslate"><span class="pre">str.format_map</span></code> in
order to prevent code execution through untrusted format strings.
The sandbox already handled <code class="docutils literal notranslate"><span class="pre">str.format</span></code>.</p></li>
</ul>
</section>
<section id="version-2-10">
<h2>Version 2.10<a class="headerlink" href="#version-2-10" title="Permalink to this heading">¶</a></h2>
<p>Released 2017-11-08</p>
<ul class="simple">
<li><p>Added a new extension node called <code class="docutils literal notranslate"><span class="pre">OverlayScope</span></code> which can be used
to create an unoptimized scope that will look up all variables from
a derived context.</p></li>
<li><p>Added an <code class="docutils literal notranslate"><span class="pre">in</span></code> test that works like the in operator. This can be
used in combination with <code class="docutils literal notranslate"><span class="pre">reject</span></code> and <code class="docutils literal notranslate"><span class="pre">select</span></code>.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">previtem</span></code> and <code class="docutils literal notranslate"><span class="pre">nextitem</span></code> to loop contexts, providing
access to the previous/next item in the loop. If such an item does
not exist, the value is undefined.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">changed(*values)</span></code> to loop contexts, providing an easy way
of checking whether a value has changed since the last iteration (or
rather since the last call of the method)</p></li>
<li><p>Added a <code class="docutils literal notranslate"><span class="pre">namespace</span></code> function that creates a special object which
allows attribute assignment using the <code class="docutils literal notranslate"><span class="pre">set</span></code> tag. This can be used
to carry data across scopes, e.g. from a loop body to code that
comes after the loop.</p></li>
<li><p>Added a <code class="docutils literal notranslate"><span class="pre">trimmed</span></code> modifier to <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">trans</span> <span class="pre">%}</span></code> to strip linebreaks
and surrounding whitespace. Also added a new policy to enable this
for all <code class="docutils literal notranslate"><span class="pre">trans</span></code> blocks.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">random</span></code> filter is no longer incorrectly constant folded and
will produce a new random choice each time the template is rendered.
<a class="reference external" href="https://github.com/pallets/jinja/pull/478">#478</a></p></li>
<li><p>Added a <code class="docutils literal notranslate"><span class="pre">unique</span></code> filter. <a class="reference external" href="https://github.com/pallets/jinja/pull/469">#469</a></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">min</span></code> and <code class="docutils literal notranslate"><span class="pre">max</span></code> filters. <a class="reference external" href="https://github.com/pallets/jinja/pull/475">#475</a></p></li>
<li><p>Added tests for all comparison operators: <code class="docutils literal notranslate"><span class="pre">eq</span></code>, <code class="docutils literal notranslate"><span class="pre">ne</span></code>, <code class="docutils literal notranslate"><span class="pre">lt</span></code>,
<code class="docutils literal notranslate"><span class="pre">le</span></code>, <code class="docutils literal notranslate"><span class="pre">gt</span></code>, <code class="docutils literal notranslate"><span class="pre">ge</span></code>. <a class="reference external" href="https://github.com/pallets/jinja/pull/665">#665</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">import</span></code> statement cannot end with a trailing comma. <a class="reference external" href="https://github.com/pallets/jinja/pull/617">#617</a>,
<a class="reference external" href="https://github.com/pallets/jinja/pull/618">#618</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">indent</span></code> filter will not indent blank lines by default. <a class="reference external" href="https://github.com/pallets/jinja/pull/685">#685</a></p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">reverse</span></code> argument for <code class="docutils literal notranslate"><span class="pre">dictsort</span></code> filter. <a class="reference external" href="https://github.com/pallets/jinja/pull/692">#692</a></p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">NativeEnvironment</span></code> that renders templates to native Python
types instead of strings. <a class="reference external" href="https://github.com/pallets/jinja/pull/708">#708</a></p></li>
<li><p>Added filter support to the block <code class="docutils literal notranslate"><span class="pre">set</span></code> tag. <a class="reference external" href="https://github.com/pallets/jinja/pull/489">#489</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tojson</span></code> filter marks output as safe to match documented behavior.
<a class="reference external" href="https://github.com/pallets/jinja/pull/718">#718</a></p></li>
<li><p>Resolved a bug where getting debug locals for tracebacks could
modify template context.</p></li>
<li><p>Fixed a bug where having many <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">elif</span> <span class="pre">...</span> <span class="pre">%}</span></code> blocks resulted in
a “too many levels of indentation” error. These blocks now compile
to native <code class="docutils literal notranslate"><span class="pre">elif</span> <span class="pre">..:</span></code> instead of <code class="docutils literal notranslate"><span class="pre">else:</span> <span class="pre">if</span> <span class="pre">..:</span></code> <a class="reference external" href="https://github.com/pallets/jinja/issues/759">#759</a></p></li>
</ul>
</section>
<section id="version-2-9-6">
<h2>Version 2.9.6<a class="headerlink" href="#version-2-9-6" title="Permalink to this heading">¶</a></h2>
<p>Released 2017-04-03</p>
<ul class="simple">
<li><p>Fixed custom context behavior in fast resolve mode <a class="reference external" href="https://github.com/pallets/jinja/issues/675">#675</a></p></li>
</ul>
</section>
<section id="version-2-9-5">
<h2>Version 2.9.5<a class="headerlink" href="#version-2-9-5" title="Permalink to this heading">¶</a></h2>
<p>Released 2017-01-28</p>
<ul class="simple">
<li><p>Restored the original repr of the internal <code class="docutils literal notranslate"><span class="pre">_GroupTuple</span></code> because
this caused issues with ansible and it was an unintended change.
<a class="reference external" href="https://github.com/pallets/jinja/issues/654">#654</a></p></li>
<li><p>Added back support for custom contexts that override the old
<code class="docutils literal notranslate"><span class="pre">resolve</span></code> method since it was hard for people to spot that this
could cause a regression.</p></li>
<li><p>Correctly use the buffer for the else block of for loops. This
caused invalid syntax errors to be caused on 2.x and completely
wrong behavior on Python 3 <a class="reference external" href="https://github.com/pallets/jinja/issues/669">#669</a></p></li>
<li><p>Resolve an issue where the <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">%}</span></code> tag could not be used
with async environments. <a class="reference external" href="https://github.com/pallets/jinja/issues/668">#668</a></p></li>
<li><p>Reduce memory footprint slightly by reducing our unicode database
dump we use for identifier matching on Python 3 <a class="reference external" href="https://github.com/pallets/jinja/issues/666">#666</a></p></li>
<li><p>Fixed autoescaping not working for macros in async compilation mode.
<a class="reference external" href="https://github.com/pallets/jinja/issues/671">#671</a></p></li>
</ul>
</section>
<section id="version-2-9-4">
<h2>Version 2.9.4<a class="headerlink" href="#version-2-9-4" title="Permalink to this heading">¶</a></h2>
<p>Released 2017-01-10</p>
<ul class="simple">
<li><p>Solved some warnings for string literals. <a class="reference external" href="https://github.com/pallets/jinja/issues/646">#646</a></p></li>
<li><p>Increment the bytecode cache version which was not done due to an
oversight before.</p></li>
<li><p>Corrected bad code generation and scoping for filtered loops.
<a class="reference external" href="https://github.com/pallets/jinja/issues/649">#649</a></p></li>
<li><p>Resolved an issue where top-level output silencing after known
extend blocks could generate invalid code when blocks where
contained in if statements. <a class="reference external" href="https://github.com/pallets/jinja/issues/651">#651</a></p></li>
<li><p>Made the <code class="docutils literal notranslate"><span class="pre">truncate.leeway</span></code> default configurable to improve
compatibility with older templates.</p></li>
</ul>
</section>
<section id="version-2-9-3">
<h2>Version 2.9.3<a class="headerlink" href="#version-2-9-3" title="Permalink to this heading">¶</a></h2>
<p>Released 2017-01-08</p>
<ul class="simple">
<li><p>Restored the use of blocks in macros to the extend that was possible
before. On Python 3 it would render a generator repr instead of the
block contents. <a class="reference external" href="https://github.com/pallets/jinja/issues/645">#645</a></p></li>
<li><p>Set a consistent behavior for assigning of variables in inner scopes
when the variable is also read from an outer scope. This now sets
the intended behavior in all situations however it does not restore
the old behavior where limited assignments to outer scopes was
possible. For more information and a discussion see <a class="reference external" href="https://github.com/pallets/jinja/issues/641">#641</a></p></li>
<li><p>Resolved an issue where <code class="docutils literal notranslate"><span class="pre">block</span> <span class="pre">scoped</span></code> would not take advantage of
the new scoping rules. In some more exotic cases a variable
overriden in a local scope would not make it into a block.</p></li>
<li><p>Change the code generation of the <code class="docutils literal notranslate"><span class="pre">with</span></code> statement to be in line
with the new scoping rules. This resolves some unlikely bugs in edge
cases. This also introduces a new internal <code class="docutils literal notranslate"><span class="pre">With</span></code> node that can be
used by extensions.</p></li>
</ul>
</section>
<section id="version-2-9-2">
<h2>Version 2.9.2<a class="headerlink" href="#version-2-9-2" title="Permalink to this heading">¶</a></h2>
<p>Released 2017-01-08</p>
<ul class="simple">
<li><p>Fixed a regression that caused for loops to not be able to use the
same variable for the target as well as source iterator.
<a class="reference external" href="https://github.com/pallets/jinja/issues/640">#640</a></p></li>
<li><p>Add support for a previously unknown behavior of macros. It used to
be possible in some circumstances to explicitly provide a caller
argument to macros. While badly buggy and unintended it turns out
that this is a common case that gets copy pasted around. To not
completely break backwards compatibility with the most common cases
it’s now possible to provide an explicit keyword argument for caller
if it’s given an explicit default. <a class="reference external" href="https://github.com/pallets/jinja/issues/642">#642</a></p></li>
</ul>
</section>
<section id="version-2-9-1">
<h2>Version 2.9.1<a class="headerlink" href="#version-2-9-1" title="Permalink to this heading">¶</a></h2>
<p>Released 2017-01-07</p>
<ul class="simple">
<li><p>Resolved a regression with call block scoping for macros. Nested
caller blocks that used the same identifiers as outer macros could
refer to the wrong variable incorrectly.</p></li>
</ul>
</section>
<section id="version-2-9">
<h2>Version 2.9<a class="headerlink" href="#version-2-9" title="Permalink to this heading">¶</a></h2>
<p>Released 2017-01-07, codename Derivation</p>
<ul class="simple">
<li><p>Change cache key definition in environment. This fixes a performance
regression introduced in 2.8.</p></li>
<li><p>Added support for <code class="docutils literal notranslate"><span class="pre">generator_stop</span></code> on supported Python versions
(Python 3.5 and later)</p></li>
<li><p>Corrected a long standing issue with operator precedence of math
operations not being what was expected.</p></li>
<li><p>Added support for Python 3.6 async iterators through a new async
mode.</p></li>
<li><p>Added policies for filter defaults and similar things.</p></li>
<li><p>Urlize now sets “rel noopener” by default.</p></li>
<li><p>Support attribute fallback for old-style classes in 2.x.</p></li>
<li><p>Support toplevel set statements in extend situations.</p></li>
<li><p>Restored behavior of Cycler for Python 3 users.</p></li>
<li><p>Subtraction now follows the same behavior as other operators on
undefined values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">map</span></code> and friends will now give better error messages if you
forgot to quote the parameter.</p></li>
<li><p>Depend on MarkupSafe 0.23 or higher.</p></li>
<li><p>Improved the <code class="docutils literal notranslate"><span class="pre">truncate</span></code> filter to support better truncation in
case the string is barely truncated at all.</p></li>
<li><p>Change the logic for macro autoescaping to be based on the runtime
autoescaping information at call time instead of macro define time.</p></li>
<li><p>Ported a modified version of the <code class="docutils literal notranslate"><span class="pre">tojson</span></code> filter from Flask to
Jinja and hooked it up with the new policy framework.</p></li>
<li><p>Block sets are now marked <code class="docutils literal notranslate"><span class="pre">safe</span></code> by default.</p></li>
<li><p>On Python 2 the asciification of ASCII strings can now be disabled
with the <code class="docutils literal notranslate"><span class="pre">compiler.ascii_str</span></code> policy.</p></li>
<li><p>Tests now no longer accept an arbitrary expression as first argument
but a restricted one. This means that you can now properly use
multiple tests in one expression without extra parentheses. In
particular you can now write <code class="docutils literal notranslate"><span class="pre">foo</span> <span class="pre">is</span> <span class="pre">divisibleby</span> <span class="pre">2</span> <span class="pre">or</span> <span class="pre">foo</span> <span class="pre">is</span>
<span class="pre">divisibleby</span> <span class="pre">3</span></code> as you would expect.</p></li>
<li><p>Greatly changed the scoping system to be more consistent with what
template designers and developers expect. There is now no more magic
difference between the different include and import constructs.
Context is now always propagated the same way. The only remaining
differences is the defaults for <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">context</span></code> and <code class="docutils literal notranslate"><span class="pre">without</span>
<span class="pre">context</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">with</span></code> and <code class="docutils literal notranslate"><span class="pre">autoescape</span></code> tags are now built-in.</p></li>
<li><p>Added the new <code class="docutils literal notranslate"><span class="pre">select_autoescape</span></code> function which helps configuring
better autoescaping easier.</p></li>
<li><p>Fixed a runtime error in the sandbox when attributes of async
generators were accessed.</p></li>
</ul>
</section>
<section id="version-2-8-1">
<h2>Version 2.8.1<a class="headerlink" href="#version-2-8-1" title="Permalink to this heading">¶</a></h2>
<p>Released 2016-12-29</p>
<ul class="simple">
<li><p>Fixed the <code class="docutils literal notranslate"><span class="pre">for_qs</span></code> flag for <code class="docutils literal notranslate"><span class="pre">urlencode</span></code>.</p></li>
<li><p>Fixed regression when applying <code class="docutils literal notranslate"><span class="pre">int</span></code> to non-string values.</p></li>
<li><p>SECURITY: if the sandbox mode is used format expressions are now
sandboxed with the same rules as in Jinja. This solves various
information leakage problems that can occur with format strings.</p></li>
</ul>
</section>
<section id="version-2-8">
<h2>Version 2.8<a class="headerlink" href="#version-2-8" title="Permalink to this heading">¶</a></h2>
<p>Released 2015-07-26, codename Replacement</p>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">target</span></code> parameter to urlize function.</p></li>
<li><p>Added support for <code class="docutils literal notranslate"><span class="pre">followsymlinks</span></code> to the file system loader.</p></li>
<li><p>The truncate filter now counts the length.</p></li>
<li><p>Added equalto filter that helps with select filters.</p></li>
<li><p>Changed cache keys to use absolute file names if available instead
of load names.</p></li>
<li><p>Fixed loop length calculation for some iterators.</p></li>
<li><p>Changed how Jinja enforces strings to be native strings in Python 2
to work when people break their default encoding.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">make_logging_undefined</span></code> which returns an undefined
object that logs failures into a logger.</p></li>
<li><p>If unmarshalling of cached data fails the template will be reloaded
now.</p></li>
<li><p>Implemented a block <code class="docutils literal notranslate"><span class="pre">set</span></code> tag.</p></li>
<li><p>Default cache size was increased to 400 from a low 50.</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">number</span></code> test to accept long integers in all Python
versions.</p></li>
<li><p>Changed <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">number</span></code> to accept Decimal as a number.</p></li>
<li><p>Added a check for default arguments followed by non-default
arguments. This change makes <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">macro</span> <span class="pre">m(x,</span> <span class="pre">y=1,</span> <span class="pre">z)</span> <span class="pre">%}</span></code> a syntax
error. The previous behavior for this code was broken anyway
(resulting in the default value being applied to <code class="docutils literal notranslate"><span class="pre">y</span></code>).</p></li>
<li><p>Add ability to use custom subclasses of
<code class="docutils literal notranslate"><span class="pre">jinja2.compiler.CodeGenerator</span></code> and <code class="docutils literal notranslate"><span class="pre">jinja2.runtime.Context</span></code> by
adding two new attributes to the environment
(<code class="docutils literal notranslate"><span class="pre">code_generator_class</span></code> and <code class="docutils literal notranslate"><span class="pre">context_class</span></code>). <a class="reference external" href="https://github.com/pallets/jinja/pull/404">#404</a></p></li>
<li><p>Added support for context/environment/evalctx decorator functions on
the finalize callback of the environment.</p></li>
<li><p>Escape query strings for urlencode properly. Previously slashes were
not escaped in that place.</p></li>
<li><p>Add ‘base’ parameter to ‘int’ filter.</p></li>
</ul>
</section>
<section id="version-2-7-3">
<h2>Version 2.7.3<a class="headerlink" href="#version-2-7-3" title="Permalink to this heading">¶</a></h2>
<p>Released 2014-06-06</p>
<ul class="simple">
<li><p>Security issue: Corrected the security fix for the cache folder.
This fix was provided by RedHat.</p></li>
</ul>
</section>
<section id="version-2-7-2">
<h2>Version 2.7.2<a class="headerlink" href="#version-2-7-2" title="Permalink to this heading">¶</a></h2>
<p>Released 2014-01-10</p>
<ul class="simple">
<li><p>Prefix loader was not forwarding the locals properly to inner
loaders. This is now fixed.</p></li>
<li><p>Security issue: Changed the default folder for the filesystem cache
to be user specific and read and write protected on UNIX systems.
See <a class="reference external" href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=734747">Debian bug 734747</a> for more information.</p></li>
</ul>
</section>
<section id="version-2-7-1">
<h2>Version 2.7.1<a class="headerlink" href="#version-2-7-1" title="Permalink to this heading">¶</a></h2>
<p>Released 2013-08-07</p>
<ul class="simple">
<li><p>Fixed a bug with <code class="docutils literal notranslate"><span class="pre">call_filter</span></code> not working properly on environment
and context filters.</p></li>
<li><p>Fixed lack of Python 3 support for bytecode caches.</p></li>
<li><p>Reverted support for defining blocks in included templates as this
broke existing templates for users.</p></li>
<li><p>Fixed some warnings with hashing of undefineds and nodes if Python
is run with warnings for Python 3.</p></li>
<li><p>Added support for properly hashing undefined objects.</p></li>
<li><p>Fixed a bug with the title filter not working on already uppercase
strings.</p></li>
</ul>
</section>
<section id="version-2-7">
<h2>Version 2.7<a class="headerlink" href="#version-2-7" title="Permalink to this heading">¶</a></h2>
<p>Released 2013-05-20, codename Translation</p>
<ul class="simple">
<li><p>Choice and prefix loaders now dispatch source and template lookup
separately in order to work in combination with module loaders as
advertised.</p></li>
<li><p>Fixed filesizeformat.</p></li>
<li><p>Added a non-silent option for babel extraction.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">urlencode</span></code> filter that automatically quotes values for URL
safe usage with utf-8 as only supported encoding. If applications
want to change this encoding they can override the filter.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">keep-trailing-newline</span></code> configuration to environments and
templates to optionally preserve the final trailing newline.</p></li>
<li><p>Accessing <code class="docutils literal notranslate"><span class="pre">last</span></code> on the loop context no longer causes the iterator
to be consumed into a list.</p></li>
<li><p>Python requirement changed: 2.6, 2.7 or &gt;= 3.3 are required now,
supported by same source code, using the “six” compatibility
library.</p></li>
<li><p>Allow <code class="docutils literal notranslate"><span class="pre">contextfunction</span></code> and other decorators to be applied to
<code class="docutils literal notranslate"><span class="pre">__call__</span></code>.</p></li>
<li><p>Added support for changing from newline to different signs in the
<code class="docutils literal notranslate"><span class="pre">wordwrap</span></code> filter.</p></li>
<li><p>Added support for ignoring memcache errors silently.</p></li>
<li><p>Added support for keeping the trailing newline in templates.</p></li>
<li><p>Added finer grained support for stripping whitespace on the left
side of blocks.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">map</span></code>, <code class="docutils literal notranslate"><span class="pre">select</span></code>, <code class="docutils literal notranslate"><span class="pre">reject</span></code>, <code class="docutils literal notranslate"><span class="pre">selectattr</span></code> and
<code class="docutils literal notranslate"><span class="pre">rejectattr</span></code> filters.</p></li>
<li><p>Added support for <code class="docutils literal notranslate"><span class="pre">loop.depth</span></code> to figure out how deep inside a
recursive loop the code is.</p></li>
<li><p>Disabled py_compile for pypy and python 3.</p></li>
</ul>
</section>
<section id="version-2-6">
<h2>Version 2.6<a class="headerlink" href="#version-2-6" title="Permalink to this heading">¶</a></h2>
<p>Released 2011-07-24, codename Convolution</p>
<ul class="simple">
<li><p>Internal attributes now raise an internal attribute error now
instead of returning an undefined. This fixes problems when passing
undefined objects to Python semantics expecting APIs.</p></li>
<li><p>Traceback support now works properly for PyPy. (Tested with 1.4)</p></li>
<li><p>Implemented operator intercepting for sandboxed environments. This
allows application developers to disable builtin operators for
better security. (For instance limit the mathematical operators to
actual integers instead of longs)</p></li>
<li><p>Groupby filter now supports dotted notation for grouping by
attributes of attributes.</p></li>
<li><p>Scoped blocks now properly treat toplevel assignments and imports.
Previously an import suddenly “disappeared” in a scoped block.</p></li>
<li><p>Automatically detect newer Python interpreter versions before
loading code from bytecode caches to prevent segfaults on invalid
opcodes. The segfault in earlier Jinja versions here was not a
Jinja bug but a limitation in the underlying Python interpreter. If
you notice Jinja segfaulting in earlier versions after an upgrade
of the Python interpreter you don’t have to upgrade, it’s enough to
flush the bytecode cache. This just no longer makes this necessary,
Jinja will automatically detect these cases now.</p></li>
<li><p>The sum filter can now sum up values by attribute. This is a
backwards incompatible change. The argument to the filter previously
was the optional starting index which defaults to zero. This now
became the second argument to the function because it’s rarely used.</p></li>
<li><p>Like sum, sort now also makes it possible to order items by
attribute.</p></li>
<li><p>Like sum and sort, join now also is able to join attributes of
objects as string.</p></li>
<li><p>The internal eval context now has a reference to the environment.</p></li>
<li><p>Added a mapping test to see if an object is a dict or an object with
a similar interface.</p></li>
</ul>
</section>
<section id="version-2-5-5">
<h2>Version 2.5.5<a class="headerlink" href="#version-2-5-5" title="Permalink to this heading">¶</a></h2>
<p>Released 2010-10-18</p>
<ul class="simple">
<li><p>Built documentation is no longer part of release.</p></li>
</ul>
</section>
<section id="version-2-5-4">
<h2>Version 2.5.4<a class="headerlink" href="#version-2-5-4" title="Permalink to this heading">¶</a></h2>
<p>Released 2010-10-17</p>
<ul class="simple">
<li><p>Fixed extensions not loading properly with overlays.</p></li>
<li><p>Work around a bug in cpython for the debugger that causes segfaults
on 64bit big-endian architectures.</p></li>
</ul>
</section>
<section id="version-2-5-3">
<h2>Version 2.5.3<a class="headerlink" href="#version-2-5-3" title="Permalink to this heading">¶</a></h2>
<p>Released 2010-10-17</p>
<ul class="simple">
<li><p>Fixed an operator precedence error introduced in 2.5.2. Statements
like “-foo.bar” had their implicit parentheses applied around the
first part of the expression (“(-foo).bar”) instead of the more
correct “-(foo.bar)”.</p></li>
</ul>
</section>
<section id="version-2-5-2">
<h2>Version 2.5.2<a class="headerlink" href="#version-2-5-2" title="Permalink to this heading">¶</a></h2>
<p>Released 2010-08-18</p>
<ul class="simple">
<li><p>Improved setup.py script to better work with assumptions people
might still have from it (<code class="docutils literal notranslate"><span class="pre">--with-speedups</span></code>).</p></li>
<li><p>Fixed a packaging error that excluded the new debug support.</p></li>
</ul>
</section>
<section id="version-2-5-1">
<h2>Version 2.5.1<a class="headerlink" href="#version-2-5-1" title="Permalink to this heading">¶</a></h2>
<p>Released 2010-08-17</p>
<ul class="simple">
<li><p>StopIteration exceptions raised by functions called from templates
are now intercepted and converted to undefineds. This solves a lot
of debugging grief. (StopIteration is used internally to abort
template execution)</p></li>
<li><p>Improved performance of macro calls slightly.</p></li>
<li><p>Babel extraction can now properly extract newstyle gettext calls.</p></li>
<li><p>Using the variable <code class="docutils literal notranslate"><span class="pre">num</span></code> in newstyle gettext for something else
than the pluralize count will no longer raise a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a>.</p></li>
<li><p>Removed builtin markup class and switched to markupsafe. For
backwards compatibility the pure Python implementation still exists
but is pulled from markupsafe by the Jinja developers. The debug
support went into a separate feature called “debugsupport” and is
disabled by default because it is only relevant for Python 2.4</p></li>
<li><p>Fixed an issue with unary operators having the wrong precedence.</p></li>
</ul>
</section>
<section id="version-2-5">
<h2>Version 2.5<a class="headerlink" href="#version-2-5" title="Permalink to this heading">¶</a></h2>
<p>Released 2010-05-29, codename Incoherence</p>
<ul class="simple">
<li><p>Improved the sort filter (should have worked like this for a long
time) by adding support for case insensitive searches.</p></li>
<li><p>Fixed a bug for getattribute constant folding.</p></li>
<li><p>Support for newstyle gettext translations which result in a nicer
in-template user interface and more consistent catalogs.</p></li>
<li><p>It’s now possible to register extensions after an environment was
created.</p></li>
</ul>
</section>
<section id="version-2-4-1">
<h2>Version 2.4.1<a class="headerlink" href="#version-2-4-1" title="Permalink to this heading">¶</a></h2>
<p>Released 2010-04-20</p>
<ul class="simple">
<li><p>Fixed an error reporting bug for undefined.</p></li>
</ul>
</section>
<section id="version-2-4">
<h2>Version 2.4<a class="headerlink" href="#version-2-4" title="Permalink to this heading">¶</a></h2>
<p>Released 2010-04-13, codename Correlation</p>
<ul class="simple">
<li><p>The environment template loading functions now transparently pass
through a template object if it was passed to it. This makes it
possible to import or extend from a template object that was passed
to the template.</p></li>
<li><p>Added a <code class="docutils literal notranslate"><span class="pre">ModuleLoader</span></code> that can load templates from
precompiled sources. The environment now features a method to
compile the templates from a configured loader into a zip file or
folder.</p></li>
<li><p>The _speedups C extension now supports Python 3.</p></li>
<li><p>Added support for autoescaping toggling sections and support for
evaluation contexts.</p></li>
<li><p>Extensions have a priority now.</p></li>
</ul>
</section>
<section id="version-2-3-1">
<h2>Version 2.3.1<a class="headerlink" href="#version-2-3-1" title="Permalink to this heading">¶</a></h2>
<p>Released 2010-02-19</p>
<ul class="simple">
<li><p>Fixed an error reporting bug on all python versions</p></li>
<li><p>Fixed an error reporting bug on Python 2.4</p></li>
</ul>
</section>
<section id="version-2-3">
<h2>Version 2.3<a class="headerlink" href="#version-2-3" title="Permalink to this heading">¶</a></h2>
<p>Released 2010-02-10, codename 3000 Pythons</p>
<ul class="simple">
<li><p>Fixes issue with code generator that causes unbound variables to be
generated if set was used in if-blocks and other small identifier
problems.</p></li>
<li><p>Include tags are now able to select between multiple templates and
take the first that exists, if a list of templates is given.</p></li>
<li><p>Fixed a problem with having call blocks in outer scopes that have an
argument that is also used as local variable in an inner frame
<a class="reference external" href="https://github.com/pallets/jinja/issues/360">#360</a>.</p></li>
<li><p>Greatly improved error message reporting <a class="reference external" href="https://github.com/pallets/jinja/pull/339">#339</a></p></li>
<li><p>Implicit tuple expressions can no longer be totally empty. This
change makes <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">if</span> <span class="pre">%}</span></code> a syntax error now. <a class="reference external" href="https://github.com/pallets/jinja/issues/364">#364</a></p></li>
<li><p>Added support for translator comments if extracted via babel.</p></li>
<li><p>Added with-statement extension.</p></li>
<li><p>Experimental Python 3 support.</p></li>
</ul>
</section>
<section id="version-2-2-1">
<h2>Version 2.2.1<a class="headerlink" href="#version-2-2-1" title="Permalink to this heading">¶</a></h2>
<p>Released 2009-09-14</p>
<ul class="simple">
<li><p>Fixes some smaller problems for Jinja on Jython.</p></li>
</ul>
</section>
<section id="version-2-2">
<h2>Version 2.2<a class="headerlink" href="#version-2-2" title="Permalink to this heading">¶</a></h2>
<p>Released 2009-09-13, codename Kong</p>
<ul class="simple">
<li><p>Include statements can now be marked with <code class="docutils literal notranslate"><span class="pre">ignore</span> <span class="pre">missing</span></code> to skip
non existing templates.</p></li>
<li><p>Priority of <code class="docutils literal notranslate"><span class="pre">not</span></code> raised. It’s now possible to write <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">foo</span> <span class="pre">in</span>
<span class="pre">bar</span></code> as an alias to <code class="docutils literal notranslate"><span class="pre">foo</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">bar</span></code> like in python. Previously
the grammar required parentheses (<code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">(foo</span> <span class="pre">in</span> <span class="pre">bar)</span></code>) which was
odd.</p></li>
<li><p>Fixed a bug that caused syntax errors when defining macros or using
the <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">call</span> <span class="pre">%}</span></code> tag inside loops.</p></li>
<li><p>Fixed a bug in the parser that made <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">foo[1,</span> <span class="pre">2]</span> <span class="pre">}}</span></code> impossible.</p></li>
<li><p>Made it possible to refer to names from outer scopes in included
templates that were unused in the callers frame <a class="reference external" href="https://github.com/pallets/jinja/issues/327">#327</a></p></li>
<li><p>Fixed a bug that caused internal errors if names where used as
iteration variable and regular variable <em>after</em> the loop if that
variable was unused <em>before</em> the loop. <a class="reference external" href="https://github.com/pallets/jinja/pull/331">#331</a></p></li>
<li><p>Added support for optional <code class="docutils literal notranslate"><span class="pre">scoped</span></code> modifier to blocks.</p></li>
<li><p>Added support for line-comments.</p></li>
<li><p>Added the <code class="docutils literal notranslate"><span class="pre">meta</span></code> module.</p></li>
<li><p>Renamed (undocumented) attribute “overlay” to “overlayed” on the
environment because it was clashing with a method of the same name.</p></li>
<li><p>Speedup extension is now disabled by default.</p></li>
</ul>
</section>
<section id="version-2-1-1">
<h2>Version 2.1.1<a class="headerlink" href="#version-2-1-1" title="Permalink to this heading">¶</a></h2>
<p>Released 2008-12-25</p>
<ul class="simple">
<li><p>Fixed a translation error caused by looping over empty recursive
loops.</p></li>
</ul>
</section>
<section id="version-2-1">
<h2>Version 2.1<a class="headerlink" href="#version-2-1" title="Permalink to this heading">¶</a></h2>
<p>Released 2008-11-23, codename Yasuzō</p>
<ul class="simple">
<li><p>Fixed a bug with nested loops and the special loop variable. Before
the change an inner loop overwrote the loop variable from the outer
one after iteration.</p></li>
<li><p>Fixed a bug with the i18n extension that caused the explicit
pluralization block to look up the wrong variable.</p></li>
<li><p>Fixed a limitation in the lexer that made <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">foo.0.0</span> <span class="pre">}}</span></code>
impossible.</p></li>
<li><p>Index based subscribing of variables with a constant value returns
an undefined object now instead of raising an index error. This was
a bug caused by eager optimizing.</p></li>
<li><p>The i18n extension looks up <code class="docutils literal notranslate"><span class="pre">foo.ugettext</span></code> now followed by
<code class="docutils literal notranslate"><span class="pre">foo.gettext</span></code> if an translations object is installed. This makes
dealing with custom translations classes easier.</p></li>
<li><p>Fixed a confusing behavior with conditional extending. loops were
partially executed under some conditions even though they were not
part of a visible area.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">sort</span></code> filter that works like <code class="docutils literal notranslate"><span class="pre">dictsort</span></code> but for arbitrary
sequences.</p></li>
<li><p>Fixed a bug with empty statements in macros.</p></li>
<li><p>Implemented a bytecode cache system.</p></li>
<li><p>The template context is now weakref-able</p></li>
<li><p>Inclusions and imports “with context” forward all variables now, not
only the initial context.</p></li>
<li><p>Added a cycle helper called <code class="docutils literal notranslate"><span class="pre">cycler</span></code>.</p></li>
<li><p>Added a joining helper called <code class="docutils literal notranslate"><span class="pre">joiner</span></code>.</p></li>
<li><p>Added a <code class="docutils literal notranslate"><span class="pre">compile_expression</span></code> method to the environment that allows
compiling of Jinja expressions into callable Python objects.</p></li>
<li><p>Fixed an escaping bug in urlize</p></li>
</ul>
</section>
<section id="version-2-0">
<h2>Version 2.0<a class="headerlink" href="#version-2-0" title="Permalink to this heading">¶</a></h2>
<p>Released 2008-07-17, codename Jinjavitus</p>
<ul class="simple">
<li><p>The subscribing of objects (looking up attributes and items) changed
from slightly. It’s now possible to give attributes or items a
higher priority by either using dot-notation lookup or the bracket
syntax. This also changed the AST slightly. <code class="docutils literal notranslate"><span class="pre">Subscript</span></code> is gone
and was replaced with <code class="docutils literal notranslate"><span class="pre">Getitem</span></code> and <code class="docutils literal notranslate"><span class="pre">Getattr</span></code>.</p></li>
<li><p>Added support for preprocessing and token stream filtering for
extensions. This would allow extensions to allow simplified gettext
calls in template data and something similar.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">TemplateStream.dump</span></code>.</p></li>
<li><p>Added missing support for implicit string literal concatenation.
<code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">&quot;foo&quot;</span> <span class="pre">&quot;bar&quot;</span> <span class="pre">}}</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">&quot;foobar&quot;</span> <span class="pre">}}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">else</span></code> is optional for conditional expressions. If not given it
evaluates to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p>Improved error reporting for undefined values by providing a
position.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">filesizeformat</span></code> filter uses decimal prefixes now per default and
can be set to binary mode with the second parameter.</p></li>
<li><p>Fixed bug in finalizer</p></li>
</ul>
</section>
<section id="version-2-0rc1">
<h2>Version 2.0rc1<a class="headerlink" href="#version-2-0rc1" title="Permalink to this heading">¶</a></h2>
<p>Released 2008-06-09</p>
<ul class="simple">
<li><p>First release of Jinja 2.</p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/jinja-logo-sidebar.png" alt="Logo"/>
            </a></p>
  

  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Changelog</a><ul>
<li><a class="reference internal" href="#version-2-11-3">Version 2.11.3</a></li>
<li><a class="reference internal" href="#version-2-11-2">Version 2.11.2</a></li>
<li><a class="reference internal" href="#version-2-11-1">Version 2.11.1</a></li>
<li><a class="reference internal" href="#version-2-11-0">Version 2.11.0</a></li>
<li><a class="reference internal" href="#version-2-10-3">Version 2.10.3</a></li>
<li><a class="reference internal" href="#version-2-10-2">Version 2.10.2</a></li>
<li><a class="reference internal" href="#version-2-10-1">Version 2.10.1</a></li>
<li><a class="reference internal" href="#version-2-10">Version 2.10</a></li>
<li><a class="reference internal" href="#version-2-9-6">Version 2.9.6</a></li>
<li><a class="reference internal" href="#version-2-9-5">Version 2.9.5</a></li>
<li><a class="reference internal" href="#version-2-9-4">Version 2.9.4</a></li>
<li><a class="reference internal" href="#version-2-9-3">Version 2.9.3</a></li>
<li><a class="reference internal" href="#version-2-9-2">Version 2.9.2</a></li>
<li><a class="reference internal" href="#version-2-9-1">Version 2.9.1</a></li>
<li><a class="reference internal" href="#version-2-9">Version 2.9</a></li>
<li><a class="reference internal" href="#version-2-8-1">Version 2.8.1</a></li>
<li><a class="reference internal" href="#version-2-8">Version 2.8</a></li>
<li><a class="reference internal" href="#version-2-7-3">Version 2.7.3</a></li>
<li><a class="reference internal" href="#version-2-7-2">Version 2.7.2</a></li>
<li><a class="reference internal" href="#version-2-7-1">Version 2.7.1</a></li>
<li><a class="reference internal" href="#version-2-7">Version 2.7</a></li>
<li><a class="reference internal" href="#version-2-6">Version 2.6</a></li>
<li><a class="reference internal" href="#version-2-5-5">Version 2.5.5</a></li>
<li><a class="reference internal" href="#version-2-5-4">Version 2.5.4</a></li>
<li><a class="reference internal" href="#version-2-5-3">Version 2.5.3</a></li>
<li><a class="reference internal" href="#version-2-5-2">Version 2.5.2</a></li>
<li><a class="reference internal" href="#version-2-5-1">Version 2.5.1</a></li>
<li><a class="reference internal" href="#version-2-5">Version 2.5</a></li>
<li><a class="reference internal" href="#version-2-4-1">Version 2.4.1</a></li>
<li><a class="reference internal" href="#version-2-4">Version 2.4</a></li>
<li><a class="reference internal" href="#version-2-3-1">Version 2.3.1</a></li>
<li><a class="reference internal" href="#version-2-3">Version 2.3</a></li>
<li><a class="reference internal" href="#version-2-2-1">Version 2.2.1</a></li>
<li><a class="reference internal" href="#version-2-2">Version 2.2</a></li>
<li><a class="reference internal" href="#version-2-1-1">Version 2.1.1</a></li>
<li><a class="reference internal" href="#version-2-1">Version 2.1</a></li>
<li><a class="reference internal" href="#version-2-0">Version 2.0</a></li>
<li><a class="reference internal" href="#version-2-0rc1">Version 2.0rc1</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
  <li><a href="index.html">Overview</a>
    <ul>
          <li>Previous: <a href="faq.html" title="previous chapter">Frequently Asked Questions</a>
          
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2007 Pallets.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    </div>
  </body>
</html>