<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta property="og:image" content="https://www.vaultproject.io/img/og-image.png"/><link href="https://www.datocms-assets.com/2885/1597163356-vault-favicon.png?h=16&amp;w=16" type="image/png" sizes="16x16" rel="icon"/><link href="https://www.datocms-assets.com/2885/1597163356-vault-favicon.png?h=32&amp;w=32" type="image/png" sizes="32x32" rel="icon"/><link href="https://www.datocms-assets.com/2885/1597163356-vault-favicon.png?h=96&amp;w=96" type="image/png" sizes="96x96" rel="icon"/><link href="https://www.datocms-assets.com/2885/1597163356-vault-favicon.png?h=192&amp;w=192" type="image/png" sizes="192x192" rel="icon"/><title>Vault Deployment Guide - Guides | Vault by HashiCorp</title><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta property="article:publisher" content="https://www.facebook.com/HashiCorp/"/><meta name="twitter:site" content="@HashiCorp"/><meta name="twitter:card" content="summary_large_image"/><meta name="theme-color" content="#000"/><meta name="description" property="og:description" content="This deployment guide covers the steps required to install and
configure a single HashiCorp Vault cluster as defined in the
Vault Reference Architecture."/><meta property="og:site_name" content="Vault by HashiCorp"/><meta name="next-head-count" content="17"/><link rel="preload" href="/docs/vault_v1.8.x/_next/static/css/7246d51e322c1bb7fa92.css" as="style"/><link rel="stylesheet" href="/docs/vault_v1.8.x/_next/static/css/7246d51e322c1bb7fa92.css" data-n-g=""/><link rel="preload" href="/docs/vault_v1.8.x/_next/static/css/fbe3b6b5804634e8fb99.css" as="style"/><link rel="stylesheet" href="/docs/vault_v1.8.x/_next/static/css/fbe3b6b5804634e8fb99.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/docs/vault_v1.8.x/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/docs/vault_v1.8.x/_next/static/chunks/framework.3519294afa6a9ab53973.js" as="script"/><link rel="preload" href="/docs/vault_v1.8.x/_next/static/chunks/2bc72d9a08d5bd816ae6b580871df9fb671d43bb.52fd5ef7a8ab7d8fc0dd.js" as="script"/><link rel="preload" href="/docs/vault_v1.8.x/_next/static/chunks/9a5be27b89b50ff891e514a88cd42f143404f9a6.033857d62f5a01edf3b3.js" as="script"/><link rel="preload" href="/docs/vault_v1.8.x/_next/static/chunks/main-b0f1f3f8bd3bddd4e6cd.js" as="script"/><link rel="preload" href="/docs/vault_v1.8.x/_next/static/chunks/b49b08e2da573413c730dfc51ae423f080a0c275.00ac32ee45240d5b343f.js" as="script"/><link rel="preload" href="/docs/vault_v1.8.x/_next/static/chunks/b1542cc239bf56c8a14913c0a930efe682b5cf86.32bb900ad80311488529.js" as="script"/><link rel="preload" href="/docs/vault_v1.8.x/_next/static/chunks/pages/_app-d714c55ad24af91621ba.js" as="script"/><link rel="preload" href="/docs/vault_v1.8.x/_next/static/chunks/7dbdcaca29374b13a0799a901e26613767d72de2.d088888a4a1113f2bb24.js" as="script"/><link rel="preload" href="/docs/vault_v1.8.x/_next/static/chunks/92f0085e0e6c1f10382de10b8861ce89d7c192a2.e5495ede8461fc33ed98.js" as="script"/><link rel="preload" href="/docs/vault_v1.8.x/_next/static/chunks/e697469aff49e0b13fc0c4d2651008fc1aaadc2b.5052eda5c7f43583669b.js" as="script"/><link rel="preload" href="/docs/vault_v1.8.x/_next/static/chunks/e697469aff49e0b13fc0c4d2651008fc1aaadc2b_CSS.f6584926f1188e1b5b3e.js" as="script"/><link rel="preload" href="/docs/vault_v1.8.x/_next/static/chunks/pages/guides/%5B%5B...page%5D%5D-72f9db6e509b49c776de.js" as="script"/></head><body><div id="__next"><div class="g-alert-banner style_vault__1OYha show themed"><a href="https://hashiconf.com/europe" class="link"><span class="g-grid-container has-large-tag"><span class="tag g-type-body-small-x-strong">Thank you</span><span class="text g-type-body-small has-large-tag">HashiConf Europe is a wrap. Watch this year’s sessions on-demand.<!-- --> <span class="link-text g-type-body-small-x-strong">Watch Now</span></span></span></a><button class="close"><div><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15 5L5 15M5 5l10 10" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div><span class="visually-hidden">Dismiss alert</span></button></div><header class="hashi-stack-menu_hashiStackMenu__2dCgY"><nav class="hashi-stack-menu_nav__3DnqS g-grid-container" aria-label="Primary HashiCorp website navigation"><a aria-label="To main HashiCorp website" href="https://www.hashicorp.com/" class="hashi-stack-menu_logoLink__2cbDW"><div data-testid="root"><svg width="317" height="88" viewBox="0 0 317 88" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M107.692 64.421V47.4h-14.97v17.02h-7.623V24.06h7.622v16.602h14.971V24.06h7.622v40.36h-7.622zm35.567-.001h-6.053l-.548-1.996a16.137 16.137 0 01-8.789 2.607c-5.397 0-7.699-3.697-7.699-8.79 0-5.998 2.607-8.3 8.606-8.3h7.089v-3.095c0-3.27-.907-4.421-5.633-4.421a41.255 41.255 0 00-8.179.877l-.907-5.634a38.496 38.496 0 0110.122-1.395c9.269 0 11.998 3.27 11.998 10.672l-.007 19.476zm-7.394-11.151h-5.45c-2.424 0-3.087.663-3.087 2.912 0 2.058.663 2.973 2.972 2.973a11.629 11.629 0 005.572-1.525l-.007-4.36zm21.701 11.754a34.776 34.776 0 01-10.183-1.7l1.029-5.633a33.038 33.038 0 008.788 1.273c3.271 0 3.758-.762 3.758-2.973 0-1.814-.366-2.729-5.152-3.88-7.211-1.76-8.058-3.575-8.058-9.269 0-5.938 2.607-8.545 11.03-8.545 2.98.003 5.949.348 8.85 1.03l-.762 5.876a51.98 51.98 0 00-8.118-.846c-3.209 0-3.758.763-3.758 2.546 0 2.363.183 2.546 4.185 3.575 8.263 2.188 9.055 3.278 9.055 9.307 0 5.725-1.761 9.239-10.664 9.239zm32.663-.602V43.84c0-1.578-.663-2.363-2.363-2.363-1.814 0-5.031 1.09-7.699 2.485v20.459h-7.394V22.847l7.394-1.029v15.33a26.045 26.045 0 0110.786-2.852c4.909 0 6.662 3.453 6.662 8.728v21.397h-7.386zm12.844-33.692v-8.545h7.394v8.545h-7.394zm0 33.692V34.906h7.394v29.515h-7.394zM215.62 35.15c0-7.394 4.299-11.693 14.361-11.693 3.697 0 7.38.447 10.969 1.334l-.839 6.601a59.517 59.517 0 00-9.909-1.029c-5.275 0-6.967 1.822-6.967 6.098v15.512c0 4.3 1.7 6.098 6.967 6.098a59.506 59.506 0 009.909-1.029l.846 6.609a45.672 45.672 0 01-10.968 1.334c-10.062 0-14.361-4.3-14.361-11.693l-.008-18.142zm40.499 29.873c-10.123 0-12.844-5.572-12.844-11.632v-7.455c0-6.06 2.728-11.632 12.844-11.632 10.115 0 12.844 5.572 12.844 11.632v7.455c-.023 6.06-2.744 11.632-12.844 11.632zm0-24.392c-3.941 0-5.45 1.76-5.45 5.092v7.912c0 3.331 1.524 5.092 5.45 5.092 3.925 0 5.45-1.76 5.45-5.092v-7.943c-.015-3.33-1.532-5.092-5.45-5.092v.03zm32.457.457a57.835 57.835 0 00-7.821 4.3v19.056h-7.394V34.906h6.243l.488 3.27a33.064 33.064 0 017.76-3.88l.724 6.792zm28.035 13.515c0 6.548-2.911 10.42-9.756 10.42a40.76 40.76 0 01-7.882-.853v12.196l-7.394 1.029V34.906h5.877l.762 2.485a15.535 15.535 0 019.33-3.087c5.938 0 9.086 3.514 9.086 10.245l-.023 10.054zm-17.631 3.331c2.152.474 4.346.73 6.548.763 2.668 0 3.697-1.274 3.697-3.941V44.35c0-2.424-.907-3.758-3.636-3.758a10.46 10.46 0 00-6.609 2.668v14.673zM29.134 7L0 23.808v40.361l10.946 6.32V30.127l18.188-10.504V7z" fill="#000"/><path d="M40.758 7v32.144H29.133V27.147l-10.945 6.319V74.65l10.946 6.335V48.932h11.624v11.914l10.946-6.312V13.32L40.758 7z" fill="#000"/><path d="M40.758 81L69.89 64.192V23.831l-10.946-6.32v40.362L40.758 68.377V81z" fill="#000"/></svg></div></a><ul class="hashi-stack-menu_menu__33a9r"><li class="nav-item_navItem__KPnS0"><button type="button" class="nav-item_buttonReset__WeJA7 nav-item_link__1827H g-type-body-small-strong ">Browse Products<span class="nav-item_visuallyHidden__20aYI">Open this menu</span><img class="nav-item_dropdownCarat__2xha-" alt="" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iNyIgdmlld0JveD0iMCAwIDEwIDciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguMDUzIDJsLTMgMy4wMDYtMy0zLjAwNiIgc3Ryb2tlPSJ2YXIoLS1ncmF5LTMpIiBzdHJva2Utd2lkdGg9IjEuMjUiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiLz48L3N2Zz4="/></button><section class="browse-panel_browsePanel__1AT8q "><menu class="stack-menu-section_stackMenuSection__2j2KK"><li class="stack-group_stackGroup__SM4W1"><h5 class="stack-group_stackGroupHeading__U-K-0 g-type-display-6">Infrastructure</h5><ul class="stack-group_stackGroupLinkList__4RMZ6"><li class="stack-item_stackItem__L41b6"><a href="https://www.terraform.io" class="stack-item_itemLink__G2Qmk"><div data-testid="root" class="stack-item_productIcon__1pF_i"><svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M55.522 32.97l32.96 19.02v38.06l-32.96-19.03V32.97zM92.09 51.99v38.06l32.95-19.03V32.97L92.09 51.99zM18.96 11.73v38.05l32.95 19.03V30.76L18.96 11.73zm36.562 101.51l32.95 19.03V94.22l-32.95-19.03v38.05z" fill="#7B42BC"/></svg></div><span class="stack-item_productName__1lhye stack-item_itemName__1cUxR g-type-body-small-strong">terraform</span></a></li><li class="stack-item_stackItem__L41b6"><a href="https://www.packer.io" class="stack-item_itemLink__G2Qmk"><div data-testid="root" class="stack-item_productIcon__1pF_i"><svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M35.09 26.38L74.22 49v83.38l-39.13-22.62V26.38z" fill="#02A8EF"/><path d="M93.6 36.13L51.06 11.62v17L80 45.34v51.05l13.61 7.82c8.421 4.86 15.311 2 15.311-6.47V60.28c-.01-8.42-6.92-19.28-15.32-24.15z" fill="#02A8EF"/></svg></div><span class="stack-item_productName__1lhye stack-item_itemName__1cUxR g-type-body-small-strong">packer</span></a></li><li class="stack-item_stackItem__L41b6"><a href="https://www.vagrantup.com" class="stack-item_itemLink__G2Qmk"><div data-testid="root" class="stack-item_productIcon__1pF_i"><svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M110.77 17.55L86.68 31.46V40L72 74.52 57.32 40v-8.54L33.23 17.55l-14.65 8.47v9.83l32.63 79.92 20.79 12 20.79-12 32.63-79.92v-9.83l-14.65-8.47z" fill="#0E67ED"/><path d="M125.42 26.02l-24.09 13.9v8.55L81.77 92.19 72 97.83v29.94l20.79-12 32.63-79.92v-9.83zM57.32 40v-8.54l-14.66 8.46v8.55l19.57 43.72L72 86.55V74.52L57.32 40z" fill="#0850C5"/></svg></div><span class="stack-item_productName__1lhye stack-item_itemName__1cUxR g-type-body-small-strong">vagrant</span></a></li></ul></li><li class="stack-group_stackGroup__SM4W1"><h5 class="stack-group_stackGroupHeading__U-K-0 g-type-display-6">Networking</h5><ul class="stack-group_stackGroupLinkList__4RMZ6"><li class="stack-item_stackItem__L41b6"><a href="https://www.consul.io" class="stack-item_itemLink__G2Qmk"><div data-testid="root" class="stack-item_productIcon__1pF_i"><svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M72.53 128.7a54.787 54.787 0 01-45.258-23.85 54.784 54.784 0 019.368-72.355 54.78 54.78 0 0172.95 1.125l-13 13.6a36 36 0 100 53.43l13 13.6a54.638 54.638 0 01-37.06 14.45zm44.081-27.401a4.49 4.49 0 114.49-4.49 4.5 4.5 0 01-4.49 4.49z" fill="#E03875"/><path d="M72.18 85.79A11.87 11.87 0 1184 73.93a11.88 11.88 0 01-11.82 11.86zm49.58.21a4.488 4.488 0 01-4.404-5.366 4.488 4.488 0 016.122-3.273 4.495 4.495 0 012.772 4.148 4.503 4.503 0 01-4.49 4.49zm-13.35-.56a4.488 4.488 0 01-4.4-5.385 4.487 4.487 0 013.555-3.515 4.49 4.49 0 11.845 8.9zm13.35-14.57a4.488 4.488 0 01-4.404-5.366 4.488 4.488 0 016.122-3.273 4.496 4.496 0 012.772 4.149 4.503 4.503 0 01-4.49 4.49zm-13.35.51a4.493 4.493 0 01-4.148-2.772 4.491 4.491 0 114.148 2.771zm8.461-15.61a4.49 4.49 0 11-.02-8.981 4.49 4.49 0 01.02 8.981z" fill="#E03875"/></svg></div><span class="stack-item_productName__1lhye stack-item_itemName__1cUxR g-type-body-small-strong">consul</span></a></li></ul></li></menu><menu class="stack-menu-section_stackMenuSection__2j2KK"><li class="stack-group_stackGroup__SM4W1"><h5 class="stack-group_stackGroupHeading__U-K-0 g-type-display-6">Security</h5><ul class="stack-group_stackGroupLinkList__4RMZ6"><li class="stack-item_stackItem__L41b6"><a href="https://www.vaultproject.io" class="stack-item_itemLink__G2Qmk"><div data-testid="root" class="stack-item_productIcon__1pF_i"><svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.88 21.15L71.8 131.4l55.321-110.25H16.881zm61.46 22.12h6.39v6.4h-6.39v-6.4zM65.61 68.84h-6.39v-6.39h6.39v6.39zm0-9.59h-6.39v-6.39h6.39v6.39zm0-9.58h-6.39v-6.4h6.39v6.4zm9.59 28.76h-6.4V72h6.4v6.43zm0-9.59h-6.4v-6.39h6.4v6.39zm0-9.59h-6.4v-6.39h6.4v6.39zm0-9.58h-6.4v-6.4h6.4v6.4zm3.14 3.19h6.39v6.39h-6.39v-6.39zm0 16v-6.41h6.39v6.39l-6.39.02z" fill="#000"/></svg></div><span class="stack-item_productName__1lhye stack-item_itemName__1cUxR g-type-body-small-strong">vault</span></a></li><li class="stack-item_stackItem__L41b6"><a href="https://www.boundaryproject.io" class="stack-item_itemLink__G2Qmk"><div data-testid="root" class="stack-item_productIcon__1pF_i"><svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M44.83 125.83v-8.27h17.18v-5.11h-8.33v-8.32h39.33L74.74 72.49l18.27-31.65H52.7v43.89H31V19.15h74.67l12.46 21.58L99.8 72.49l18.7 32.4-12.09 20.94H44.83z" fill="#F24C53"/><path d="M48.17 104.131h-8.32v8.32h8.32v-8.32zM39.32 117.5H31v8.32h8.32v-8.32z" fill="#F24C53"/></svg></div><span class="stack-item_productName__1lhye stack-item_itemName__1cUxR g-type-body-small-strong">boundary</span></a></li></ul></li><li class="stack-group_stackGroup__SM4W1"><h5 class="stack-group_stackGroupHeading__U-K-0 g-type-display-6">Applications</h5><ul class="stack-group_stackGroupLinkList__4RMZ6"><li class="stack-item_stackItem__L41b6"><a href="https://www.nomadproject.io" class="stack-item_itemLink__G2Qmk"><div data-testid="root" class="stack-item_productIcon__1pF_i"><svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M72 14L21.77 43v58L72 130l50.23-29V43L72 14zm22.38 63.78L81 85.51l-16.17-8.8v18.48l-15.2 9.64V66.19l12.06-7.38 16.73 8.82V48.76l16-9.59-.04 38.61z" fill="#00CA8E"/></svg></div><span class="stack-item_productName__1lhye stack-item_itemName__1cUxR g-type-body-small-strong">nomad</span></a></li><li class="stack-item_stackItem__L41b6"><a href="https://www.waypointproject.io" class="stack-item_itemLink__G2Qmk"><div data-testid="root" class="stack-item_productIcon__1pF_i"><svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M143.228 27.66l-17.79 30.81-17.79-30.81h35.58zM48.26 48.23H36.39l29.67 51.4-11.87 20.56L.77 27.66h59.36l29.68 51.41 5.93-10.28L72 27.66h23.74l11.88 20.57 11.87 20.56-29.68 51.4-41.55-71.96z" fill="#14C6CB"/></svg></div><span class="stack-item_productName__1lhye stack-item_itemName__1cUxR g-type-body-small-strong">waypoint</span></a></li></ul></li></menu><menu class="stack-menu-section_stackMenuSectionPlusDivider__1BPy6 stack-menu-section_stackMenuSection__2j2KK"><li class="stack-group_stackGroup__SM4W1"><h5 class="stack-group_stackGroupHeading__U-K-0 g-type-display-6">HashiCorp Cloud Platform</h5><ul class="stack-group_stackGroupLinkList__4RMZ6"><li class="stack-item_stackItem__L41b6"><a href="https://cloud.hashicorp.com/" class="stack-item_itemLink__G2Qmk"><div data-testid="root" class="stack-item_productIcon__1pF_i"><svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M72.53 128.7a54.787 54.787 0 01-45.258-23.85 54.784 54.784 0 019.368-72.355 54.78 54.78 0 0172.95 1.125l-13 13.6a36 36 0 100 53.43l13 13.6a54.638 54.638 0 01-37.06 14.45zm44.081-27.401a4.49 4.49 0 114.49-4.49 4.5 4.5 0 01-4.49 4.49z" fill="#E03875"/><path d="M72.18 85.79A11.87 11.87 0 1184 73.93a11.88 11.88 0 01-11.82 11.86zm49.58.21a4.488 4.488 0 01-4.404-5.366 4.488 4.488 0 016.122-3.273 4.495 4.495 0 012.772 4.148 4.503 4.503 0 01-4.49 4.49zm-13.35-.56a4.488 4.488 0 01-4.4-5.385 4.487 4.487 0 013.555-3.515 4.49 4.49 0 11.845 8.9zm13.35-14.57a4.488 4.488 0 01-4.404-5.366 4.488 4.488 0 016.122-3.273 4.496 4.496 0 012.772 4.149 4.503 4.503 0 01-4.49 4.49zm-13.35.51a4.493 4.493 0 01-4.148-2.772 4.491 4.491 0 114.148 2.771zm8.461-15.61a4.49 4.49 0 11-.02-8.981 4.49 4.49 0 01.02 8.981z" fill="#E03875"/></svg></div><span class="stack-item_productName__1lhye stack-item_itemName__1cUxR g-type-body-small-strong">consul</span></a></li><li class="stack-item_stackItem__L41b6"><a href="https://app.terraform.io" class="stack-item_itemLink__G2Qmk"><div data-testid="root" class="stack-item_productIcon__1pF_i"><svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M55.522 32.97l32.96 19.02v38.06l-32.96-19.03V32.97zM92.09 51.99v38.06l32.95-19.03V32.97L92.09 51.99zM18.96 11.73v38.05l32.95 19.03V30.76L18.96 11.73zm36.562 101.51l32.95 19.03V94.22l-32.95-19.03v38.05z" fill="#7B42BC"/></svg></div><span class="stack-item_productName__1lhye stack-item_itemName__1cUxR g-type-body-small-strong">terraform</span></a></li><li class="stack-item_stackItem__L41b6"><a href="https://cloud.hashicorp.com/" class="stack-item_itemLink__G2Qmk"><div data-testid="root" class="stack-item_productIcon__1pF_i"><svg width="144" height="144" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.88 21.15L71.8 131.4l55.321-110.25H16.881zm61.46 22.12h6.39v6.4h-6.39v-6.4zM65.61 68.84h-6.39v-6.39h6.39v6.39zm0-9.59h-6.39v-6.39h6.39v6.39zm0-9.58h-6.39v-6.4h6.39v6.4zm9.59 28.76h-6.4V72h6.4v6.43zm0-9.59h-6.4v-6.39h6.4v6.39zm0-9.59h-6.4v-6.39h6.4v6.39zm0-9.58h-6.4v-6.4h6.4v6.4zm3.14 3.19h6.39v6.39h-6.39v-6.39zm0 16v-6.41h6.39v6.39l-6.39.02z" fill="#000"/></svg></div><span class="stack-item_productName__1lhye stack-item_itemName__1cUxR g-type-body-small-strong">vault</span></a></li></ul></li><li class="stack-group_stackGroup__SM4W1"><h5 class="stack-group_stackGroupHeading__U-K-0 g-type-display-6">Partner Services</h5><ul class="stack-group_stackGroupLinkList__4RMZ6"><li class="stack-item_stackItem__L41b6"><a class="stack-item_itemLink__G2Qmk" href="https://www.hashicorp.com/products/consul/service-on-azure"><span class="stack-item_itemName__1cUxR g-type-body-small-strong">HashiCorp Consul Service (HCS) on Azure</span></a></li></ul></li></menu></section></li></ul></nav></header><nav class="g-subnav" aria-label="vault website navigation"><div class="constrain-width-wrapper  g-grid-container"><div class="g-subnav-inner style_vault__1OYha is-constrained" data-overflow-target="true"><a href="/" data-testid="a-raw" class="title-link brand-vault " title="vault"><div data-testid="root"><svg width="208" height="88" viewBox="0 0 208 88" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M114.849 23.69h7.92L110.699 64h-11.25l-12-40.28h7.92l9.74 33.57 9.74-33.6zM144.75 64h-6l-.55-2a16.12 16.12 0 01-8.77 2.6c-5.38 0-7.68-3.69-7.68-8.77 0-6 2.6-8.29 8.59-8.29h7.08v-3.1c0-3.27-.91-4.42-5.63-4.42a40.71 40.71 0 00-8.16.91l-.91-5.63a38.678 38.678 0 0110.1-1.39c9.25 0 12 3.27 12 10.65L144.75 64zm-7.37-11.13h-5.45c-2.42 0-3.08.67-3.08 2.91 0 2 .66 3 3 3a11.72 11.72 0 005.57-1.51l-.04-4.4zm18.992-18.35v20.56c0 1.57.66 2.36 2.36 2.36 1.7 0 5-1.09 7.68-2.48V34.52h7.38V64h-5.63l-.72-2.48a29.437 29.437 0 01-11.8 3.09c-4.9 0-6.65-3.45-6.65-8.71V34.52h7.38zM177.719 64V22.48l7.38-1V64h-7.38zm29.388-.57a20.618 20.618 0 01-6.47 1.15c-5.38 0-8.11-2.54-8.11-7.8v-16.4h-4.41v-5.86h4.41V27.2l7.38-1v8.35h7.56l-.48 5.86h-7.08v15.4a2.323 2.323 0 001.596 2.514c.344.11.708.14 1.064.085a13.919 13.919 0 003.69-.61l.85 5.63zM0 12.6l31.85 63.92L63.92 12.6H0zm35.63 12.83h3.71v3.71h-3.71v-3.71zm-7.38 14.82h-3.7v-3.7h3.7v3.7zm0-5.56h-3.7V31h3.7v3.69zm0-5.55h-3.7v-3.71h3.7v3.71zm5.6 16.67h-3.7V42.1h3.7v3.71zm0-5.56h-3.7v-3.7h3.7v3.7zm0-5.56h-3.7V31h3.7v3.69zm0-5.55h-3.7v-3.71h3.7v3.71zM35.63 31h3.71v3.7h-3.71V31zm0 9.26v-3.7h3.71v3.7h-3.71z" fill="#000"/></svg></div></a><ul class="menu-items-default menu-items-align-right"><li><a href="/" data-testid="a-raw" class="nav-link g-type-body-small-strong style-menu-item "><span class="text brand-vault ">Overview</span></a></li><li><button class="dropdown-trigger g-type-body-small-strong brand-vault style-menu-item is-collapsed"><span class="text brand-vault">Use Cases</span><div data-testid="root"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 9l6 6 6-6" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div></button><ul class="submenu-modal style-dropdown is-collapsed"><li><a href="/use-cases/secrets-management" data-testid="a-raw" class="g-type-body-small-strong style-menu-item"><span class="text brand-vault">Secrets Management</span></a></li><li><a href="/use-cases/data-encryption" data-testid="a-raw" class="g-type-body-small-strong style-menu-item"><span class="text brand-vault">Data Encryption</span></a></li><li><a href="/use-cases/identity-based-access" data-testid="a-raw" class="g-type-body-small-strong style-menu-item"><span class="text brand-vault">Identity-based Access</span></a></li></ul></li><li><a href="https://www.hashicorp.com/products/vault/enterprise" data-testid="a-raw" class="nav-link g-type-body-small-strong style-menu-item "><span class="text brand-vault ">Enterprise</span></a></li><li><span class="vertical-divider"></span></li><li><a href="https://learn.hashicorp.com/vault" data-testid="a-raw" class="nav-link g-type-body-small-strong style-menu-item "><span class="text brand-vault ">Tutorials</span></a></li><li><a href="/docs" data-testid="a-raw" class="nav-link g-type-body-small-strong style-menu-item "><span class="text brand-vault ">Docs</span></a></li><li><a href="/api-docs" data-testid="a-raw" class="nav-link g-type-body-small-strong style-menu-item "><span class="text brand-vault ">API</span></a></li><li><a href="/community" data-testid="a-raw" class="nav-link g-type-body-small-strong style-menu-item "><span class="text brand-vault ">Community</span></a></li></ul><div class="cta-links "><a href="https://www.github.com/hashicorp/vault" class="github-button"><span class="github"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg><span class="hidden-text">GitHub</span></span></a><a class="g-btn size-small variant-secondary style_vault__1OYha background-light" data-ga-button="try-cloud" href="https://portal.cloud.hashicorp.com/sign-up?utm_source=vault_io&amp;utm_content=top_nav_vault"><span class="text g-type-buttons-and-standalone-links">Try Cloud</span></a><a class="g-btn size-small variant-primary style_vault__1OYha background-light" data-ga-button="download" href="/downloads"><span class="icon at-left is-animated" data-animation="download"><div data-testid="root"><svg role="img" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Download icon</title><path d="M3 17v3a2 2 0 002 2h14a2 2 0 002-2v-3" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path data-animation-target="true" d="M8 12l4 4m0 0l4-4m-4 4V2" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div></span><span class="text g-type-buttons-and-standalone-links">Download</span></a></div></div></div></nav><div id="p-docs"><div class="content-wrap g-grid-container"><div id="sidebar" role="complementary"><div class="nav docs-nav"><div class="g-docs-sidenav style_root__-H22M style_vault__1OYha"><button class="style_mobileMenuToggle__2iMJX g-type-body-small-strong"><span><div><svg width="20" height="20" fill="none"><path fill="#000" fill-rule="evenodd" d="M3.083 14.411a.847.847 0 00-.267-.183.863.863 0 00-.483-.042c-.05.008-.109.025-.159.042a1.245 1.245 0 00-.266.183 1.01 1.01 0 00-.184.267.864.864 0 00-.058.325c0 .05 0 .108.017.158a.88.88 0 00.041.159c.025.05.05.1.084.141.025.05.066.092.1.125.041.042.082.075.125.108.05.025.091.059.141.075.05.017.109.034.159.05.058.009.107.017.166.017a.829.829 0 00.584-.25.534.534 0 00.108-.125c.025-.042.058-.091.075-.142.025-.05.042-.1.05-.158a1.06 1.06 0 00.017-.158.872.872 0 00-.067-.325.729.729 0 00-.183-.267zm0-5a.846.846 0 00-.267-.183.863.863 0 00-.483-.042 1.11 1.11 0 00-.159.042 1.252 1.252 0 00-.266.183.821.821 0 00-.242.592c0 .108.017.216.058.316a1.01 1.01 0 00.309.375c.05.025.091.05.141.075.05.017.109.034.159.05.058.009.107.017.166.017a.829.829 0 00.584-.25.83.83 0 00.25-.583.871.871 0 00-.067-.325.729.729 0 00-.183-.267zm0-5a.795.795 0 00-.75-.225 1.11 1.11 0 00-.159.042 1.255 1.255 0 00-.266.183.835.835 0 00-.242.592c0 .108.017.217.058.317a1.01 1.01 0 00.309.375c.05.025.091.05.141.075.05.016.109.033.159.05.058.008.107.016.166.016a.83.83 0 00.584-.25.83.83 0 00.25-.583.906.906 0 00-.067-.325.729.729 0 00-.183-.267zm14.414 9.756H6.663a.833.833 0 100 1.667h10.834a.833.833 0 100-1.667zm0-5H6.663a.833.833 0 100 1.667h10.834a.833.833 0 100-1.667zM18.33 5c0 .46-.372.834-.833.834H6.663a.833.833 0 110-1.667h10.834c.46 0 .833.372.833.833z" clip-rule="evenodd"/></svg></div> Documentation Menu</span></button><button type="button" aria-label="Show Search Bar" class="style_searchToggle__226HK"><div><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M8.75 15a6.25 6.25 0 100-12.5 6.25 6.25 0 000 12.5z" stroke="var(--gray-3)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M17.5 17.5l-4.333-4.333" stroke="var(--gray-3)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div></button><ul class="style_rootList__1pfEP" data-is-mobile-hidden="true" data-is-mobile-open="false"><button class="style_mobileClose__3BcsD">×</button><input class="style_filterInput__4ecGq" placeholder="Filter..." value=""/><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/getting-started/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Getting Started</span></a></li><li class=""><button class="style_navItem__1tCRc" data-is-open="false"><div class="style_navBranchIcon__-utfM style_navItemIcon__1KWKp" data-is-open="false"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.865.661a.498.498 0 10-.704.703l2.636 2.638L2.16 6.639a.498.498 0 10.704.704l2.989-2.989a.498.498 0 000-.705L2.864.66v.001z" fill="#000"/></svg></div><span>Vault Operations</span></button><ul class="style_navBranchSubnav__38wnh" data-is-open="false"><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/operations/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Overview</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/operations/reference-architecture/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Reference Architecture</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/operations/vault-ha-consul/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Vault HA with Consul</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/operations/production/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Production Hardening</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/operations/generate-root/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Root Token Generation</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/operations/rekeying-and-rotating/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Rekeying & Rotating</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/operations/plugin-backends/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Building Plugin Backends</span></a></li><hr class="style_divider__3H9xA"/><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/operations/replication/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Replication Setup & Guidance</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/operations/disaster-recovery/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Disaster Recovery Setup</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/operations/mount-filter/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Mount Filter</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/operations/multi-tenant/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Multi-Tenant: Namespaces</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/operations/autounseal-aws-kms/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Vault Auto-unseal with AWS KMS</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/operations/seal-wrap/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Seal Wrap / FIPS 140-2</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/operations/monitoring/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Vault Cluster Monitoring</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/operations/deployment-guide/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Vault Deployment Guide</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/operations/performance-nodes/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Performance Standby Nodes</span></a></li></ul></li><li class=""><button class="style_navItem__1tCRc" data-is-open="false"><div class="style_navBranchIcon__-utfM style_navItemIcon__1KWKp" data-is-open="false"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.865.661a.498.498 0 10-.704.703l2.636 2.638L2.16 6.639a.498.498 0 10.704.704l2.989-2.989a.498.498 0 000-.705L2.864.66v.001z" fill="#000"/></svg></div><span>Identity and Access Management</span></button><ul class="style_navBranchSubnav__38wnh" data-is-open="false"><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/identity/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Overview</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/identity/secure-intro/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Secure Introduction of Vault Clients</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/identity/policies/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Policies</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/identity/policy-templating/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>ACL Policy Path Templating</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/identity/authentication/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>AppRole Pull Authentication</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/identity/approle-trusted-entities/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>AppRole with Terraform and Chef</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/identity/lease/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Tokens and Leases</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/identity/identity/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Identity - Entities & Groups</span></a></li><hr class="style_divider__3H9xA"/><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/identity/sentinel/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Sentinel Policies</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/identity/control-groups/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Control Groups</span></a></li></ul></li><li class=""><button class="style_navItem__1tCRc" data-is-open="false"><div class="style_navBranchIcon__-utfM style_navItemIcon__1KWKp" data-is-open="false"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.865.661a.498.498 0 10-.704.703l2.636 2.638L2.16 6.639a.498.498 0 10.704.704l2.989-2.989a.498.498 0 000-.705L2.864.66v.001z" fill="#000"/></svg></div><span>Secrets Management</span></button><ul class="style_navBranchSubnav__38wnh" data-is-open="false"><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/secret-mgmt/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Overview</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/secret-mgmt/static-secrets/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Static Secrets</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/secret-mgmt/versioned-kv/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Versioned KV Secret Engine</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/secret-mgmt/dynamic-secrets/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Secret as a Service</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/secret-mgmt/db-root-rotation/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>DB Root Credential Rotation</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/secret-mgmt/cubbyhole/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Cubbyhole Response Wrapping</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/secret-mgmt/ssh-otp/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>One-Time SSH Password</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/secret-mgmt/pki-engine/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Build Your Own CA</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/secret-mgmt/app-integration/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Direct Application Integration</span></a></li></ul></li><li class=""><button class="style_navItem__1tCRc" data-is-open="false"><div class="style_navBranchIcon__-utfM style_navItemIcon__1KWKp" data-is-open="false"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.865.661a.498.498 0 10-.704.703l2.636 2.638L2.16 6.639a.498.498 0 10.704.704l2.989-2.989a.498.498 0 000-.705L2.864.66v.001z" fill="#000"/></svg></div><span>Encryption as a Service</span></button><ul class="style_navBranchSubnav__38wnh" data-is-open="false"><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/encryption/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Overview</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/encryption/transit/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Encryption as a Service</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/encryption/spring-demo/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Java Application Demo</span></a></li><li class=""><a class="style_navItem__1tCRc" href="/docs/vault_v1.8.x/guides/encryption/transit-rewrap/"><div class="style_navLeafIcon__49SuP style_navItemIcon__1KWKp"><svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="4" cy="4" r="2" fill="#000"/></svg></div><span>Transit Secrets Re-wrapping</span></a></li></ul></li></ul></div></div></div><div id="inner" role="main" class=""><article class="g-content g-type-long-body style_vault__1OYha"><div class="g-search"><label id="search-box-label" for="search-box" class="visually-hidden">Search Vault documentation</label><div class="c-search-box"><form novalidate="" action="" role="search"><input type="search" id="search-box" class="g-type-body-strong" placeholder="Search Vault documentation" autoComplete="off" autoCorrect="off" autoCapitalize="off" spellcheck="false" maxLength="512" required="" value="" aria-autocomplete="list" aria-controls="search-results" aria-activedescendant="" data-heap-track="SearchBox"/><button type="submit" title="Submit your search query." class="btn-submit"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M8.75 15a6.25 6.25 0 100-12.5 6.25 6.25 0 000 12.5z" stroke="var(--gray-3)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M17.5 17.5l-4.333-4.333" stroke="var(--gray-3)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></button><button type="reset" title="Clear the search query." class="btn-reset"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.915 1.077h13.684v13.684H1.915z"/><path d="M1.915 1.077l13.683 13.684M1.915 14.76L15.598 1.078" stroke="var(--gray-3)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button><div class="icon-loading"><svg width="18" height="18" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg" stroke="#444"><g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18" transform="rotate(296.263 18 18)"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g></svg></div><svg class="icon-slash" width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="img"><title>Type &#x27;/&#x27; to Search</title><rect x=".5" y=".5" width="23" height="23" rx=".5" stroke="var(--gray-3)"></rect><path d="M9 18l6-12" stroke="var(--gray-3)" stroke-width="1.5"></path></svg></form></div></div><h1 class="g-type-display-2"><a class="__permalink-h" href="#vault-deployment-guide" aria-label="vault deployment guide permalink">»</a><a class="__target-h" id="vault-deployment-guide" aria-hidden=""></a>Vault Deployment Guide</h1><p class="g-type-long-body">This deployment guide covers the steps required to install and configure a single HashiCorp Vault cluster as defined in the <a href="/guides/operations/reference-architecture">Vault Reference Architecture</a>.</p><p class="g-type-long-body">Below are instructions for installing and configuring Vault on Linux hosts running the systemd system and service manager.</p><h2 class="g-type-display-3"><a class="__permalink-h" href="#reference-material" aria-label="reference material permalink">»</a><a class="__target-h" id="reference-material" aria-hidden=""></a>Reference Material</h2><p class="g-type-long-body">This deployment guide is designed to work in combination with the <a href="/guides/operations/reference-architecture">Vault Reference Architecture</a>. Although not a strict requirement to follow the Vault Reference Architecture, please ensure you are familiar with the overall architecture design; for example installing Vault on multiple physical or virtual (with correct anti-affinity) hosts for high-availability and using Consul for the HA and storage backend.</p><p class="g-type-long-body">During the installation of Vault you should also review and apply the recommendations provided in the <a href="/guides/operations/production">Vault Production Hardening</a> guide.</p><h2 class="g-type-display-3"><a class="__permalink-h" href="#overview" aria-label="overview permalink">»</a><a class="__target-h" id="overview" aria-hidden=""></a>Overview</h2><p class="g-type-long-body">To provide a highly-available single cluster architecture, we recommend Vault be deployed to more than one host, as shown in the <a href="/guides/operations/reference-architecture">Vault Reference Architecture</a>, and connected to a Consul cluster for persistent data storage.</p><p class="g-type-long-body"><img src="/img/vault-ref-arch-2.png" alt="Reference Diagram"/></p><p class="g-type-long-body">The below setup steps should be completed on all Vault hosts.</p><ul><li class="g-type-long-body"><a href="#download-vault">Download Vault</a></li><li class="g-type-long-body"><a href="#install-vault">Install Vault</a></li><li class="g-type-long-body"><a href="#configure-systemd">Configure systemd</a></li><li class="g-type-long-body"><a href="#configure-consul">Configure Consul</a></li><li class="g-type-long-body"><a href="#configure-vault">Configure Vault</a></li><li class="g-type-long-body"><a href="#start-vault">Start Vault</a></li></ul><h2 class="g-type-display-3"><a class="__permalink-h" href="#download-vault" aria-label="download vault permalink">»</a><a class="__target-h" id="download-vault" aria-hidden=""></a>Download Vault</h2><p class="g-type-long-body">Precompiled Vault binaries are available for download at <a href="https://releases.hashicorp.com/vault/">https://releases.hashicorp.com/vault/</a> and Vault Enterprise binaries are available for download by following the instructions made available to HashiCorp Vault customers.</p><p class="g-type-long-body">You should perform checksum verification of the zip packages using the SHA256SUMS and SHA256SUMS.sig files available for the specific release version. HashiCorp provides <a href="https://www.hashicorp.com/security">a guide on checksum verification</a> for precompiled binaries.</p><div class="g-code-block style_root__3eDLf language-text style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none">VAULT_VERSION=&quot;0.10.3&quot;<!-- -->
<!-- -->curl --silent --remote-name https://releases.hashicorp.com/vault/${VAULT_VERSION}/vault_${VAULT_VERSION}_linux_amd64.zip<!-- -->
<!-- -->curl --silent --remote-name https://releases.hashicorp.com/vault/${VAULT_VERSION}/vault_${VAULT_VERSION}_SHA256SUMS<!-- -->
<!-- -->curl --silent --remote-name https://releases.hashicorp.com/vault/${VAULT_VERSION}/vault_${VAULT_VERSION}_SHA256SUMS.sig<!-- -->
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-text"><code class="style_code__2AMYw language-text"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">VAULT_VERSION=&quot;0.10.3&quot;</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">curl --silent --remote-name https://releases.hashicorp.com/vault/${VAULT_VERSION}/vault_${VAULT_VERSION}_linux_amd64.zip</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">curl --silent --remote-name https://releases.hashicorp.com/vault/${VAULT_VERSION}/vault_${VAULT_VERSION}_SHA256SUMS</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">curl --silent --remote-name https://releases.hashicorp.com/vault/${VAULT_VERSION}/vault_${VAULT_VERSION}_SHA256SUMS.sig</span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><h2 class="g-type-display-3"><a class="__permalink-h" href="#install-vault" aria-label="install vault permalink">»</a><a class="__target-h" id="install-vault" aria-hidden=""></a>Install Vault</h2><p class="g-type-long-body">Unzip the downloaded package and move the <code>vault</code> binary to <code>/usr/local/bin/</code>. Check <code>vault</code> is available on the system path.</p><div class="g-code-block style_root__3eDLf language-text style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none">unzip vault_${VAULT_VERSION}_linux_amd64.zip<!-- -->
<!-- -->sudo chown root:root vault<!-- -->
<!-- -->sudo mv vault /usr/local/bin/<!-- -->
<!-- -->vault --version<!-- -->
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-text"><code class="style_code__2AMYw language-text"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">unzip vault_${VAULT_VERSION}_linux_amd64.zip</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">sudo chown root:root vault</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">sudo mv vault /usr/local/bin/</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">vault --version</span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><p class="g-type-long-body">The <code>vault</code> command features opt-in autocompletion for flags, subcommands, and arguments (where supported). Enable autocompletion.</p><div class="g-code-block style_root__3eDLf language-text style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none">vault -autocomplete-install<!-- -->
<!-- -->complete -C /usr/local/bin/vault vault<!-- -->
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-text"><code class="style_code__2AMYw language-text"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">vault -autocomplete-install</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">complete -C /usr/local/bin/vault vault</span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><p class="g-type-long-body">Give Vault the ability to use the mlock syscall without running the process as root. The mlock syscall prevents memory from being swapped to disk.</p><div class="g-code-block style_root__3eDLf language-text style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none">sudo setcap cap_ipc_lock=+ep /usr/local/bin/vault<!-- -->
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-text"><code class="style_code__2AMYw language-text"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">sudo setcap cap_ipc_lock=+ep /usr/local/bin/vault</span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><p class="g-type-long-body">Create a unique, non-privileged system user to run Vault.</p><div class="g-code-block style_root__3eDLf language-text style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none">sudo useradd --system --home /etc/vault.d --shell /bin/false vault<!-- -->
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-text"><code class="style_code__2AMYw language-text"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">sudo useradd --system --home /etc/vault.d --shell /bin/false vault</span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><h2 class="g-type-display-3"><a class="__permalink-h" href="#configure-systemd" aria-label="configure systemd permalink">»</a><a class="__target-h" id="configure-systemd" aria-hidden=""></a>Configure systemd</h2><p class="g-type-long-body">Systemd uses <a href="https://www.freedesktop.org/software/systemd/man/systemd.directives.html">documented sane defaults</a> so only non-default values must be set in the configuration file.</p><p class="g-type-long-body">Create a Vault service file at /etc/systemd/system/vault.service.</p><div class="g-code-block style_root__3eDLf language-text style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none">sudo touch /etc/systemd/system/vault.service<!-- -->
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-text"><code class="style_code__2AMYw language-text"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">sudo touch /etc/systemd/system/vault.service</span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><p class="g-type-long-body">Add the below configuration to the Vault service file:</p><div class="g-code-block style_root__3eDLf language-text style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none">[Unit]<!-- -->
<!-- -->Description=&quot;HashiCorp Vault - A tool for managing secrets&quot;<!-- -->
<!-- -->Documentation=https://vaultproject.io/docs/<!-- -->
<!-- -->Requires=network-online.target<!-- -->
<!-- -->After=network-online.target<!-- -->
<!-- -->ConditionFileNotEmpty=/etc/vault.d/vault.hcl<!-- -->
<!-- -->
<!-- -->[Service]<!-- -->
<!-- -->User=vault<!-- -->
<!-- -->Group=vault<!-- -->
<!-- -->ProtectSystem=full<!-- -->
<!-- -->ProtectHome=read-only<!-- -->
<!-- -->PrivateTmp=yes<!-- -->
<!-- -->PrivateDevices=yes<!-- -->
<!-- -->SecureBits=keep-caps<!-- -->
<!-- -->AmbientCapabilities=CAP_IPC_LOCK<!-- -->
<!-- -->Capabilities=CAP_IPC_LOCK+ep<!-- -->
<!-- -->CapabilityBoundingSet=CAP_SYSLOG CAP_IPC_LOCK<!-- -->
<!-- -->NoNewPrivileges=yes<!-- -->
<!-- -->ExecStart=/usr/local/bin/vault server -config=/etc/vault.d/vault.hcl<!-- -->
<!-- -->ExecReload=/bin/kill --signal HUP $MAINPID<!-- -->
<!-- -->KillMode=process<!-- -->
<!-- -->KillSignal=SIGINT<!-- -->
<!-- -->Restart=on-failure<!-- -->
<!-- -->RestartSec=5<!-- -->
<!-- -->TimeoutStopSec=30<!-- -->
<!-- -->StartLimitIntervalSec=60<!-- -->
<!-- -->StartLimitBurst=3<!-- -->
<!-- -->
<!-- -->[Install]<!-- -->
<!-- -->WantedBy=multi-user.target<!-- -->
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-text"><code class="style_code__2AMYw language-text"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">[Unit]</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">Description=&quot;HashiCorp Vault - A tool for managing secrets&quot;</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">Documentation=https://vaultproject.io/docs/</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">Requires=network-online.target</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">After=network-online.target</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">ConditionFileNotEmpty=/etc/vault.d/vault.hcl</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">
</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">[Service]</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">User=vault</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">Group=vault</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">ProtectSystem=full</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">ProtectHome=read-only</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">PrivateTmp=yes</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">PrivateDevices=yes</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">SecureBits=keep-caps</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">AmbientCapabilities=CAP_IPC_LOCK</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">Capabilities=CAP_IPC_LOCK+ep</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">CapabilityBoundingSet=CAP_SYSLOG CAP_IPC_LOCK</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">NoNewPrivileges=yes</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">ExecStart=/usr/local/bin/vault server -config=/etc/vault.d/vault.hcl</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">ExecReload=/bin/kill --signal HUP $MAINPID</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">KillMode=process</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">KillSignal=SIGINT</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">Restart=on-failure</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">RestartSec=5</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">TimeoutStopSec=30</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">StartLimitIntervalSec=60</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">StartLimitBurst=3</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">
</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">[Install]</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">WantedBy=multi-user.target</span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><p class="g-type-long-body">The following parameters are set for the <code>[Unit]</code> stanza:</p><ul><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html#Description="><code>Description</code></a> - Free-form string describing the vault service</li><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html#Documentation="><code>Documentation</code></a> - Link to the vault documentation</li><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html#Requires="><code>Requires</code></a> - Configure a requirement dependency on the network service</li><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html#Before="><code>After</code></a> - Configure an ordering dependency on the network service being started before the vault service</li><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html#ConditionArchitecture="><code>ConditionFileNotEmpty</code></a> - Check for a non-zero sized configuration file before vault is started</li></ul><p class="g-type-long-body">The following parameters are set for the <code>[Service]</code> stanza:</p><ul><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.exec.html#User="><code>User</code>, <code>Group</code></a> - Run vault as the vault user</li><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.exec.html#Sandboxing"><code>ProtectSystem</code>, <code>ProtectHome</code>, <code>PrivateTmp</code>, <code>PrivateDevices</code></a> - Sandboxing settings to improve the security of the host by restricting vault privileges and access</li><li class="g-type-long-body"><a href="http://man7.org/linux/man-pages/man7/capabilities.7.html"><code>SecureBits</code>, <code>Capabilities</code>, <code>CapabilityBoundingSet</code>, <code>AmbientCapabilities</code></a> - Configure the capabilities of the vault process</li><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.exec.html#NoNewPrivileges="><code>NoNewPrivileges</code></a> - Prevent vault and any child process from gaining new privileges</li><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.service.html#ExecStart="><code>ExecStart</code></a> - Start vault with the <code>server</code> argument and path to the configuration file</li><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.service.html#ExecReload="><code>ExecReload</code></a> - Send vault a HUP signal to trigger a configuration reload in vault</li><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.kill.html#KillMode="><code>KillMode</code></a> - Treat vault as a single process</li><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.kill.html#KillSignal="><code>KillSignal</code></a> - Send SIGINT signal when shutting down vault</li><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.service.html#RestartSec="><code>Restart</code></a> - Restart vault (<a href="/docs/concepts/seal">in a sealed state</a>) unless it returned a clean exit code</li><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.service.html#RestartSec="><code>RestartSec</code></a> - Restart vault after 5 seconds of it being considered &#x27;failed&#x27;</li><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.service.html#TimeoutStopSec="><code>TimeoutStopSec</code></a> - Wait 30 seconds for a clean stop before sending a SIGKILL signal</li><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html#StartLimitIntervalSec=interval"><code>StartLimitIntervalSec</code>, <code>StartLimitBurst</code></a> - Limit vault to three start attempts in 60 seconds</li></ul><p class="g-type-long-body">The following parameters are set for the <code>[Install]</code> stanza:</p><ul><li class="g-type-long-body"><a href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html#WantedBy="><code>WantedBy</code></a> - Creates a weak dependency on vault being started by the multi-user run level</li></ul><h2 class="g-type-display-3"><a class="__permalink-h" href="#configure-consul" aria-label="configure consul permalink">»</a><a class="__target-h" id="configure-consul" aria-hidden=""></a>Configure Consul</h2><p class="g-type-long-body">When using Consul as the storage backend for Vault, we recommend using Consul&#x27;s <a href="https://www.consul.io/docs/guides/acl.html">ACL system</a> to restrict access to the path where Vault stores data. This access restriction is an added security measure in addition to the <a href="/docs/internals/architecture">encryption Vault uses to protect data</a> written to the storage backend.</p><p class="g-type-long-body">The Consul website provides documentation on <a href="https://www.consul.io/docs/guides/acl.html#bootstrapping-acls">bootstrapping the ACL system</a>, generating a management token and using that token to add some initial tokens for Consul agents, UI access etc. You should complete the bootstrapping section of the Consul documentation before continuing with this guide.</p><p class="g-type-long-body">Vault requires a Consul token with specific policy to limit the requests Vault can make to Consul endpoints.</p><p class="g-type-long-body">On a host running a Consul agent, and using a Consul management token, create a Consul client token with specific policy for Vault:</p><h3 class="g-type-display-4"><a class="__permalink-h" href="#consul-lt-1-4" aria-label="consul lt 1 4 permalink">»</a><a class="__target-h" id="consul-lt-1-4" aria-hidden=""></a>Consul &lt; 1.4</h3><div class="g-code-block style_root__3eDLf language-text style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none">CONSUL_TOKEN=&quot;6609e426-1aeb-4b0d-c302-3a7568fbc1f9&quot;<!-- -->
<!-- -->curl \<!-- -->
<!-- -->    --request PUT \<!-- -->
<!-- -->    --header &quot;X-Consul-Token: ${CONSUL_TOKEN}&quot; \<!-- -->
<!-- -->    --data \<!-- -->
<!-- -->&#x27;{<!-- -->
<!-- -->  &quot;Name&quot;: &quot;Vault Token&quot;,<!-- -->
<!-- -->  &quot;Type&quot;: &quot;client&quot;,<!-- -->
<!-- -->  &quot;Rules&quot;: &quot;node \&quot;\&quot; { policy = \&quot;write\&quot; } service \&quot;vault\&quot; { policy = \&quot;write\&quot; } agent \&quot;\&quot; { policy = \&quot;write\&quot; }  key \&quot;vault/\&quot; { policy = \&quot;write\&quot; } session \&quot;\&quot; { policy = \&quot;write\&quot; } &quot;<!-- -->
<!-- -->}&#x27; http://127.0.0.1:8500/v1/acl/create<!-- -->
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-text"><code class="style_code__2AMYw language-text"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">CONSUL_TOKEN=&quot;6609e426-1aeb-4b0d-c302-3a7568fbc1f9&quot;</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">curl \</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">    --request PUT \</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">    --header &quot;X-Consul-Token: ${CONSUL_TOKEN}&quot; \</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">    --data \</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">&#x27;{</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">  &quot;Name&quot;: &quot;Vault Token&quot;,</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">  &quot;Type&quot;: &quot;client&quot;,</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">  &quot;Rules&quot;: &quot;node \&quot;\&quot; { policy = \&quot;write\&quot; } service \&quot;vault\&quot; { policy = \&quot;write\&quot; } agent \&quot;\&quot; { policy = \&quot;write\&quot; }  key \&quot;vault/\&quot; { policy = \&quot;write\&quot; } session \&quot;\&quot; { policy = \&quot;write\&quot; } &quot;</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">}&#x27; http://127.0.0.1:8500/v1/acl/create</span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><h3 class="g-type-display-4"><a class="__permalink-h" href="#consul-1-4" aria-label="consul 1 4 permalink">»</a><a class="__target-h" id="consul-1-4" aria-hidden=""></a>Consul &gt;= 1.4</h3><div class="g-code-block style_root__3eDLf language-text style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none">CONSUL_TOKEN=&quot;6609e426-1aeb-4b0d-c302-3a7568fbc1f9&quot;<!-- -->
<!-- -->curl \<!-- -->
<!-- -->    --request PUT \<!-- -->
<!-- -->    --header &quot;X-Consul-Token: ${CONSUL_TOKEN}&quot; \<!-- -->
<!-- -->    --data \<!-- -->
<!-- -->&#x27;{<!-- -->
<!-- -->  &quot;Name&quot;: &quot;Vault Token&quot;,<!-- -->
<!-- -->  &quot;Type&quot;: &quot;client&quot;,<!-- -->
<!-- -->  &quot;Rules&quot;: &quot;node_prefix \&quot;\&quot; { policy = \&quot;write\&quot; } service \&quot;vault\&quot; { policy = \&quot;write\&quot; } agent_prefix \&quot;\&quot; { policy = \&quot;write\&quot; }  key_prefix \&quot;vault/\&quot; { policy = \&quot;write\&quot; } session_prefix \&quot;\&quot; { policy = \&quot;write\&quot; } &quot;<!-- -->
<!-- -->}&#x27; http://127.0.0.1:8500/v1/acl/create<!-- -->
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-text"><code class="style_code__2AMYw language-text"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">CONSUL_TOKEN=&quot;6609e426-1aeb-4b0d-c302-3a7568fbc1f9&quot;</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">curl \</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">    --request PUT \</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">    --header &quot;X-Consul-Token: ${CONSUL_TOKEN}&quot; \</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">    --data \</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">&#x27;{</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">  &quot;Name&quot;: &quot;Vault Token&quot;,</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">  &quot;Type&quot;: &quot;client&quot;,</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">  &quot;Rules&quot;: &quot;node_prefix \&quot;\&quot; { policy = \&quot;write\&quot; } service \&quot;vault\&quot; { policy = \&quot;write\&quot; } agent_prefix \&quot;\&quot; { policy = \&quot;write\&quot; }  key_prefix \&quot;vault/\&quot; { policy = \&quot;write\&quot; } session_prefix \&quot;\&quot; { policy = \&quot;write\&quot; } &quot;</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">}&#x27; http://127.0.0.1:8500/v1/acl/create</span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><p class="g-type-long-body">The response includes the value you will use as the <code>token</code> parameter value in Vault&#x27;s storage stanza configuration. An example response:</p><div class="g-code-block style_root__3eDLf language-json style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none"><span class="token punctuation">{</span> <span class="token property">&quot;ID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fe3b8d40-0ee0-8783-6cc2-ab1aa9bb16c1&quot;</span> <span class="token punctuation">}</span>
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-json"><code class="style_code__2AMYw language-json"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl"><span class="token punctuation">{</span> <span class="token property">&quot;ID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fe3b8d40-0ee0-8783-6cc2-ab1aa9bb16c1&quot;</span> <span class="token punctuation">}</span></span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><h2 class="g-type-display-3"><a class="__permalink-h" href="#configure-vault" aria-label="configure vault permalink">»</a><a class="__target-h" id="configure-vault" aria-hidden=""></a>Configure Vault</h2><p class="g-type-long-body">Vault uses <a href="/docs/configuration">documented sane defaults</a> so only non-default values must be set in the configuration file.</p><p class="g-type-long-body">Create a configuration file at /etc/vault.d/vault.hcl:</p><div class="g-code-block style_root__3eDLf language-text style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none">sudo mkdir --parents /etc/vault.d<!-- -->
<!-- -->sudo touch /etc/vault.d/vault.hcl<!-- -->
<!-- -->sudo chown --recursive vault:vault /etc/vault.d<!-- -->
<!-- -->sudo chmod 640 /etc/vault.d/vault.hcl<!-- -->
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-text"><code class="style_code__2AMYw language-text"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">sudo mkdir --parents /etc/vault.d</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">sudo touch /etc/vault.d/vault.hcl</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">sudo chown --recursive vault:vault /etc/vault.d</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">sudo chmod 640 /etc/vault.d/vault.hcl</span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><h3 class="g-type-display-4"><a class="__permalink-h" href="#listener-stanza" aria-label="listener stanza permalink">»</a><a class="__target-h" id="listener-stanza" aria-hidden=""></a>Listener stanza</h3><p class="g-type-long-body">The <code>listener</code> stanza configures the addresses and ports on which Vault will respond to requests.</p><p class="g-type-long-body">Add the below configuration to the Vault configuration file:</p><div class="g-code-block style_root__3eDLf language-hcl style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none">listener <span class="token string">&quot;tcp&quot;</span> <span class="token punctuation">{</span>
<!-- -->  <span class="token property">address</span>       <span class="token punctuation">=</span> <span class="token string">&quot;0.0.0.0:8200&quot;</span>
<!-- -->  <span class="token property">tls_cert_file</span> <span class="token punctuation">=</span> <span class="token string">&quot;/path/to/fullchain.pem&quot;</span>
<!-- -->  <span class="token property">tls_key_file</span>  <span class="token punctuation">=</span> <span class="token string">&quot;/path/to/privkey.pem&quot;</span>
<span class="token punctuation">}</span>
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-hcl"><code class="style_code__2AMYw language-hcl"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">listener <span class="token string">&quot;tcp&quot;</span> <span class="token punctuation">{</span></span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">  <span class="token property">address</span>       <span class="token punctuation">=</span> <span class="token string">&quot;0.0.0.0:8200&quot;</span></span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">  <span class="token property">tls_cert_file</span> <span class="token punctuation">=</span> <span class="token string">&quot;/path/to/fullchain.pem&quot;</span></span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">  <span class="token property">tls_key_file</span>  <span class="token punctuation">=</span> <span class="token string">&quot;/path/to/privkey.pem&quot;</span></span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl"><span class="token punctuation">}</span></span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><p class="g-type-long-body">The following parameters are set for the <code>tcp</code> listener stanza:</p><ul><li class="g-type-long-body"><a href="/docs/configuration/listener/tcp#address"><code>address</code></a> <code>(string: &quot;127.0.0.1:8200&quot;)</code> - Changing from the loopback address to allow external access to the Vault UI</li><li class="g-type-long-body"><a href="/docs/configuration/listener/tcp#tls_cert_file"><code>tls_cert_file</code></a> <code>(string: &lt;required-if-enabled&gt;, reloads-on-SIGHUP)</code> - Must be set when using TLS</li><li class="g-type-long-body"><a href="/docs/configuration/listener/tcp#tls_key_file"><code>tls_key_file</code></a> <code>(string: &lt;required-if-enabled&gt;, reloads-on-SIGHUP)</code> - Must be set when using TLS</li></ul><p class="g-type-long-body"><a href="/docs/configuration/listener/tcp">More information about tcp listener configuration</a>.</p><div class="alert alert-warning g-type-body" role="alert"><p class="g-type-long-body">Vault should always be configured to use TLS to provide secure communication between clients and the Vault cluster. This requires a certificate file and key file be installed on each Linux host running Vault. The certificate file and key file must have permissions allowing the vault user/group to read them.</p></div><h3 class="g-type-display-4"><a class="__permalink-h" href="#seal-stanza" aria-label="seal stanza permalink">»</a><a class="__target-h" id="seal-stanza" aria-hidden=""></a>Seal stanza</h3><p class="g-type-long-body">This is an <strong>ENTERPRISE</strong> feature.</p><p class="g-type-long-body">If you are deploying <a href="https://www.hashicorp.com/products/vault">Vault Enterprise</a>, you can include <code>seal</code> stanza configuration to specify the seal type to use for additional data protection, such as using HSM or Cloud KMS solutions to encrypt and decrypt the Vault master key. This stanza is optional, and if this is not configured, Vault will use the Shamir algorithm to cryptographically split the master key.</p><p class="g-type-long-body">If you are deploying Vault Enterprise, you should review the <a href="/docs/configuration/seal">seal configuration section</a> of our documentation.</p><p class="g-type-long-body">An example PKCS #11 compatible HSM example is:</p><div class="g-code-block style_root__3eDLf language-hcl style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none">seal <span class="token string">&quot;pkcs11&quot;</span> <span class="token punctuation">{</span>
<!-- -->  <span class="token property">lib</span>            <span class="token punctuation">=</span> <span class="token string">&quot;/usr/vault/lib/libCryptoki2_64.so&quot;</span>
<!-- -->  <span class="token property">slot</span>           <span class="token punctuation">=</span> <span class="token string">&quot;0&quot;</span>
<!-- -->  <span class="token property">pin</span>            <span class="token punctuation">=</span> <span class="token string">&quot;AAAA-BBBB-CCCC-DDDD&quot;</span>
<!-- -->  <span class="token property">key_label</span>      <span class="token punctuation">=</span> <span class="token string">&quot;vault-hsm-key&quot;</span>
<!-- -->  <span class="token property">hmac_key_label</span> <span class="token punctuation">=</span> <span class="token string">&quot;vault-hsm-hmac-key&quot;</span>
<span class="token punctuation">}</span>
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-hcl"><code class="style_code__2AMYw language-hcl"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">seal <span class="token string">&quot;pkcs11&quot;</span> <span class="token punctuation">{</span></span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">  <span class="token property">lib</span>            <span class="token punctuation">=</span> <span class="token string">&quot;/usr/vault/lib/libCryptoki2_64.so&quot;</span></span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">  <span class="token property">slot</span>           <span class="token punctuation">=</span> <span class="token string">&quot;0&quot;</span></span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">  <span class="token property">pin</span>            <span class="token punctuation">=</span> <span class="token string">&quot;AAAA-BBBB-CCCC-DDDD&quot;</span></span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">  <span class="token property">key_label</span>      <span class="token punctuation">=</span> <span class="token string">&quot;vault-hsm-key&quot;</span></span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">  <span class="token property">hmac_key_label</span> <span class="token punctuation">=</span> <span class="token string">&quot;vault-hsm-hmac-key&quot;</span></span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl"><span class="token punctuation">}</span></span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><h3 class="g-type-display-4"><a class="__permalink-h" href="#storage-stanza" aria-label="storage stanza permalink">»</a><a class="__target-h" id="storage-stanza" aria-hidden=""></a>Storage stanza</h3><p class="g-type-long-body">The <code>storage</code> stanza configures the storage backend, which represents the location for the durable storage of Vault&#x27;s data.</p><p class="g-type-long-body">Add the below configuration to the Vault configuration file:</p><div class="g-code-block style_root__3eDLf language-hcl style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none">storage <span class="token string">&quot;consul&quot;</span> <span class="token punctuation">{</span>
<!-- -->  <span class="token property">token</span> <span class="token punctuation">=</span> <span class="token string">&quot;{{ consul_token }}&quot;</span>
<span class="token punctuation">}</span>
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-hcl"><code class="style_code__2AMYw language-hcl"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">storage <span class="token string">&quot;consul&quot;</span> <span class="token punctuation">{</span></span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">  <span class="token property">token</span> <span class="token punctuation">=</span> <span class="token string">&quot;{{ consul_token }}&quot;</span></span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl"><span class="token punctuation">}</span></span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><p class="g-type-long-body">The following parameters are set for the <code>consul</code> storage stanza:</p><ul><li class="g-type-long-body"><a href="/docs/configuration/storage/consul#token"><code>token</code></a> <code>(string: &quot;&quot;)</code> - Specify the Consul ACL token with permission to read and write from <code>/vault</code> in Consul&#x27;s key-value store</li></ul><p class="g-type-long-body"><a href="/docs/configuration/storage/consul">More information about consul storage configuration</a>.</p><div class="alert alert-warning g-type-body" role="alert"><p class="g-type-long-body">Vault should always be configured to use a Consul token with a restrictive ACL policy to read and write from <code>/vault</code> in Consul&#x27;s key-value store. This follows the principal of least privilege, ensuring Vault is unable to access Consul key-value data stored outside of the <code>/vault</code> path.</p></div><h3 class="g-type-display-4"><a class="__permalink-h" href="#telemetry-stanza" aria-label="telemetry stanza permalink">»</a><a class="__target-h" id="telemetry-stanza" aria-hidden=""></a>Telemetry stanza</h3><p class="g-type-long-body">The <code>telemetry</code> stanza specifies various configurations for Vault to publish metrics to upstream systems.</p><p class="g-type-long-body">If you decide to configure Vault to publish telemetry data, you should review the <a href="/docs/configuration/telemetry">telemetry configuration section</a> of our documentation.</p><h3 class="g-type-display-4"><a class="__permalink-h" href="#high-availability-parameters" aria-label="high availability parameters permalink">»</a><a class="__target-h" id="high-availability-parameters" aria-hidden=""></a>High Availability Parameters</h3><p class="g-type-long-body">The <code>api_addr</code> parameter configures the API address used in high availability scenarios, when client redirection is used instead of request forwarding. Client redirection is the fallback method used when request forwarding is turned off or there is an error performing the forwarding. As such, a redirect address is always required for all HA setups.</p><p class="g-type-long-body">This parameter value defaults to the <code>address</code> specified in the <code>listener</code> stanza, but Vault will log a <code>[WARN]</code> message if it is not explicitly configured.</p><p class="g-type-long-body">Add the below configuration to the Vault configuration file:</p><div class="g-code-block style_root__3eDLf language-hcl style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none"><span class="token property">api_addr</span> <span class="token punctuation">=</span> <span class="token string">&quot;{{ full URL to Vault API endpoint }}&quot;</span>
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-hcl"><code class="style_code__2AMYw language-hcl"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl"><span class="token property">api_addr</span> <span class="token punctuation">=</span> <span class="token string">&quot;{{ full URL to Vault API endpoint }}&quot;</span></span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><p class="g-type-long-body"><a href="/docs/configuration#high-availability-parameters">More information about high availability configuration</a>.</p><h3 class="g-type-display-4"><a class="__permalink-h" href="#vault-ui" aria-label="vault ui permalink">»</a><a class="__target-h" id="vault-ui" aria-hidden=""></a>Vault UI</h3><p class="g-type-long-body">Vault features a web-based user interface, allowing you to easily create, read, update, and delete secrets, authenticate, unseal, and more using a graphical user interface, rather than the CLI or API.</p><p class="g-type-long-body">Vault should not be deployed in a public internet facing environment, so enabling the Vault UI is typically of benefit to provide a more familiar experience to administrators who are not as comfortable working on the command line, or who do not have alternative access.</p><p class="g-type-long-body">Optionally, add the below configuration to the Vault configuration file to enable the Vault UI:</p><div class="g-code-block style_root__3eDLf language-hcl style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none"><span class="token property">ui</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-hcl"><code class="style_code__2AMYw language-hcl"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl"><span class="token property">ui</span> <span class="token punctuation">=</span> <span class="token boolean">true</span></span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><p class="g-type-long-body"><a href="/docs/configuration/ui">More information about configuring the Vault UI</a>.</p><h2 class="g-type-display-3"><a class="__permalink-h" href="#start-vault" aria-label="start vault permalink">»</a><a class="__target-h" id="start-vault" aria-hidden=""></a>Start Vault</h2><p class="g-type-long-body">Enable and start Vault using the systemctl command responsible for controlling systemd managed services. Check the status of the vault service using systemctl.</p><div class="g-code-block style_root__3eDLf language-text style_codeMargin__gCa5y theme-dark_base__2i1UN theme-dark_syntax__1ok1Y" data-heap-track="code-block"><pre style="display:none">sudo systemctl enable vault<!-- -->
<!-- -->sudo systemctl start vault<!-- -->
<!-- -->sudo systemctl status vault<!-- -->
</pre><div class="style_linesContainer__3neRW"><pre class="style_pre__1vh6Z language-text"><code class="style_code__2AMYw language-text"><span class="style_linesColumn__33g5m style_styledScrollbars__2aszk"><span class="style_linesWrapper__3Hf6o"><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">sudo systemctl enable vault</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">sudo systemctl start vault</span><span class="style_LineOfCode__Ykefu g-type-code style_hasFloatingCopyButton__18ybl">sudo systemctl status vault</span></span></span></code></pre><div class="style_copyButtonContainer__1tl-z"><div class="style_copyButtonBackground__1VUWz"><button class="style_button__3y017 g-type-body-small-strong" data-heap-track="code-block-clipboard-icon" type="button">Copy<div class="style_svg__1ZhpC"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.82 3C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4.18zM10 13H7v2h3v-2zm-3 6h5v-2H7v2zM7 9v2h6V9H7zm5-6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 21V5h2v1.007h10V5h2v5.992h2.003V17H19v4H5zm11.99-3v-3H24v-2h-7.01v-3L13 14l3.99 4z" fill="#000"/></svg></div></button></div></div></div></div><h2 class="g-type-display-3"><a class="__permalink-h" href="#next-steps" aria-label="next steps permalink">»</a><a class="__target-h" id="next-steps" aria-hidden=""></a>Next Steps</h2><ul><li class="g-type-long-body">Read <a href="/guides/operations/production">Production Hardening</a> to learn best
practices for a production hardening deployment of Vault.</li></ul></article></div></div><div id="edit-this-page" class="g-container"><a href="https://github.com/hashicorp/vault/blob/main/website/content/guides/operations/deployment-guide.mdx"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjMiIGhlaWdodD0iMjIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExLjYwOC4zNDJDNS41MzUuMzQyLjYxIDUuMTYyLjYxIDExLjEwOGMwIDQuNzU3IDMuMTUyIDguNzkyIDcuNTIzIDEwLjIxNS41NS4xLjc1MS0uMjMzLjc1MS0uNTE4IDAtLjI1Ni0uMDEtLjkzMy0uMDE1LTEuODMxLTMuMDYuNjUtMy43MDUtMS40NDQtMy43MDUtMS40NDQtLjUtMS4yNDMtMS4yMjItMS41NzQtMS4yMjItMS41NzQtLjk5OC0uNjY4LjA3Ni0uNjU1LjA3Ni0uNjU1IDEuMTA0LjA3NiAxLjY4NSAxLjExIDEuNjg1IDEuMTEuOTgxIDEuNjQ1IDIuNTc1IDEuMTcgMy4yMDEuODk0LjEtLjY5NS4zODUtMS4xNy42OTktMS40MzktMi40NDMtLjI3MS01LjAxMS0xLjE5NS01LjAxMS01LjMyIDAtMS4xNzYuNDI5LTIuMTM3IDEuMTMyLTIuODktLjExMy0uMjcyLS40OS0xLjM2Ny4xMDgtMi44NDkgMCAwIC45MjQtLjI4OSAzLjAyNSAxLjEwNC44NzctLjI0IDEuODE5LS4zNTggMi43NTQtLjM2My45MzQuMDA1IDEuODc1LjEyNCAyLjc1NC4zNjMgMi4xLTEuMzkzIDMuMDIyLTEuMTA0IDMuMDIyLTEuMTA0LjYgMS40ODIuMjIyIDIuNTc3LjExIDIuODUuNzA1Ljc1MiAxLjEzIDEuNzEzIDEuMTMgMi44ODggMCA0LjEzNi0yLjU3MiA1LjA0Ni01LjAyMiA1LjMxMy4zOTQuMzMyLjc0Ni45OS43NDYgMS45OTQgMCAxLjQzOC0uMDEzIDIuNi0uMDEzIDIuOTUzIDAgLjI4OC4xOTguNjIzLjc1Ni41MTggNC4zNjgtMS40MjcgNy41MTYtNS40NiA3LjUxNi0xMC4yMTUgMC01Ljk0Ni00LjkyNS0xMC43NjYtMTEtMTAuNzY2IiBmaWxsPSIjMTYxNTE0IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=" alt="github logo"/><span>Edit this page</span></a></div></div><footer class="g-footer"><div class="g-container"><div class="left"><a href="/docs/vault_v1.8.x/docs/">Docs</a><a href="/docs/vault_v1.8.x/api/">API</a><a href="https://learn.hashicorp.com/vault">Learn</a><a href="/docs/vault_v1.8.x/community/">Community</a><a href="https://hashicorp.com/privacy">Privacy</a><a href="/docs/vault_v1.8.x/security/">Security</a><a href="/docs/vault_v1.8.x/files/press-kit.zip">Press Kit</a><a>Consent Manager</a></div></div></footer><div id="g-consent-manager"></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"currentPath":"operations/deployment-guide","frontMatter":{"layout":"guides","page_title":"Vault Deployment Guide - Guides","description":"This deployment guide covers the steps required to install and\nconfigure a single HashiCorp Vault cluster as defined in the\nVault Reference Architecture.","ea_version":1},"githubFileUrl":"https://github.com/hashicorp/vault/blob/main/website/content/guides/operations/deployment-guide.mdx","mdxSource":{"compiledSource":"var c=Object.defineProperty;var i=Object.prototype.hasOwnProperty;var l=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable;var r=(a,t,n)=\u003et in a?c(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,e=(a,t)=\u003e{for(var n in t||(t={}))i.call(t,n)\u0026\u0026r(a,n,t[n]);if(l)for(var n of l(t))o.call(t,n)\u0026\u0026r(a,n,t[n]);return a};var p=(a,t)=\u003e{var n={};for(var s in a)i.call(a,s)\u0026\u0026t.indexOf(s)\u003c0\u0026\u0026(n[s]=a[s]);if(a!=null\u0026\u0026l)for(var s of l(a))t.indexOf(s)\u003c0\u0026\u0026o.call(a,s)\u0026\u0026(n[s]=a[s]);return n};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var s=n,{components:a}=s,t=p(s,[\"components\"]);return mdx(MDXLayout,e(e(e({},layoutProps),t),{components:a,mdxType:\"MDXLayout\"}),mdx(\"h1\",e({},{className:\"g-type-display-2\"}),mdx(\"a\",e({parentName:\"h1\"},{className:\"__permalink-h\",href:\"#vault-deployment-guide\",\"aria-label\":\"vault deployment guide permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h1\"},{className:\"__target-h\",id:\"vault-deployment-guide\",\"aria-hidden\":\"\"})),\"Vault Deployment Guide\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"This deployment guide covers the steps required to install and configure a single HashiCorp Vault cluster as defined in the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/guides/operations/reference-architecture\"}),\"Vault Reference Architecture\"),\".\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Below are instructions for installing and configuring Vault on Linux hosts running the systemd system and service manager.\"),mdx(\"h2\",e({},{className:\"g-type-display-3\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#reference-material\",\"aria-label\":\"reference material permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h2\"},{className:\"__target-h\",id:\"reference-material\",\"aria-hidden\":\"\"})),\"Reference Material\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"This deployment guide is designed to work in combination with the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/guides/operations/reference-architecture\"}),\"Vault Reference Architecture\"),\". Although not a strict requirement to follow the Vault Reference Architecture, please ensure you are familiar with the overall architecture design; for example installing Vault on multiple physical or virtual (with correct anti-affinity) hosts for high-availability and using Consul for the HA and storage backend.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"During the installation of Vault you should also review and apply the recommendations provided in the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/guides/operations/production\"}),\"Vault Production Hardening\"),\" guide.\"),mdx(\"h2\",e({},{className:\"g-type-display-3\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#overview\",\"aria-label\":\"overview permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h2\"},{className:\"__target-h\",id:\"overview\",\"aria-hidden\":\"\"})),\"Overview\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"To provide a highly-available single cluster architecture, we recommend Vault be deployed to more than one host, as shown in the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/guides/operations/reference-architecture\"}),\"Vault Reference Architecture\"),\", and connected to a Consul cluster for persistent data storage.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"img\",e({parentName:\"p\"},{src:\"/img/vault-ref-arch-2.png\",alt:\"Reference Diagram\"}))),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The below setup steps should be completed on all Vault hosts.\"),mdx(\"ul\",null,mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"#download-vault\"}),\"Download Vault\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"#install-vault\"}),\"Install Vault\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"#configure-systemd\"}),\"Configure systemd\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"#configure-consul\"}),\"Configure Consul\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"#configure-vault\"}),\"Configure Vault\")),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"#start-vault\"}),\"Start Vault\"))),mdx(\"h2\",e({},{className:\"g-type-display-3\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#download-vault\",\"aria-label\":\"download vault permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h2\"},{className:\"__target-h\",id:\"download-vault\",\"aria-hidden\":\"\"})),\"Download Vault\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Precompiled Vault binaries are available for download at \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://releases.hashicorp.com/vault/\"}),\"https://releases.hashicorp.com/vault/\"),\" and Vault Enterprise binaries are available for download by following the instructions made available to HashiCorp Vault customers.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"You should perform checksum verification of the zip packages using the SHA256SUMS and SHA256SUMS.sig files available for the specific release version. HashiCorp provides \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.hashicorp.com/security\"}),\"a guide on checksum verification\"),\" for precompiled binaries.\"),mdx(\"pre\",e({},{className:\"language-text\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-text\"}),'VAULT_VERSION=\"0.10.3\"',`\n`,\"curl --silent --remote-name https://releases.hashicorp.com/vault/${VAULT_VERSION}/vault_${VAULT_VERSION}_linux_amd64.zip\",`\n`,\"curl --silent --remote-name https://releases.hashicorp.com/vault/${VAULT_VERSION}/vault_${VAULT_VERSION}_SHA256SUMS\",`\n`,\"curl --silent --remote-name https://releases.hashicorp.com/vault/${VAULT_VERSION}/vault_${VAULT_VERSION}_SHA256SUMS.sig\",`\n`)),mdx(\"h2\",e({},{className:\"g-type-display-3\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#install-vault\",\"aria-label\":\"install vault permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h2\"},{className:\"__target-h\",id:\"install-vault\",\"aria-hidden\":\"\"})),\"Install Vault\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Unzip the downloaded package and move the \",mdx(\"inlineCode\",{parentName:\"p\"},\"vault\"),\" binary to \",mdx(\"inlineCode\",{parentName:\"p\"},\"/usr/local/bin/\"),\". Check \",mdx(\"inlineCode\",{parentName:\"p\"},\"vault\"),\" is available on the system path.\"),mdx(\"pre\",e({},{className:\"language-text\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-text\"}),\"unzip vault_${VAULT_VERSION}_linux_amd64.zip\",`\n`,\"sudo chown root:root vault\",`\n`,\"sudo mv vault /usr/local/bin/\",`\n`,\"vault --version\",`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"vault\"),\" command features opt-in autocompletion for flags, subcommands, and arguments (where supported). Enable autocompletion.\"),mdx(\"pre\",e({},{className:\"language-text\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-text\"}),\"vault -autocomplete-install\",`\n`,\"complete -C /usr/local/bin/vault vault\",`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Give Vault the ability to use the mlock syscall without running the process as root. The mlock syscall prevents memory from being swapped to disk.\"),mdx(\"pre\",e({},{className:\"language-text\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-text\"}),\"sudo setcap cap_ipc_lock=+ep /usr/local/bin/vault\",`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Create a unique, non-privileged system user to run Vault.\"),mdx(\"pre\",e({},{className:\"language-text\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-text\"}),\"sudo useradd --system --home /etc/vault.d --shell /bin/false vault\",`\n`)),mdx(\"h2\",e({},{className:\"g-type-display-3\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#configure-systemd\",\"aria-label\":\"configure systemd permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h2\"},{className:\"__target-h\",id:\"configure-systemd\",\"aria-hidden\":\"\"})),\"Configure systemd\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Systemd uses \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.directives.html\"}),\"documented sane defaults\"),\" so only non-default values must be set in the configuration file.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Create a Vault service file at /etc/systemd/system/vault.service.\"),mdx(\"pre\",e({},{className:\"language-text\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-text\"}),\"sudo touch /etc/systemd/system/vault.service\",`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Add the below configuration to the Vault service file:\"),mdx(\"pre\",e({},{className:\"language-text\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-text\"}),\"[Unit]\",`\n`,'Description=\"HashiCorp Vault - A tool for managing secrets\"',`\n`,\"Documentation=https://vaultproject.io/docs/\",`\n`,\"Requires=network-online.target\",`\n`,\"After=network-online.target\",`\n`,\"ConditionFileNotEmpty=/etc/vault.d/vault.hcl\",`\n`,`\n`,\"[Service]\",`\n`,\"User=vault\",`\n`,\"Group=vault\",`\n`,\"ProtectSystem=full\",`\n`,\"ProtectHome=read-only\",`\n`,\"PrivateTmp=yes\",`\n`,\"PrivateDevices=yes\",`\n`,\"SecureBits=keep-caps\",`\n`,\"AmbientCapabilities=CAP_IPC_LOCK\",`\n`,\"Capabilities=CAP_IPC_LOCK+ep\",`\n`,\"CapabilityBoundingSet=CAP_SYSLOG CAP_IPC_LOCK\",`\n`,\"NoNewPrivileges=yes\",`\n`,\"ExecStart=/usr/local/bin/vault server -config=/etc/vault.d/vault.hcl\",`\n`,\"ExecReload=/bin/kill --signal HUP $MAINPID\",`\n`,\"KillMode=process\",`\n`,\"KillSignal=SIGINT\",`\n`,\"Restart=on-failure\",`\n`,\"RestartSec=5\",`\n`,\"TimeoutStopSec=30\",`\n`,\"StartLimitIntervalSec=60\",`\n`,\"StartLimitBurst=3\",`\n`,`\n`,\"[Install]\",`\n`,\"WantedBy=multi-user.target\",`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The following parameters are set for the \",mdx(\"inlineCode\",{parentName:\"p\"},\"[Unit]\"),\" stanza:\"),mdx(\"ul\",null,mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.unit.html#Description=\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"Description\")),\" - Free-form string describing the vault service\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.unit.html#Documentation=\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"Documentation\")),\" - Link to the vault documentation\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.unit.html#Requires=\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"Requires\")),\" - Configure a requirement dependency on the network service\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.unit.html#Before=\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"After\")),\" - Configure an ordering dependency on the network service being started before the vault service\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.unit.html#ConditionArchitecture=\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ConditionFileNotEmpty\")),\" - Check for a non-zero sized configuration file before vault is started\")),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The following parameters are set for the \",mdx(\"inlineCode\",{parentName:\"p\"},\"[Service]\"),\" stanza:\"),mdx(\"ul\",null,mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.exec.html#User=\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"User\"),\", \",mdx(\"inlineCode\",{parentName:\"a\"},\"Group\")),\" - Run vault as the vault user\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.exec.html#Sandboxing\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ProtectSystem\"),\", \",mdx(\"inlineCode\",{parentName:\"a\"},\"ProtectHome\"),\", \",mdx(\"inlineCode\",{parentName:\"a\"},\"PrivateTmp\"),\", \",mdx(\"inlineCode\",{parentName:\"a\"},\"PrivateDevices\")),\" - Sandboxing settings to improve the security of the host by restricting vault privileges and access\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"http://man7.org/linux/man-pages/man7/capabilities.7.html\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"SecureBits\"),\", \",mdx(\"inlineCode\",{parentName:\"a\"},\"Capabilities\"),\", \",mdx(\"inlineCode\",{parentName:\"a\"},\"CapabilityBoundingSet\"),\", \",mdx(\"inlineCode\",{parentName:\"a\"},\"AmbientCapabilities\")),\" - Configure the capabilities of the vault process\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.exec.html#NoNewPrivileges=\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"NoNewPrivileges\")),\" - Prevent vault and any child process from gaining new privileges\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.service.html#ExecStart=\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ExecStart\")),\" - Start vault with the \",mdx(\"inlineCode\",{parentName:\"li\"},\"server\"),\" argument and path to the configuration file\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.service.html#ExecReload=\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ExecReload\")),\" - Send vault a HUP signal to trigger a configuration reload in vault\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.kill.html#KillMode=\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"KillMode\")),\" - Treat vault as a single process\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.kill.html#KillSignal=\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"KillSignal\")),\" - Send SIGINT signal when shutting down vault\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.service.html#RestartSec=\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"Restart\")),\" - Restart vault (\",mdx(\"a\",e({parentName:\"li\"},{href:\"/docs/concepts/seal\"}),\"in a sealed state\"),\") unless it returned a clean exit code\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.service.html#RestartSec=\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"RestartSec\")),\" - Restart vault after 5 seconds of it being considered 'failed'\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.service.html#TimeoutStopSec=\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"TimeoutStopSec\")),\" - Wait 30 seconds for a clean stop before sending a SIGKILL signal\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.unit.html#StartLimitIntervalSec=interval\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"StartLimitIntervalSec\"),\", \",mdx(\"inlineCode\",{parentName:\"a\"},\"StartLimitBurst\")),\" - Limit vault to three start attempts in 60 seconds\")),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The following parameters are set for the \",mdx(\"inlineCode\",{parentName:\"p\"},\"[Install]\"),\" stanza:\"),mdx(\"ul\",null,mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.freedesktop.org/software/systemd/man/systemd.unit.html#WantedBy=\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"WantedBy\")),\" - Creates a weak dependency on vault being started by the multi-user run level\")),mdx(\"h2\",e({},{className:\"g-type-display-3\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#configure-consul\",\"aria-label\":\"configure consul permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h2\"},{className:\"__target-h\",id:\"configure-consul\",\"aria-hidden\":\"\"})),\"Configure Consul\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"When using Consul as the storage backend for Vault, we recommend using Consul's \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.consul.io/docs/guides/acl.html\"}),\"ACL system\"),\" to restrict access to the path where Vault stores data. This access restriction is an added security measure in addition to the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/docs/internals/architecture\"}),\"encryption Vault uses to protect data\"),\" written to the storage backend.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The Consul website provides documentation on \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.consul.io/docs/guides/acl.html#bootstrapping-acls\"}),\"bootstrapping the ACL system\"),\", generating a management token and using that token to add some initial tokens for Consul agents, UI access etc. You should complete the bootstrapping section of the Consul documentation before continuing with this guide.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Vault requires a Consul token with specific policy to limit the requests Vault can make to Consul endpoints.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"On a host running a Consul agent, and using a Consul management token, create a Consul client token with specific policy for Vault:\"),mdx(\"h3\",e({},{className:\"g-type-display-4\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#consul-lt-1-4\",\"aria-label\":\"consul lt 1 4 permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h3\"},{className:\"__target-h\",id:\"consul-lt-1-4\",\"aria-hidden\":\"\"})),\"Consul \u003c 1.4\"),mdx(\"pre\",e({},{className:\"language-text\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-text\"}),'CONSUL_TOKEN=\"6609e426-1aeb-4b0d-c302-3a7568fbc1f9\"',`\n`,\"curl \\\\\",`\n`,\"    --request PUT \\\\\",`\n`,'    --header \"X-Consul-Token: ${CONSUL_TOKEN}\" \\\\',`\n`,\"    --data \\\\\",`\n`,\"'{\",`\n`,'  \"Name\": \"Vault Token\",',`\n`,'  \"Type\": \"client\",',`\n`,'  \"Rules\": \"node \\\\\"\\\\\" { policy = \\\\\"write\\\\\" } service \\\\\"vault\\\\\" { policy = \\\\\"write\\\\\" } agent \\\\\"\\\\\" { policy = \\\\\"write\\\\\" }  key \\\\\"vault/\\\\\" { policy = \\\\\"write\\\\\" } session \\\\\"\\\\\" { policy = \\\\\"write\\\\\" } \"',`\n`,\"}' http://127.0.0.1:8500/v1/acl/create\",`\n`)),mdx(\"h3\",e({},{className:\"g-type-display-4\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#consul-1-4\",\"aria-label\":\"consul 1 4 permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h3\"},{className:\"__target-h\",id:\"consul-1-4\",\"aria-hidden\":\"\"})),\"Consul \u003e= 1.4\"),mdx(\"pre\",e({},{className:\"language-text\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-text\"}),'CONSUL_TOKEN=\"6609e426-1aeb-4b0d-c302-3a7568fbc1f9\"',`\n`,\"curl \\\\\",`\n`,\"    --request PUT \\\\\",`\n`,'    --header \"X-Consul-Token: ${CONSUL_TOKEN}\" \\\\',`\n`,\"    --data \\\\\",`\n`,\"'{\",`\n`,'  \"Name\": \"Vault Token\",',`\n`,'  \"Type\": \"client\",',`\n`,'  \"Rules\": \"node_prefix \\\\\"\\\\\" { policy = \\\\\"write\\\\\" } service \\\\\"vault\\\\\" { policy = \\\\\"write\\\\\" } agent_prefix \\\\\"\\\\\" { policy = \\\\\"write\\\\\" }  key_prefix \\\\\"vault/\\\\\" { policy = \\\\\"write\\\\\" } session_prefix \\\\\"\\\\\" { policy = \\\\\"write\\\\\" } \"',`\n`,\"}' http://127.0.0.1:8500/v1/acl/create\",`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The response includes the value you will use as the \",mdx(\"inlineCode\",{parentName:\"p\"},\"token\"),\" parameter value in Vault's storage stanza configuration. An example response:\"),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ID\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"fe3b8d40-0ee0-8783-6cc2-ab1aa9bb16c1\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"h2\",e({},{className:\"g-type-display-3\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#configure-vault\",\"aria-label\":\"configure vault permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h2\"},{className:\"__target-h\",id:\"configure-vault\",\"aria-hidden\":\"\"})),\"Configure Vault\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Vault uses \",mdx(\"a\",e({parentName:\"p\"},{href:\"/docs/configuration\"}),\"documented sane defaults\"),\" so only non-default values must be set in the configuration file.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Create a configuration file at /etc/vault.d/vault.hcl:\"),mdx(\"pre\",e({},{className:\"language-text\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-text\"}),\"sudo mkdir --parents /etc/vault.d\",`\n`,\"sudo touch /etc/vault.d/vault.hcl\",`\n`,\"sudo chown --recursive vault:vault /etc/vault.d\",`\n`,\"sudo chmod 640 /etc/vault.d/vault.hcl\",`\n`)),mdx(\"h3\",e({},{className:\"g-type-display-4\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#listener-stanza\",\"aria-label\":\"listener stanza permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h3\"},{className:\"__target-h\",id:\"listener-stanza\",\"aria-hidden\":\"\"})),\"Listener stanza\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"listener\"),\" stanza configures the addresses and ports on which Vault will respond to requests.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Add the below configuration to the Vault configuration file:\"),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),\"listener \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"tcp\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"address\"),\"       \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"0.0.0.0:8200\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"tls_cert_file\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"/path/to/fullchain.pem\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"tls_key_file\"),\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"/path/to/privkey.pem\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The following parameters are set for the \",mdx(\"inlineCode\",{parentName:\"p\"},\"tcp\"),\" listener stanza:\"),mdx(\"ul\",null,mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"/docs/configuration/listener/tcp#address\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"address\")),\" \",mdx(\"inlineCode\",{parentName:\"li\"},'(string: \"127.0.0.1:8200\")'),\" - Changing from the loopback address to allow external access to the Vault UI\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"/docs/configuration/listener/tcp#tls_cert_file\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"tls_cert_file\")),\" \",mdx(\"inlineCode\",{parentName:\"li\"},\"(string: \u003crequired-if-enabled\u003e, reloads-on-SIGHUP)\"),\" - Must be set when using TLS\"),mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"/docs/configuration/listener/tcp#tls_key_file\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"tls_key_file\")),\" \",mdx(\"inlineCode\",{parentName:\"li\"},\"(string: \u003crequired-if-enabled\u003e, reloads-on-SIGHUP)\"),\" - Must be set when using TLS\")),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"/docs/configuration/listener/tcp\"}),\"More information about tcp listener configuration\"),\".\"),mdx(\"div\",e({},{className:\"alert alert-warning g-type-body\",role:\"alert\"}),mdx(\"p\",e({parentName:\"div\"},{className:\"g-type-long-body\"}),\"Vault should always be configured to use TLS to provide secure communication between clients and the Vault cluster. This requires a certificate file and key file be installed on each Linux host running Vault. The certificate file and key file must have permissions allowing the vault user/group to read them.\")),mdx(\"h3\",e({},{className:\"g-type-display-4\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#seal-stanza\",\"aria-label\":\"seal stanza permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h3\"},{className:\"__target-h\",id:\"seal-stanza\",\"aria-hidden\":\"\"})),\"Seal stanza\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"This is an \",mdx(\"strong\",{parentName:\"p\"},\"ENTERPRISE\"),\" feature.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"If you are deploying \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.hashicorp.com/products/vault\"}),\"Vault Enterprise\"),\", you can include \",mdx(\"inlineCode\",{parentName:\"p\"},\"seal\"),\" stanza configuration to specify the seal type to use for additional data protection, such as using HSM or Cloud KMS solutions to encrypt and decrypt the Vault master key. This stanza is optional, and if this is not configured, Vault will use the Shamir algorithm to cryptographically split the master key.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"If you are deploying Vault Enterprise, you should review the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/docs/configuration/seal\"}),\"seal configuration section\"),\" of our documentation.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"An example PKCS #11 compatible HSM example is:\"),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),\"seal \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"pkcs11\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"lib\"),\"            \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"/usr/vault/lib/libCryptoki2_64.so\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"slot\"),\"           \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"0\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"pin\"),\"            \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"AAAA-BBBB-CCCC-DDDD\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"key_label\"),\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"vault-hsm-key\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"hmac_key_label\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"vault-hsm-hmac-key\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"h3\",e({},{className:\"g-type-display-4\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#storage-stanza\",\"aria-label\":\"storage stanza permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h3\"},{className:\"__target-h\",id:\"storage-stanza\",\"aria-hidden\":\"\"})),\"Storage stanza\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"storage\"),\" stanza configures the storage backend, which represents the location for the durable storage of Vault's data.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Add the below configuration to the Vault configuration file:\"),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),\"storage \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"consul\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"token\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{ consul_token }}\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The following parameters are set for the \",mdx(\"inlineCode\",{parentName:\"p\"},\"consul\"),\" storage stanza:\"),mdx(\"ul\",null,mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"li\"},{href:\"/docs/configuration/storage/consul#token\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"token\")),\" \",mdx(\"inlineCode\",{parentName:\"li\"},'(string: \"\")'),\" - Specify the Consul ACL token with permission to read and write from \",mdx(\"inlineCode\",{parentName:\"li\"},\"/vault\"),\" in Consul's key-value store\")),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"/docs/configuration/storage/consul\"}),\"More information about consul storage configuration\"),\".\"),mdx(\"div\",e({},{className:\"alert alert-warning g-type-body\",role:\"alert\"}),mdx(\"p\",e({parentName:\"div\"},{className:\"g-type-long-body\"}),\"Vault should always be configured to use a Consul token with a restrictive ACL policy to read and write from \",mdx(\"inlineCode\",{parentName:\"p\"},\"/vault\"),\" in Consul's key-value store. This follows the principal of least privilege, ensuring Vault is unable to access Consul key-value data stored outside of the \",mdx(\"inlineCode\",{parentName:\"p\"},\"/vault\"),\" path.\")),mdx(\"h3\",e({},{className:\"g-type-display-4\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#telemetry-stanza\",\"aria-label\":\"telemetry stanza permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h3\"},{className:\"__target-h\",id:\"telemetry-stanza\",\"aria-hidden\":\"\"})),\"Telemetry stanza\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"telemetry\"),\" stanza specifies various configurations for Vault to publish metrics to upstream systems.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"If you decide to configure Vault to publish telemetry data, you should review the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/docs/configuration/telemetry\"}),\"telemetry configuration section\"),\" of our documentation.\"),mdx(\"h3\",e({},{className:\"g-type-display-4\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#high-availability-parameters\",\"aria-label\":\"high availability parameters permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h3\"},{className:\"__target-h\",id:\"high-availability-parameters\",\"aria-hidden\":\"\"})),\"High Availability Parameters\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"api_addr\"),\" parameter configures the API address used in high availability scenarios, when client redirection is used instead of request forwarding. Client redirection is the fallback method used when request forwarding is turned off or there is an error performing the forwarding. As such, a redirect address is always required for all HA setups.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"This parameter value defaults to the \",mdx(\"inlineCode\",{parentName:\"p\"},\"address\"),\" specified in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"listener\"),\" stanza, but Vault will log a \",mdx(\"inlineCode\",{parentName:\"p\"},\"[WARN]\"),\" message if it is not explicitly configured.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Add the below configuration to the Vault configuration file:\"),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"api_addr\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{ full URL to Vault API endpoint }}\"'),`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"/docs/configuration#high-availability-parameters\"}),\"More information about high availability configuration\"),\".\"),mdx(\"h3\",e({},{className:\"g-type-display-4\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#vault-ui\",\"aria-label\":\"vault ui permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h3\"},{className:\"__target-h\",id:\"vault-ui\",\"aria-hidden\":\"\"})),\"Vault UI\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Vault features a web-based user interface, allowing you to easily create, read, update, and delete secrets, authenticate, unseal, and more using a graphical user interface, rather than the CLI or API.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Vault should not be deployed in a public internet facing environment, so enabling the Vault UI is typically of benefit to provide a more familiar experience to administrators who are not as comfortable working on the command line, or who do not have alternative access.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Optionally, add the below configuration to the Vault configuration file to enable the Vault UI:\"),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"ui\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"a\",e({parentName:\"p\"},{href:\"/docs/configuration/ui\"}),\"More information about configuring the Vault UI\"),\".\"),mdx(\"h2\",e({},{className:\"g-type-display-3\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#start-vault\",\"aria-label\":\"start vault permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h2\"},{className:\"__target-h\",id:\"start-vault\",\"aria-hidden\":\"\"})),\"Start Vault\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Enable and start Vault using the systemctl command responsible for controlling systemd managed services. Check the status of the vault service using systemctl.\"),mdx(\"pre\",e({},{className:\"language-text\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-text\"}),\"sudo systemctl enable vault\",`\n`,\"sudo systemctl start vault\",`\n`,\"sudo systemctl status vault\",`\n`)),mdx(\"h2\",e({},{className:\"g-type-display-3\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#next-steps\",\"aria-label\":\"next steps permalink\"}),\"\\xBB\"),mdx(\"a\",e({parentName:\"h2\"},{className:\"__target-h\",id:\"next-steps\",\"aria-hidden\":\"\"})),\"Next Steps\"),mdx(\"ul\",null,mdx(\"li\",e({parentName:\"ul\"},{className:\"g-type-long-body\"}),\"Read \",mdx(\"a\",e({parentName:\"li\"},{href:\"/guides/operations/production\"}),\"Production Hardening\"),` to learn best\npractices for a production hardening deployment of Vault.`)))}MDXContent.isMDXComponent=!0;\n","scope":{}},"navData":[{"title":"Getting Started","path":"getting-started","filePath":"content/guides/getting-started.mdx"},{"title":"Vault Operations","routes":[{"title":"Overview","path":"operations","filePath":"content/guides/operations/index.mdx"},{"title":"Reference Architecture","path":"operations/reference-architecture","filePath":"content/guides/operations/reference-architecture.mdx"},{"title":"Vault HA with Consul","path":"operations/vault-ha-consul","filePath":"content/guides/operations/vault-ha-consul.mdx"},{"title":"Production Hardening","path":"operations/production","filePath":"content/guides/operations/production.mdx"},{"title":"Root Token Generation","path":"operations/generate-root","filePath":"content/guides/operations/generate-root.mdx"},{"title":"Rekeying \u0026 Rotating","path":"operations/rekeying-and-rotating","filePath":"content/guides/operations/rekeying-and-rotating.mdx"},{"title":"Building Plugin Backends","path":"operations/plugin-backends","filePath":"content/guides/operations/plugin-backends.mdx"},{"divider":true},{"title":"Replication Setup \u0026 Guidance","path":"operations/replication","filePath":"content/guides/operations/replication.mdx"},{"title":"Disaster Recovery Setup","path":"operations/disaster-recovery","filePath":"content/guides/operations/disaster-recovery.mdx"},{"title":"Mount Filter","path":"operations/mount-filter","filePath":"content/guides/operations/mount-filter.mdx"},{"title":"Multi-Tenant: Namespaces","path":"operations/multi-tenant","filePath":"content/guides/operations/multi-tenant.mdx"},{"title":"Vault Auto-unseal with AWS KMS","path":"operations/autounseal-aws-kms","filePath":"content/guides/operations/autounseal-aws-kms.mdx"},{"title":"Seal Wrap / FIPS 140-2","path":"operations/seal-wrap","filePath":"content/guides/operations/seal-wrap.mdx"},{"title":"Vault Cluster Monitoring","path":"operations/monitoring","filePath":"content/guides/operations/monitoring.mdx"},{"title":"Vault Deployment Guide","path":"operations/deployment-guide","filePath":"content/guides/operations/deployment-guide.mdx"},{"title":"Performance Standby Nodes","path":"operations/performance-nodes","filePath":"content/guides/operations/performance-nodes.mdx"}]},{"title":"Identity and Access Management","routes":[{"title":"Overview","path":"identity","filePath":"content/guides/identity/index.mdx"},{"title":"Secure Introduction of Vault Clients","path":"identity/secure-intro","filePath":"content/guides/identity/secure-intro.mdx"},{"title":"Policies","path":"identity/policies","filePath":"content/guides/identity/policies.mdx"},{"title":"ACL Policy Path Templating","path":"identity/policy-templating","filePath":"content/guides/identity/policy-templating.mdx"},{"title":"AppRole Pull Authentication","path":"identity/authentication","filePath":"content/guides/identity/authentication.mdx"},{"title":"AppRole with Terraform and Chef","path":"identity/approle-trusted-entities","filePath":"content/guides/identity/approle-trusted-entities.mdx"},{"title":"Tokens and Leases","path":"identity/lease","filePath":"content/guides/identity/lease.mdx"},{"title":"Identity - Entities \u0026 Groups","path":"identity/identity","filePath":"content/guides/identity/identity.mdx"},{"divider":true},{"title":"Sentinel Policies","path":"identity/sentinel","filePath":"content/guides/identity/sentinel.mdx"},{"title":"Control Groups","path":"identity/control-groups","filePath":"content/guides/identity/control-groups.mdx"}]},{"title":"Secrets Management","routes":[{"title":"Overview","path":"secret-mgmt","filePath":"content/guides/secret-mgmt/index.mdx"},{"title":"Static Secrets","path":"secret-mgmt/static-secrets","filePath":"content/guides/secret-mgmt/static-secrets.mdx"},{"title":"Versioned KV Secret Engine","path":"secret-mgmt/versioned-kv","filePath":"content/guides/secret-mgmt/versioned-kv.mdx"},{"title":"Secret as a Service","path":"secret-mgmt/dynamic-secrets","filePath":"content/guides/secret-mgmt/dynamic-secrets.mdx"},{"title":"DB Root Credential Rotation","path":"secret-mgmt/db-root-rotation","filePath":"content/guides/secret-mgmt/db-root-rotation.mdx"},{"title":"Cubbyhole Response Wrapping","path":"secret-mgmt/cubbyhole","filePath":"content/guides/secret-mgmt/cubbyhole.mdx"},{"title":"One-Time SSH Password","path":"secret-mgmt/ssh-otp","filePath":"content/guides/secret-mgmt/ssh-otp.mdx"},{"title":"Build Your Own CA","path":"secret-mgmt/pki-engine","filePath":"content/guides/secret-mgmt/pki-engine.mdx"},{"title":"Direct Application Integration","path":"secret-mgmt/app-integration","filePath":"content/guides/secret-mgmt/app-integration.mdx"}]},{"title":"Encryption as a Service","routes":[{"title":"Overview","path":"encryption","filePath":"content/guides/encryption/index.mdx"},{"title":"Encryption as a Service","path":"encryption/transit","filePath":"content/guides/encryption/transit.mdx"},{"title":"Java Application Demo","path":"encryption/spring-demo","filePath":"content/guides/encryption/spring-demo.mdx"},{"title":"Transit Secrets Re-wrapping","path":"encryption/transit-rewrap","filePath":"content/guides/encryption/transit-rewrap.mdx"}]}],"versions":[]},"__N_SSG":true},"page":"/guides/[[...page]]","query":{"page":["operations","deployment-guide"]},"buildId":"pcCu12fyWK7PoQNj4BZ7-","assetPrefix":"/docs/vault_v1.8.x","isFallback":false,"gsp":true}</script><script nomodule="" src="/docs/vault_v1.8.x/_next/static/chunks/polyfills-e4c38ea28892f36667af.js"></script><script src="/docs/vault_v1.8.x/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/docs/vault_v1.8.x/_next/static/chunks/framework.3519294afa6a9ab53973.js" async=""></script><script src="/docs/vault_v1.8.x/_next/static/chunks/2bc72d9a08d5bd816ae6b580871df9fb671d43bb.52fd5ef7a8ab7d8fc0dd.js" async=""></script><script src="/docs/vault_v1.8.x/_next/static/chunks/9a5be27b89b50ff891e514a88cd42f143404f9a6.033857d62f5a01edf3b3.js" async=""></script><script src="/docs/vault_v1.8.x/_next/static/chunks/main-b0f1f3f8bd3bddd4e6cd.js" async=""></script><script src="/docs/vault_v1.8.x/_next/static/chunks/b49b08e2da573413c730dfc51ae423f080a0c275.00ac32ee45240d5b343f.js" async=""></script><script src="/docs/vault_v1.8.x/_next/static/chunks/b1542cc239bf56c8a14913c0a930efe682b5cf86.32bb900ad80311488529.js" async=""></script><script src="/docs/vault_v1.8.x/_next/static/chunks/pages/_app-d714c55ad24af91621ba.js" async=""></script><script src="/docs/vault_v1.8.x/_next/static/chunks/7dbdcaca29374b13a0799a901e26613767d72de2.d088888a4a1113f2bb24.js" async=""></script><script src="/docs/vault_v1.8.x/_next/static/chunks/92f0085e0e6c1f10382de10b8861ce89d7c192a2.e5495ede8461fc33ed98.js" async=""></script><script src="/docs/vault_v1.8.x/_next/static/chunks/e697469aff49e0b13fc0c4d2651008fc1aaadc2b.5052eda5c7f43583669b.js" async=""></script><script src="/docs/vault_v1.8.x/_next/static/chunks/e697469aff49e0b13fc0c4d2651008fc1aaadc2b_CSS.f6584926f1188e1b5b3e.js" async=""></script><script src="/docs/vault_v1.8.x/_next/static/chunks/pages/guides/%5B%5B...page%5D%5D-72f9db6e509b49c776de.js" async=""></script><script src="/docs/vault_v1.8.x/_next/static/pcCu12fyWK7PoQNj4BZ7-/_buildManifest.js" async=""></script><script src="/docs/vault_v1.8.x/_next/static/pcCu12fyWK7PoQNj4BZ7-/_ssgManifest.js" async=""></script><script nomodule="">window.MSInputMethodContext && document.documentMode && document.write('<script src="/ie-custom-properties.js"><\x2fscript>');</script></body></html>