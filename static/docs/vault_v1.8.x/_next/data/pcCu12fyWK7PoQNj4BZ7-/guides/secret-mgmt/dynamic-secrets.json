{"pageProps":{"currentPath":"secret-mgmt/dynamic-secrets","frontMatter":{"layout":"guides","page_title":"Secret as a Service - Guides","description":"Vault can dynamically generate secrets on-demand for some systems."},"githubFileUrl":"https://github.com/hashicorp/vault/blob/main/website/content/guides/secret-mgmt/dynamic-secrets.mdx","mdxSource":{"compiledSource":"var c=Object.defineProperty;var o=Object.prototype.hasOwnProperty;var p=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable;var r=(e,n,s)=>n in e?c(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,a=(e,n)=>{for(var s in n||(n={}))o.call(n,s)&&r(e,s,n[s]);if(p)for(var s of p(n))l.call(n,s)&&r(e,s,n[s]);return e};var m=(e,n)=>{var s={};for(var t in e)o.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&p)for(var t of p(e))n.indexOf(t)<0&&l.call(e,t)&&(s[t]=e[t]);return s};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(s){var t=s,{components:e}=t,n=m(t,[\"components\"]);return mdx(MDXLayout,a(a(a({},layoutProps),n),{components:e,mdxType:\"MDXLayout\"}),mdx(\"h1\",a({},{className:\"g-type-display-2\"}),mdx(\"a\",a({parentName:\"h1\"},{className:\"__permalink-h\",href:\"#secret-as-a-service-dynamic-secrets\",\"aria-label\":\"secret as a service dynamic secrets permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h1\"},{className:\"__target-h\",id:\"secret-as-a-service-dynamic-secrets\",\"aria-hidden\":\"\"})),\"Secret as a Service: Dynamic Secrets\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`Vault can generate secrets on-demand for some systems. For example, when an app\nneeds to access an Amazon S3 bucket, it asks Vault for AWS credentials. Vault\nwill generate an AWS credential granting permissions to access the S3 bucket. In\naddition, Vault will automatically revoke this credential after the TTL is\nexpired.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"The \",mdx(\"a\",a({parentName:\"p\"},{href:\"/intro/getting-started/dynamic-secrets\"}),\"Getting Started\"),` guide walks\nyou through the generation of dynamic AWS credentials.`),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#reference-material\",\"aria-label\":\"reference material permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"reference-material\",\"aria-hidden\":\"\"})),\"Reference Material\"),mdx(\"ul\",null,mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{href:\"/intro/getting-started/dynamic-secrets\"}),\"Getting Started - Dynamic Secrets\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{href:\"/docs/secrets/databases\"}),\"Secret Engines - Databases\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{href:\"/api/secret/databases#create-role\"}),\"Role API\"))),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#estimated-time-to-complete\",\"aria-label\":\"estimated time to complete permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"estimated-time-to-complete\",\"aria-hidden\":\"\"})),\"Estimated Time to Complete\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"10 minutes\"),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#personas\",\"aria-label\":\"personas permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"personas\",\"aria-hidden\":\"\"})),\"Personas\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"The end-to-end scenario described in this guide involves two personas:\"),mdx(\"ul\",null,mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"li\"},mdx(\"inlineCode\",{parentName:\"strong\"},\"admin\")),\" with privileged permissions to configure secret engines\"),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"li\"},mdx(\"inlineCode\",{parentName:\"strong\"},\"apps\")),\" read the secrets from Vault\")),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#challenge\",\"aria-label\":\"challenge permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"challenge\",\"aria-hidden\":\"\"})),\"Challenge\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`Data protection is a top priority which means that the database credential\nrotation is a critical part of any data protection initiative. Each role has a\ndifferent set of permissions granted to access the database. When a system is\nattacked by hackers, continuous credential rotation becomes necessary and needs\nto be automated.`),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#solution\",\"aria-label\":\"solution permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"solution\",\"aria-hidden\":\"\"})),\"Solution\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`Applications ask Vault for database credential rather than setting them as\nenvironment variables. The administrator specifies the TTL of the database\ncredentials to enforce its validity so that they are automatically revoked when\nthey are no longer used.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"img\",a({parentName:\"p\"},{src:\"/img/vault-dynamic-secrets.png\",alt:\"Dynamic Secret Workflow\"}))),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`Each app instance can get unique credentials that they don't have to share. By\nmaking those credentials to be short-lived, you reduced the change of the secret\nto being compromised. If an app was compromised, the credentials used by the app\ncan be revoked rather than changing more global set of credentials.`),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#prerequisites\",\"aria-label\":\"prerequisites permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"prerequisites\",\"aria-hidden\":\"\"})),\"Prerequisites\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`To perform the tasks described in this guide, you need to have a Vault\nenvironment. Refer to the `,mdx(\"a\",a({parentName:\"p\"},{href:\"/intro/getting-started/install\"}),`Getting\nStarted`),` guide to install Vault. Make sure\nthat your Vault server has been `,mdx(\"a\",a({parentName:\"p\"},{href:\"/intro/getting-started/deploy\"}),`initialized and\nunsealed`),\".\"),mdx(\"h3\",a({},{className:\"g-type-display-4\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#postgresql\",\"aria-label\":\"postgresql permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h\",id:\"postgresql\",\"aria-hidden\":\"\"})),\"PostgreSQL\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`This guide requires that you have a PostgreSQL server to connect to. If you\ndon't have one, install `,mdx(\"a\",a({parentName:\"p\"},{href:\"https://www.postgresql.org/download/\"}),\"PostgreSQL\"),` to\nperform the steps described in this guide.`),mdx(\"ul\",null,mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),\"Refer to the \",mdx(\"a\",a({parentName:\"li\"},{href:\"https://www.postgresql.org/docs/online-resources/\"}),\"PostgreSQL documentation\"),\" for details\"),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{href:\"https://wiki.postgresql.org/wiki/First_steps\"}),\"PostgreSQL Wiki\"),` gives you a\nsummary of basic commands to get started.`)),mdx(\"h3\",a({},{className:\"g-type-display-4\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#policy-requirements\",\"aria-label\":\"policy requirements permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h\",id:\"policy-requirements\",\"aria-hidden\":\"\"})),\"Policy requirements\"),mdx(\"div\",a({},{className:\"alert alert-info g-type-body\",role:\"alert\"}),mdx(\"p\",a({parentName:\"div\"},{className:\"g-type-long-body\"}),\"\",mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),\" For the purpose of this guide, you can use \",mdx(\"strong\",{parentName:\"p\"},mdx(\"inlineCode\",{parentName:\"strong\"},\"root\")),` token to work\nwith Vault. However, it is recommended that root tokens are only used for just\nenough initial setup or in emergencies. As a best practice, use tokens with\nappropriate set of policies based on your role in the organization.`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`To perform all tasks demonstrated in this guide, your policy must include the\nfollowing permissions:`),mdx(\"pre\",a({},{className:\"language-shell\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Mount secret engines\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/mounts/*\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Configure the database secret engine and create roles\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"database/*\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Write ACL policies\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/policy/*\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Manage tokens for verification\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"auth/token/create\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`If you are not familiar with policies, complete the\n`,mdx(\"a\",a({parentName:\"p\"},{href:\"/guides/identity/policies\"}),\"policies\"),\" guide.\"),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#steps\",\"aria-label\":\"steps permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"steps\",\"aria-hidden\":\"\"})),\"Steps\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`In this guide, you are going to configure PostgreSQL secret engine, and create\na read-only database role. The Vault generated PostgreSQL credentials will only\nhave read permission.`),mdx(\"ol\",null,mdx(\"li\",a({parentName:\"ol\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{href:\"#step1\"}),\"Mount the database secret engine\")),mdx(\"li\",a({parentName:\"ol\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{href:\"#step2\"}),\"Configure PostgreSQL secret engine\")),mdx(\"li\",a({parentName:\"ol\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{href:\"#step3\"}),\"Create a role\")),mdx(\"li\",a({parentName:\"ol\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{href:\"#step4\"}),\"Request PostgreSQL credentials\")),mdx(\"li\",a({parentName:\"ol\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{href:\"#validation\"}),\"Validation\"))),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Step 1 through 3 need to be performed by an \",mdx(\"inlineCode\",{parentName:\"p\"},\"admin\"),` user. Step 4 describes\nthe commands that an `,mdx(\"inlineCode\",{parentName:\"p\"},\"app\"),\" runs to get a database credentials from Vault.\"),mdx(\"h3\",a({},{className:\"g-type-display-4\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#step1\",\"aria-label\":\"step 1 mount the database secret engine permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h __compat\",id:\"step1\",\"aria-hidden\":\"\"})),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h\",id:\"step-1-mount-the-database-secret-engine\",\"aria-hidden\":\"\"})),\"Step 1: Mount the database secret engine\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"(\",mdx(\"strong\",{parentName:\"p\"},\"Persona:\"),\" admin)\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"As most of the secret engines, the \",mdx(\"a\",a({parentName:\"p\"},{href:\"/docs/secrets/databases\"}),\"database secret engine\"),`\nmust be mounted.`),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#cli-command\",\"aria-label\":\"cli command permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"cli-command\",\"aria-hidden\":\"\"})),\"CLI command\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"To mount a database secret engine:\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault secrets \",mdx(\"span\",a({parentName:\"span\"},{className:\"token builtin class-name\"}),\"enable\"),\" \")),mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"<PATH>\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Example:\")),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault secrets \",mdx(\"span\",a({parentName:\"span\"},{className:\"token builtin class-name\"}),\"enable\"),\" database\")),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),\" In this guide, the database secret engine is mounted at the \",mdx(\"inlineCode\",{parentName:\"p\"},\"/database path\"),` in\nVault. However, it is possible to mount your secret engines at any location.`),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#api-call-using-curl\",\"aria-label\":\"api call using curl permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"api-call-using-curl\",\"aria-hidden\":\"\"})),\"API call using cURL\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Mount \",mdx(\"inlineCode\",{parentName:\"p\"},\"database\"),\" secret engine using \",mdx(\"inlineCode\",{parentName:\"p\"},\"/sys/mounts\"),\" endpoint:\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"curl\"),\" --header \",mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'\"X-Vault-Token: <TOKEN>\"'),\" \")),mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"\\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"       --request POST \\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"       --data <PARAMETERS> \\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"       <VAULT_ADDRESS>/v1/sys/mounts/<PATH>\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Where \",mdx(\"inlineCode\",{parentName:\"p\"},\"<TOKEN>\"),\" is your valid token, and \",mdx(\"inlineCode\",{parentName:\"p\"},\"<PARAMETERS>\"),\" holds \",mdx(\"a\",a({parentName:\"p\"},{href:\"/api/system/mounts#enable-secrets-engine\"}),`configuration\nparameters`),\" of the secret engine.\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Example:\")),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"The following example mounts database secret engine at \",mdx(\"inlineCode\",{parentName:\"p\"},\"sys/mounts/database\"),`\npath, and passed the secret engine type (\"database\") in the request payload.`),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"curl\"),\" --header \",mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'\"X-Vault-Token: ...\"'),\" \")),mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"\\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"       --request POST \\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),`       --data '{\"type\":\"database\"}' \\\\`),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"       https://127.0.0.1:8200/v1/sys/mounts/database\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),\" It is possible to mount your database secret engines at any location.\"),mdx(\"h3\",a({},{className:\"g-type-display-4\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#step2\",\"aria-label\":\"step 2 configure postgresql secret engine permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h __compat\",id:\"step2\",\"aria-hidden\":\"\"})),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h\",id:\"step-2-configure-postgresql-secret-engine\",\"aria-hidden\":\"\"})),\"Step 2: Configure PostgreSQL secret engine\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"(\",mdx(\"strong\",{parentName:\"p\"},\"Persona:\"),\" admin)\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`The PostgreSQL secret engine needs to be configured with valid credentials. It\nis very common to give Vault the `,mdx(\"strong\",{parentName:\"p\"},\"root\"),` credentials and let Vault manage the\nauditing and lifecycle credentials; it's much better than having one person\nmanage the credentials.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`The following command configures the database secret engine using\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"postgresql-database-plugin\"),` where the database connection URL is\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"postgresql://root:rootpassword@localhost:5432/myapp\"),`. The allowed role is\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"readonly\"),\" which you will create in \",mdx(\"a\",a({parentName:\"p\"},{href:\"#step3\"}),\"Step 3\"),\".\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),` If your\ndatabase connection URL is different from this example, be sure to replace the\ncommand with correct URL to match your environment.`),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#cli-command-1\",\"aria-label\":\"cli command permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"cli-command-1\",\"aria-hidden\":\"\"})),\"CLI command\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Example:\")),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault \",mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"write\"),\" database/config/postgresql \")),mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"\\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"      plugin_name=postgresql-database-plugin \\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"      allowed_roles=readonly \\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"      connection_url=postgresql://root:rootpassword@localhost:5432/myapp\"),`\n`)),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#api-call-using-curl-1\",\"aria-label\":\"api call using curl permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"api-call-using-curl-1\",\"aria-hidden\":\"\"})),\"API call using cURL\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Example:\")),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"curl\"),\" --header \",mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'\"X-Vault-Token: ...\"'),\" --request POST --data @payload.json \")),mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"\\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"    http://127.0.0.1:8200/v1/database/config/postgresql\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"cat\"),\" payload.json\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"{\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'    \"plugin_name\": \"postgresql-database-plugin\",'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'    \"allowed_roles\": \"readonly\",'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'    \"connection_url\": \"postgresql://root:rootpassword@localhost:5432/myapp\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"}\"),`\n`)),mdx(\"div\",a({},{className:\"alert alert-warning g-type-body\",role:\"alert\"}),mdx(\"p\",a({parentName:\"div\"},{className:\"g-type-long-body\"}),\"\",mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),\" Read the \",mdx(\"a\",a({parentName:\"p\"},{href:\"/guides/secret-mgmt/db-root-rotation\"}),\"Database Root Credential Rotation\"),`\nguide to learn about rotating the root credential immediately after the initial\nconfiguration of each database.`)),mdx(\"h3\",a({},{className:\"g-type-display-4\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#step3\",\"aria-label\":\"step 3 create a role permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h __compat\",id:\"step3\",\"aria-hidden\":\"\"})),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h\",id:\"step-3-create-a-role\",\"aria-hidden\":\"\"})),\"Step 3: Create a role\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"(\",mdx(\"strong\",{parentName:\"p\"},\"Persona:\"),\" admin)\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"In \",mdx(\"a\",a({parentName:\"p\"},{href:\"#step2\"}),\"Step 2\"),\", you configured the PostgreSQL secret engine by passing \",mdx(\"strong\",{parentName:\"p\"},mdx(\"inlineCode\",{parentName:\"strong\"},\"readonly\")),` role\nas an allowed member. The next step is to define the `,mdx(\"inlineCode\",{parentName:\"p\"},\"readonly\"),` role. A role is\na logical name that maps to a policy used to generate credentials.`),mdx(\"div\",a({},{className:\"alert alert-info g-type-body\",role:\"alert\"}),mdx(\"p\",a({parentName:\"div\"},{className:\"g-type-long-body\"}),`Vault does not know what kind of PostgreSQL users you want to create. So,\nsupply the information in SQL to create desired users.`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Example:\"),\" \",mdx(\"inlineCode\",{parentName:\"p\"},\"readonly.sql\")),mdx(\"pre\",a({},{className:\"language-plaintext\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-plaintext\"}),`CREATE ROLE \"{{name}}\" WITH LOGIN PASSWORD '{{password}}' VALID UNTIL '{{expiration}}';`,`\n`,'GRANT SELECT ON ALL TABLES IN SCHEMA public TO \"{{name}}\";',`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"The values within the \",mdx(\"inlineCode\",{parentName:\"p\"},\"{{<value>}}\"),` will be filled in by Vault. Notice that\n`,mdx(\"strong\",{parentName:\"p\"},mdx(\"inlineCode\",{parentName:\"strong\"},\"VALID_UNTIL\")),` clause. This tells PostgreSQL to revoke the credentials even\nif Vault is offline or unable to communicate with it.`),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#cli-command-2\",\"aria-label\":\"cli command permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"cli-command-2\",\"aria-hidden\":\"\"})),\"CLI command\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Example:\")),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault \",mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"write\"),\" database/roles/readonly \",mdx(\"span\",a({parentName:\"span\"},{className:\"token assign-left variable\"}),\"db_name\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"=\"),\"postgresql \",mdx(\"span\",a({parentName:\"span\"},{className:\"token assign-left variable\"}),\"creation_statements\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"=\"),\"@readonly.sql \")),mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"\\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"    default_ttl=1h max_ttl=24h\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"The above command creates a role named, \",mdx(\"inlineCode\",{parentName:\"p\"},\"readonly\"),` with default TTL of 1\nhour, and max TTL of the credential is set to 24 hours. The `,mdx(\"inlineCode\",{parentName:\"p\"},\"readonly.sql\"),`\nstatement is passed as the role creation statement.`),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#api-call-using-curl-2\",\"aria-label\":\"api call using curl permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"api-call-using-curl-2\",\"aria-hidden\":\"\"})),\"API call using cURL\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Example:\")),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"curl\"),\" --header \",mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'\"X-Vault-Token: ...\"'),\" --request POST --data @payload.json \")),mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"\\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"    http://127.0.0.1:8200/v1/database/roles/readonly\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"cat\"),\" payload.json\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"{\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'    \"db_name\": \"postgres\",'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),`    \"creation_statements\": [\"CREATE ROLE \\\\\"{{name}}\\\\\" WITH LOGIN PASSWORD '{{password}}' VALID UNTIL '{{expiration}}';`),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'  GRANT SELECT ON ALL TABLES IN SCHEMA public TO \\\\\"{{name}}\\\\\";\"],'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'    \"default_ttl\": \"1h\",'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'    \"max_ttl\": \"24h\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"}\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"db_name\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"creation_statements\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"default_ttl\"),\", and \",mdx(\"inlineCode\",{parentName:\"p\"},\"max_ttl\"),` are set in\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},\"role-payload.json\"),\".\"),mdx(\"h3\",a({},{className:\"g-type-display-4\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#step4\",\"aria-label\":\"step 4 request postgresql credentials permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h __compat\",id:\"step4\",\"aria-hidden\":\"\"})),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h\",id:\"step-4-request-postgresql-credentials\",\"aria-hidden\":\"\"})),\"Step 4: Request PostgreSQL credentials\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"(\",mdx(\"strong\",{parentName:\"p\"},\"Persona:\"),\" apps)\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Now, you are switching to \",mdx(\"a\",a({parentName:\"p\"},{href:\"#personas\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"apps\"),\" persona\"),`. To get a new set of\nPostgreSQL credentials, the client app needs to be able to `,mdx(\"strong\",{parentName:\"p\"},\"read\"),` from the\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"readonly\"),` role endpoint. Therefore, the app's token must have a policy granting\nthe read permission.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"apps-policy.hcl\")),mdx(\"pre\",a({},{className:\"language-shell\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Get credentials from the database secret engine\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"database/creds/readonly\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#cli-command-3\",\"aria-label\":\"cli command permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"cli-command-3\",\"aria-hidden\":\"\"})),\"CLI command\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"First create an \",mdx(\"inlineCode\",{parentName:\"p\"},\"apps\"),` policy, and generate a token so that you can authenticate\nas an `,mdx(\"inlineCode\",{parentName:\"p\"},\"apps\"),\" persona.\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Example:\")),mdx(\"pre\",a({},{className:\"language-shell\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),'# Create \"apps\" policy'),`\n`,\"$ vault policy \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"write\"),\" apps apps-policy.hcl\",`\n`,\"Policy \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'apps'\"),\" written.\",`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create a new token with app policy\"),`\n`,\"$ vault token create -policy\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"apps\"'),`\n`,\"Key             Value\",`\n`,\"---             -----\",`\n`,\"token           e4bdf7dc-cbbf-1bb1-c06c-6a4f9a826cf2\",`\n`,\"token_accessor  54700b7e-d828-a6c4-6141-96e71e002bd7\",`\n`,\"token_duration  768h0m0s\",`\n`,\"token_renewable \",mdx(\"span\",a({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),`\n`,\"token_policies  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"apps default\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Use the returned token to perform the remaining.\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),\" \",mdx(\"a\",a({parentName:\"p\"},{href:\"/guides/identity/authentication\"}),\"AppRole Pull Authentication\"),` guide\ndemonstrates more sophisticated way of generating a token for your apps.`),mdx(\"pre\",a({},{className:\"language-shell\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Authenticate with Vault using the generated token first\"),`\n`,\"$ vault login e4bdf7dc-cbbf-1bb1-c06c-6a4f9a826cf2\",`\n`,\"Successfully authenticated\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"!\"),\" You are now logged in.\",`\n`,\"token: e4bdf7dc-cbbf-1bb1-c06c-6a4f9a826cf2\",`\n`,\"token_duration: \",mdx(\"span\",a({parentName:\"code\"},{className:\"token number\"}),\"2764277\"),`\n`,\"token_policies: \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"apps default\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Invoke the vault command\"),`\n`,\"$ vault \",mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\"read\"),\" database/creds/readonly\",`\n`,`\n`,\"Key             Value\",`\n`,\"---             -----\",`\n`,\"lease_id        database/creds/readonly/4b5c6e82-df88-0dec-c0cb-f07eee8f0329\",`\n`,\"lease_duration  1h0m0s\",`\n`,\"lease_renewable \",mdx(\"span\",a({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),`\n`,\"password        A1a-4urzp0wu92r5s1q0\",`\n`,\"username        v-token-readonly-9x3qrw452wwz4w6421xt-1515625519\",`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),` Re-run the command and notice that Vault returns a different set of\ncredentials each time. This means that each app instance can acquire a unique\nset of credentials.`),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#api-call-using-curl-3\",\"aria-label\":\"api call using curl permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"api-call-using-curl-3\",\"aria-hidden\":\"\"})),\"API call using cURL\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"First create an \",mdx(\"inlineCode\",{parentName:\"p\"},\"apps\"),` policy, and generate a token so that you can authenticate\nas an `,mdx(\"inlineCode\",{parentName:\"p\"},\"app\"),\" persona.\"),mdx(\"pre\",a({},{className:\"language-shell\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Payload to pass in the API call\"),`\n`,\"$ \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"cat\"),\" payload.json\",`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"policy\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"path ',mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"database/creds/readonly\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\" {capabilities = [ \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"read\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),' ]}\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),'# Create \"apps\" policy'),`\n`,\"$ \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"curl\"),\" --header \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"X-Vault-Token: ...\"'),\" --request PUT \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"\\\\\"),`\n`,\"       --data @payload.json \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"\\\\\"),`\n`,\"       http://127.0.0.1:8200/v1/sys/policy/apps\",`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Generate a new token with apps policy\"),`\n`,\"$ \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"curl\"),\" --header \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"X-Vault-Token: ...\"'),\" --request POST \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"\\\\\"),`\n`,\"       --data \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),`'{\"policies\": [\"apps\"]}'`),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"\\\\\"),`\n`,\"       http://127.0.0.1:8200/v1/auth/token/create \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"|\"),\" jq\",`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"request_id\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"e1737bc8-7e51-3943-42a0-2dbd6cb40e3e\"'),\",\",`\n`,\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"lease_id\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"\"'),\",\",`\n`,\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"renewable\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" false,\",`\n`,\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"lease_duration\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token number\"}),\"0\"),\",\",`\n`,\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"data\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" null,\",`\n`,\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"wrap_info\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" null,\",`\n`,\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"warnings\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" null,\",`\n`,\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"auth\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"   \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"client_token\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"1c97b03a-6098-31cf-9d8b-b404e52dcb4a\"'),\",\",`\n`,\"   \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"accessor\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"b10a3eb7-15fe-1924-600e-403cfda34c28\"'),\",\",`\n`,\"   \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"policies\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"     \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"apps\"'),\",\",`\n`,\"     \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"default\"'),`\n`,\"   \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\",\",`\n`,\"   \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"metadata\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" null,\",`\n`,\"   \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"lease_duration\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token number\"}),\"2764800\"),\",\",`\n`,\"   \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"renewable\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" true,\",`\n`,\"   \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"entity_id\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"\"'),`\n`,\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Be sure to use the returned token to perform the remaining.\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),\" \",mdx(\"a\",a({parentName:\"p\"},{href:\"/guides/identity/authentication\"}),\"AppRole Pull Authentication\"),` guide\ndemonstrates more sophisticated way of generating a token for your apps.`),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"curl\"),\" --header \",mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'\"X-Vault-Token: 1c97b03a-6098-31cf-9d8b-b404e52dcb4a\"'),\" \")),mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"\\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"       --request GET \\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"       http://127.0.0.1:8200/v1/database/creds/readonly | jq\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"{\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'  \"request_id\": \"e0e5a6c1-5e69-5cf3-c9d2-020af192de36\",'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'  \"lease_id\": \"database/creds/readonly/7aa462ab-98cb-fdcb-b226-f0a0d37644cc\",'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'  \"renewable\": true,'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'  \"lease_duration\": 3600,'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'  \"data\": {'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'    \"password\": \"A1a-2680ut032xqt16tq\",'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'    \"username\": \"v-token-readonly-6s4su6z93472x0r2787t-1515625742\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"  },\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'  \"wrap_info\": null,'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'  \"warnings\": null,'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'  \"auth\": null'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"}\"),`\n`)),mdx(\"h3\",a({},{className:\"g-type-display-4\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#validation\",\"aria-label\":\"validation permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h\",id:\"validation\",\"aria-hidden\":\"\"})),\"Validation\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"(1) Generate a new set of credentials.\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault \",mdx(\"span\",a({parentName:\"span\"},{className:\"token builtin class-name\"}),\"read\"),\" database/creds/readonly\")),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"Key             Value\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"---             -----\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"lease_id        database/creds/readonly/3e8174da-6ca0-143b-aa8c-4c238aa02809\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"lease_duration  1h0m0s\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"lease_renewable true\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"password        A1a-w2xv2zsq4r5ru940\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"username        v-token-readonly-48rt0t36sxp4wy81x8x1-1515627434\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"The generated username is \",mdx(\"inlineCode\",{parentName:\"p\"},\"v-token-readonly-48rt0t36sxp4wy81x8x1-1515627434\"),\".\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"(2) Connect to the postgres as an admin user, and run the following psql commands.\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"psql -U postgres\")),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"postgres > \\\\du\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"                                                       List of roles\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"                    Role name                     |                         Attributes                         | Member of\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"--------------------------------------------------+------------------------------------------------------------+-----------\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\" postgres                                         | Superuser, Create role, Create DB, Replication, Bypass RLS | {}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\" v-token-readonly-48rt0t36sxp4wy81x8x1-1515627434 | Password valid until 2018-01-11 00:37:14+00                | {}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"postgres > \\\\q\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"\\\\du\"),\" command lists all users. You should be able to verify that the username generated by Vault exists.\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"(3) Renew the lease for this credential by passing its \",mdx(\"strong\",{parentName:\"p\"},mdx(\"inlineCode\",{parentName:\"strong\"},\"lease_id\")),\".\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault renew database/creds/readonly/3e8174da-6ca0-143b-aa8c-4c238aa02809\")),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"Key             Value\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"---             -----\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"lease_id        database/creds/readonly/3e8174da-6ca0-143b-aa8c-4c238aa02809\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"lease_duration  1h0m0s\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"lease_renewable true\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"(4) Revoke the generated credentials.\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault lease revoke database/creds/readonly/3e8174da-6ca0-143b-aa8c-4c238aa02809\")),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),\" If you run the command with \",mdx(\"strong\",{parentName:\"p\"},mdx(\"inlineCode\",{parentName:\"strong\"},\"-prefix=true\")),` flag, it revokes all\nsecrets under `,mdx(\"inlineCode\",{parentName:\"p\"},\"database/creds/readonly\"),\".\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`Now, when you check the list of users in PostgreSQL, none of the Vault generated\nuser name exists.`),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#next-steps\",\"aria-label\":\"next steps permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"next-steps\",\"aria-hidden\":\"\"})),\"Next steps\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`This guide discussed how to generate credentials on-demand so that the access\ncredentials no longer need to be written to disk. Next, learn about the\n`,mdx(\"a\",a({parentName:\"p\"},{href:\"/guides/identity/lease\"}),\"Tokens and Leases\"),` so that you can control the\nlifecycle of those credentials.`))}MDXContent.isMDXComponent=!0;\n","scope":{}},"navData":[{"title":"Getting Started","path":"getting-started","filePath":"content/guides/getting-started.mdx"},{"title":"Vault Operations","routes":[{"title":"Overview","path":"operations","filePath":"content/guides/operations/index.mdx"},{"title":"Reference Architecture","path":"operations/reference-architecture","filePath":"content/guides/operations/reference-architecture.mdx"},{"title":"Vault HA with Consul","path":"operations/vault-ha-consul","filePath":"content/guides/operations/vault-ha-consul.mdx"},{"title":"Production Hardening","path":"operations/production","filePath":"content/guides/operations/production.mdx"},{"title":"Root Token Generation","path":"operations/generate-root","filePath":"content/guides/operations/generate-root.mdx"},{"title":"Rekeying & Rotating","path":"operations/rekeying-and-rotating","filePath":"content/guides/operations/rekeying-and-rotating.mdx"},{"title":"Building Plugin Backends","path":"operations/plugin-backends","filePath":"content/guides/operations/plugin-backends.mdx"},{"divider":true},{"title":"Replication Setup & Guidance","path":"operations/replication","filePath":"content/guides/operations/replication.mdx"},{"title":"Disaster Recovery Setup","path":"operations/disaster-recovery","filePath":"content/guides/operations/disaster-recovery.mdx"},{"title":"Mount Filter","path":"operations/mount-filter","filePath":"content/guides/operations/mount-filter.mdx"},{"title":"Multi-Tenant: Namespaces","path":"operations/multi-tenant","filePath":"content/guides/operations/multi-tenant.mdx"},{"title":"Vault Auto-unseal with AWS KMS","path":"operations/autounseal-aws-kms","filePath":"content/guides/operations/autounseal-aws-kms.mdx"},{"title":"Seal Wrap / FIPS 140-2","path":"operations/seal-wrap","filePath":"content/guides/operations/seal-wrap.mdx"},{"title":"Vault Cluster Monitoring","path":"operations/monitoring","filePath":"content/guides/operations/monitoring.mdx"},{"title":"Vault Deployment Guide","path":"operations/deployment-guide","filePath":"content/guides/operations/deployment-guide.mdx"},{"title":"Performance Standby Nodes","path":"operations/performance-nodes","filePath":"content/guides/operations/performance-nodes.mdx"}]},{"title":"Identity and Access Management","routes":[{"title":"Overview","path":"identity","filePath":"content/guides/identity/index.mdx"},{"title":"Secure Introduction of Vault Clients","path":"identity/secure-intro","filePath":"content/guides/identity/secure-intro.mdx"},{"title":"Policies","path":"identity/policies","filePath":"content/guides/identity/policies.mdx"},{"title":"ACL Policy Path Templating","path":"identity/policy-templating","filePath":"content/guides/identity/policy-templating.mdx"},{"title":"AppRole Pull Authentication","path":"identity/authentication","filePath":"content/guides/identity/authentication.mdx"},{"title":"AppRole with Terraform and Chef","path":"identity/approle-trusted-entities","filePath":"content/guides/identity/approle-trusted-entities.mdx"},{"title":"Tokens and Leases","path":"identity/lease","filePath":"content/guides/identity/lease.mdx"},{"title":"Identity - Entities & Groups","path":"identity/identity","filePath":"content/guides/identity/identity.mdx"},{"divider":true},{"title":"Sentinel Policies","path":"identity/sentinel","filePath":"content/guides/identity/sentinel.mdx"},{"title":"Control Groups","path":"identity/control-groups","filePath":"content/guides/identity/control-groups.mdx"}]},{"title":"Secrets Management","routes":[{"title":"Overview","path":"secret-mgmt","filePath":"content/guides/secret-mgmt/index.mdx"},{"title":"Static Secrets","path":"secret-mgmt/static-secrets","filePath":"content/guides/secret-mgmt/static-secrets.mdx"},{"title":"Versioned KV Secret Engine","path":"secret-mgmt/versioned-kv","filePath":"content/guides/secret-mgmt/versioned-kv.mdx"},{"title":"Secret as a Service","path":"secret-mgmt/dynamic-secrets","filePath":"content/guides/secret-mgmt/dynamic-secrets.mdx"},{"title":"DB Root Credential Rotation","path":"secret-mgmt/db-root-rotation","filePath":"content/guides/secret-mgmt/db-root-rotation.mdx"},{"title":"Cubbyhole Response Wrapping","path":"secret-mgmt/cubbyhole","filePath":"content/guides/secret-mgmt/cubbyhole.mdx"},{"title":"One-Time SSH Password","path":"secret-mgmt/ssh-otp","filePath":"content/guides/secret-mgmt/ssh-otp.mdx"},{"title":"Build Your Own CA","path":"secret-mgmt/pki-engine","filePath":"content/guides/secret-mgmt/pki-engine.mdx"},{"title":"Direct Application Integration","path":"secret-mgmt/app-integration","filePath":"content/guides/secret-mgmt/app-integration.mdx"}]},{"title":"Encryption as a Service","routes":[{"title":"Overview","path":"encryption","filePath":"content/guides/encryption/index.mdx"},{"title":"Encryption as a Service","path":"encryption/transit","filePath":"content/guides/encryption/transit.mdx"},{"title":"Java Application Demo","path":"encryption/spring-demo","filePath":"content/guides/encryption/spring-demo.mdx"},{"title":"Transit Secrets Re-wrapping","path":"encryption/transit-rewrap","filePath":"content/guides/encryption/transit-rewrap.mdx"}]}],"versions":[]},"__N_SSG":true}