{"pageProps":{"currentPath":"getting-started/policies","frontMatter":{"layout":"intro","page_title":"Policies - Getting Started","description":"Policies in Vault control what a user can access."},"githubFileUrl":"https://github.com/hashicorp/vault/blob/main/website/content/intro/getting-started/policies.mdx","mdxSource":{"compiledSource":"var r=Object.defineProperty;var o=Object.prototype.hasOwnProperty;var p=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable;var m=(e,s,n)=>s in e?r(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,a=(e,s)=>{for(var n in s||(s={}))o.call(s,n)&&m(e,n,s[n]);if(p)for(var n of p(s))l.call(s,n)&&m(e,n,s[n]);return e};var c=(e,s)=>{var n={};for(var t in e)o.call(e,t)&&s.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&p)for(var t of p(e))s.indexOf(t)<0&&l.call(e,t)&&(n[t]=e[t]);return n};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var t=n,{components:e}=t,s=c(t,[\"components\"]);return mdx(MDXLayout,a(a(a({},layoutProps),s),{components:e,mdxType:\"MDXLayout\"}),mdx(\"h1\",a({},{className:\"g-type-display-2\"}),mdx(\"a\",a({parentName:\"h1\"},{className:\"__permalink-h\",href:\"#policies\",\"aria-label\":\"policies permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h1\"},{className:\"__target-h\",id:\"policies\",\"aria-hidden\":\"\"})),\"Policies\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`Policies in Vault control what a user can access. In the last section, we\nlearned about `,mdx(\"em\",{parentName:\"p\"},\"authentication\"),\". This section is about \",mdx(\"em\",{parentName:\"p\"},\"authorization\"),\".\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`For authentication Vault has multiple options or methods that can be enabled and\nused. For authorization and policies Vault always uses the same format. All auth\nmethods map identities back to the core policies that are configured with Vault.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"There are some built-in policies that cannot be removed. For example, the \",mdx(\"inlineCode\",{parentName:\"p\"},\"root\"),`\nand `,mdx(\"inlineCode\",{parentName:\"p\"},\"default\"),` policies are required policies and cannot be deleted. The\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"default\"),` policy provides a common set of permissions and is included on all\ntokens by default. The `,mdx(\"inlineCode\",{parentName:\"p\"},\"root\"),` policy gives a token super admin permissions,\nsimilar to a root user on a linux machine.`),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#policy-format\",\"aria-label\":\"policy format permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"policy-format\",\"aria-hidden\":\"\"})),\"Policy Format\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Policies are authored in \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/hashicorp/hcl\"}),\"HCL\"),`, but it is JSON compatible. Here is an\nexample policy:`),mdx(\"pre\",a({},{className:\"language-hcl\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Normal servers have version 1 of KV mounted by default, so will need these\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# paths:\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"secret/*\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"capabilities\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"secret/foo\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"capabilities\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Dev servers have version 2 of KV mounted by default, so will need these\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# paths:\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"secret/data/*\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"capabilities\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"secret/data/foo\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"capabilities\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"With this policy, a user could write any secret to \",mdx(\"inlineCode\",{parentName:\"p\"},\"secret/\"),`, except to\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"secret/foo\"),`, where only read access is allowed. Policies default to deny, so\nany access to an unspecified path is not allowed.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`Do not worry about getting the exact policy format correct. Vault includes a\ncommand that will format the policy automatically according to specification. It\nalso reports on any syntax errors.`),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault policy \",mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"fmt\"),\" my-policy.hcl\")),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`The policy format uses a prefix matching system on the API path to determine\naccess control. The most specific defined policy is used, either an exact match\nor the longest-prefix glob match. Since everything in Vault must be accessed via\nthe API, this gives strict control over every aspect of Vault, including\nenabling secrets engines, enabling auth methods, authenticating, as well as\nsecret access.`),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#writing-the-policy\",\"aria-label\":\"writing the policy permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"writing-the-policy\",\"aria-hidden\":\"\"})),\"Writing the Policy\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`To write a policy using the command line, specify the path to a policy file to\nupload.`),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault policy \",mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"write\"),\" my-policy my-policy.hcl\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"Success! Uploaded policy: my-policy\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Here is an example you can copy-paste in the terminal:\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault policy \",mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"write\"),\" my-policy -\",mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"<<\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"EOF\"))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"# Normal servers have version 1 of KV mounted by default, so will need these\"))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"# paths:\"))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'path \"secret/*\" {'))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'  capabilities = [\"create\"]'))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"}\"))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'path \"secret/foo\" {'))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'  capabilities = [\"read\"]'))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"}\"))),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"# Dev servers have version 2 of KV mounted by default, so will need these\"))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"# paths:\"))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'path \"secret/data/*\" {'))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'  capabilities = [\"create\"]'))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"}\"))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'path \"secret/data/foo\" {'))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'  capabilities = [\"read\"]'))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"}\"))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"EOF\"))),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"To see the list of policies, run:\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault policy list\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"default\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"my-policy\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"root\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"To view the contents of a policy, run:\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault policy \",mdx(\"span\",a({parentName:\"span\"},{className:\"token builtin class-name\"}),\"read\"),\" my-policy\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"#\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"Normal servers have version \",mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"1\"),\" of KV mounted by default, so will need these\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"#\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"paths:\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'path \"secret/*\" {'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'  capabilities = [\"create\"]'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"...\"),`\n`)),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#testing-the-policy\",\"aria-label\":\"testing the policy permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"testing-the-policy\",\"aria-hidden\":\"\"})),\"Testing the Policy\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"To use the policy, create a token and assign it to that policy:\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault token create -policy\",mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"=\"),\"my-policy\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"Key                Value\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"---                -----\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"token              a4ebda12-23bf-5cf4-f80e-803ee2f37aab\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"token_accessor     aba6256e-401e-9591-31b2-a27048cb15ed\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"token_duration     768h\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"token_renewable    true\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"token_policies     [default my-policy]\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault login a4ebda12-23bf-5cf4-f80e-803ee2f37aab\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"Success! You are now authenticated. The token information displayed below\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'is already stored in the token helper. You do NOT need to run \"vault login\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"again. Future Vault requests will automatically use this token.\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"Key                Value\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"---                -----\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"token              a4ebda12-23bf-5cf4-f80e-803ee2f37aab\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"token_accessor     aba6256e-401e-9591-31b2-a27048cb15ed\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"token_duration     767h59m18s\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"token_renewable    true\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"token_policies     [default my-policy]\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Verify that you can write any data to \",mdx(\"inlineCode\",{parentName:\"p\"},\"secret/\"),`, but only read from\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"secret/foo\"),\":\"),mdx(\"h3\",a({},{className:\"g-type-display-4\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#dev-servers\",\"aria-label\":\"dev servers permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h\",id:\"dev-servers\",\"aria-hidden\":\"\"})),\"Dev servers\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault kv put secret/bar \",mdx(\"span\",a({parentName:\"span\"},{className:\"token assign-left variable\"}),\"robot\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"=\"),\"beepboop\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"Key              Value\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"---              -----\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"created_time     2018-05-22T18:05:42.537496856Z\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"deletion_time    n/a\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"destroyed        false\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"version          1\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault kv put secret/foo \",mdx(\"span\",a({parentName:\"span\"},{className:\"token assign-left variable\"}),\"robot\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"=\"),\"beepboop\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"Error writing data to secret/data/foo: Error making API request.\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"URL: PUT http://127.0.0.1:8200/v1/secret/data/foo\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"Code: 403. Errors:\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"* permission denied\"),`\n`)),mdx(\"h3\",a({},{className:\"g-type-display-4\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#non-dev-servers\",\"aria-label\":\"non dev servers permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h\",id:\"non-dev-servers\",\"aria-hidden\":\"\"})),\"Non-dev servers\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault kv put secret/bar \",mdx(\"span\",a({parentName:\"span\"},{className:\"token assign-left variable\"}),\"robot\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"=\"),\"beepboop\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"Success! Data written to: secret/bar\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault kv put secret/foo \",mdx(\"span\",a({parentName:\"span\"},{className:\"token assign-left variable\"}),\"robot\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"=\"),\"beepboop\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"Error writing data to secret/foo: Error making API request.\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"URL: PUT http://127.0.0.1:8200/v1/secret/foo\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"Code: 403. Errors:\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"* permission denied\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"You also do not have access to \",mdx(\"inlineCode\",{parentName:\"p\"},\"sys\"),` according to the policy, so commands like\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"vault policy list\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"vault secrets list\"),` will not work. Re-authenticate as\nthe initial root token to continue:`),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault login \")),mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"<initial-root-token>\"),`\n`)),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#mapping-policies-to-auth-methods\",\"aria-label\":\"mapping policies to auth methods permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"mapping-policies-to-auth-methods\",\"aria-hidden\":\"\"})),\"Mapping Policies to Auth Methods\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`Vault is the single policy authority, unlike auth where you can enable multiple\nauth methods. Any enabled auth method must map identities to these core\npolicies.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"We use the \",mdx(\"inlineCode\",{parentName:\"p\"},\"vault path-help\"),` system with your auth method to determine how the\nmapping is done, since it is specific to each auth method. For example, with\nGitHub, it is done by team using the `,mdx(\"inlineCode\",{parentName:\"p\"},\"map/teams/<team>\"),\" path:\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault \",mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"write\"),\" auth/github/map/teams/default \",mdx(\"span\",a({parentName:\"span\"},{className:\"token assign-left variable\"}),\"value\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"=\"),\"my-policy\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"Success! Data written to: auth/github/map/teams/default\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"For GitHub, the \",mdx(\"inlineCode\",{parentName:\"p\"},\"default\"),` team is the default policy set that everyone is\nassigned to no matter what team they're on.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`Other auth methods use alternate, but likely similar mechanisms for mapping\npolicies to identity.`),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#next\",\"aria-label\":\"next permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"next\",\"aria-hidden\":\"\"})),\"Next\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`Policies are an important part of Vault. While using the root token is easiest\nto get up and running, you will want to restrict access to Vault very quickly,\nand the policy system is the way to do this.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`The syntax and function of policies is easy to understand and work with, and\nbecause auth methods all must map to the central policy system, you only have to\nlearn this policy system.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Next, we will cover how to \",mdx(\"a\",a({parentName:\"p\"},{href:\"/intro/getting-started/deploy\"}),\"deploy Vault\"),\".\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"navData":[{"title":"Getting Started","routes":[{"title":"Overview","path":"getting-started","filePath":"content/intro/getting-started/index.mdx"},{"title":"Starting the Server","path":"getting-started/dev-server","filePath":"content/intro/getting-started/dev-server.mdx"},{"title":"Your First Secret","path":"getting-started/first-secret","filePath":"content/intro/getting-started/first-secret.mdx"},{"title":"Secrets Engines","path":"getting-started/secrets-engines","filePath":"content/intro/getting-started/secrets-engines.mdx"},{"title":"Dynamic Secrets","path":"getting-started/dynamic-secrets","filePath":"content/intro/getting-started/dynamic-secrets.mdx"},{"title":"Built-in Help","path":"getting-started/help","filePath":"content/intro/getting-started/help.mdx"},{"title":"Authentication","path":"getting-started/authentication","filePath":"content/intro/getting-started/authentication.mdx"},{"title":"Policies","path":"getting-started/policies","filePath":"content/intro/getting-started/policies.mdx"},{"title":"Deploy Vault","path":"getting-started/deploy","filePath":"content/intro/getting-started/deploy.mdx"},{"title":"HTTP API","path":"getting-started/apis","filePath":"content/intro/getting-started/apis.mdx"},{"title":"Next Steps","path":"getting-started/next-steps","filePath":"content/intro/getting-started/next-steps.mdx"}]}],"versions":[]},"__N_SSG":true}