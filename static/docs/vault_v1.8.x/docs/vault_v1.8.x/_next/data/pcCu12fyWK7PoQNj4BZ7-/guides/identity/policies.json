{"pageProps":{"currentPath":"identity/policies","frontMatter":{"layout":"guides","page_title":"Policies - Guides","description":"Policies in Vault control what a user can access."},"githubFileUrl":"https://github.com/hashicorp/vault/blob/main/website/content/guides/identity/policies.mdx","mdxSource":{"compiledSource":"var c=Object.defineProperty;var o=Object.prototype.hasOwnProperty;var p=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable;var m=(e,n,s)=>n in e?c(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,a=(e,n)=>{for(var s in n||(n={}))o.call(n,s)&&m(e,s,n[s]);if(p)for(var s of p(n))l.call(n,s)&&m(e,s,n[s]);return e};var i=(e,n)=>{var s={};for(var t in e)o.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&p)for(var t of p(e))n.indexOf(t)<0&&l.call(e,t)&&(s[t]=e[t]);return s};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(s){var t=s,{components:e}=t,n=i(t,[\"components\"]);return mdx(MDXLayout,a(a(a({},layoutProps),n),{components:e,mdxType:\"MDXLayout\"}),mdx(\"h1\",a({},{className:\"g-type-display-2\"}),mdx(\"a\",a({parentName:\"h1\"},{className:\"__permalink-h\",href:\"#policies\",\"aria-label\":\"policies permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h1\"},{className:\"__target-h\",id:\"policies\",\"aria-hidden\":\"\"})),\"Policies\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`In Vault, we use policies to govern the behavior of clients and instrument\nRole-Based Access Control (RBAC) by specifying access privileges\n(`,mdx(\"em\",{parentName:\"p\"},\"authorization\"),\").\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`When you first initialize Vault, the\n`,mdx(\"a\",a({parentName:\"p\"},{href:\"/docs/concepts/policies#root-policy\"}),mdx(\"strong\",{parentName:\"a\"},mdx(\"inlineCode\",{parentName:\"strong\"},\"root\"))),` policy gets created by\ndefault. The `,mdx(\"inlineCode\",{parentName:\"p\"},\"root\"),` policy is a special policy that gives superuser access to\n`,mdx(\"em\",{parentName:\"p\"},\"everything\"),` in Vault. This allows the superuser to set up initial policies,\ntokens, etc.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`In addition, another built-in policy,\n`,mdx(\"a\",a({parentName:\"p\"},{href:\"/docs/concepts/policies#default-policy\"}),mdx(\"strong\",{parentName:\"a\"},mdx(\"inlineCode\",{parentName:\"strong\"},\"default\"))),`, is created. The\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"default\"),\" policy is attached to all tokens and provides common permissions.\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`Everything in Vault is path based, and admins write policies to grant or forbid\naccess to certain paths and operations in Vault. Vault operates on a `,mdx(\"strong\",{parentName:\"p\"},`secure by\ndefault`),\" standard, and as such, an empty policy grants \",mdx(\"strong\",{parentName:\"p\"},\"no permissions\"),` in the\nsystem.`),mdx(\"h3\",a({},{className:\"g-type-display-4\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#hashicorp-configuration-language-hcl\",\"aria-label\":\"hashicorp configuration language hcl permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h\",id:\"hashicorp-configuration-language-hcl\",\"aria-hidden\":\"\"})),\"HashiCorp Configuration Language (HCL)\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Policies written in \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/hashicorp/hcl\"}),\"HCL\"),` format are often\nreferred as `,mdx(\"strong\",{parentName:\"p\"},mdx(\"em\",{parentName:\"strong\"},\"ACL Policies\")),\". \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://www.hashicorp.com/sentinel\"}),\"Sentinel\"),` is\nanother framework for policy which is available in `,mdx(\"a\",a({parentName:\"p\"},{href:\"/docs/enterprise\"}),`Vault\nEnterprise`),`. Since Sentinel is an enterprise-only\nfeature, this guide focuses on writing ACL policies as a foundation.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),` HCL is JSON compatible; therefore, JSON can be used as completely\nvalid input.`),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#reference-material\",\"aria-label\":\"reference material permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"reference-material\",\"aria-hidden\":\"\"})),\"Reference Material\"),mdx(\"ul\",null,mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{href:\"/docs/concepts/policies#default-policy\"}),\"Policies\"),\" documentation\"),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{href:\"/api/system/policy\"}),\"Policy API\"),\" documentation\"),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{href:\"/intro/getting-started/policies\"}),\"Getting Started guide\"),\" on policies\")),mdx(\"div\",a({},{className:\"alert alert-warning g-type-body\",role:\"alert\"}),mdx(\"p\",a({parentName:\"div\"},{className:\"g-type-long-body\"}),\"\",mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),\" An \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://www.katacoda.com/hashicorp/scenarios/vault-policies\"}),`interactive\ntutorial`),` is\nalso available if you do not have a Vault environment to perform the steps\ndescribed in this guide.`)),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#estimated-time-to-complete\",\"aria-label\":\"estimated time to complete permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"estimated-time-to-complete\",\"aria-hidden\":\"\"})),\"Estimated Time to Complete\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"10 minutes\"),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#personas\",\"aria-label\":\"personas permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"personas\",\"aria-hidden\":\"\"})),\"Personas\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"The scenario described in this guide introduces the following personas:\"),mdx(\"ul\",null,mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"li\"},mdx(\"inlineCode\",{parentName:\"strong\"},\"root\")),\" sets up initial policies for \",mdx(\"inlineCode\",{parentName:\"li\"},\"admin\")),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"li\"},mdx(\"inlineCode\",{parentName:\"strong\"},\"admin\")),` is empowered with managing a Vault infrastructure for a team or\norganizations`),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"li\"},mdx(\"inlineCode\",{parentName:\"strong\"},\"provisioner\")),` configures secret engines and creates policies for\nclient apps`)),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#challenge\",\"aria-label\":\"challenge permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"challenge\",\"aria-hidden\":\"\"})),\"Challenge\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`Since Vault centrally secures, stores, and controls access to secrets across\ndistributed infrastructure and applications, it is critical to control\npermissions before any user or machine can gain access.`),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#solution\",\"aria-label\":\"solution permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"solution\",\"aria-hidden\":\"\"})),\"Solution\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`Restrict the use of root policy, and write fine-grained policies to practice\n`,mdx(\"strong\",{parentName:\"p\"},\"least privileged\"),`. For example, if an app gets AWS credentials from Vault,\nwrite policy grants to `,mdx(\"inlineCode\",{parentName:\"p\"},\"read\"),\" from AWS secret engine but not to \",mdx(\"inlineCode\",{parentName:\"p\"},\"delete\"),\", etc.\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`Policies are attached to tokens and roles to enforce client permissions on\nVault.`),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#prerequisites\",\"aria-label\":\"prerequisites permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"prerequisites\",\"aria-hidden\":\"\"})),\"Prerequisites\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`To perform the tasks described in this guide, you need to have a Vault\nenvironment. Refer to the `,mdx(\"a\",a({parentName:\"p\"},{href:\"/intro/getting-started/install\"}),`Getting\nStarted`),` guide to install Vault. Make sure\nthat your Vault server has been `,mdx(\"a\",a({parentName:\"p\"},{href:\"/intro/getting-started/deploy\"}),`initialized and\nunsealed`),\".\"),mdx(\"h3\",a({},{className:\"g-type-display-4\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#policy-requirements\",\"aria-label\":\"policy requirements permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h\",id:\"policy-requirements\",\"aria-hidden\":\"\"})),\"Policy requirements\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Since this guide demonstrates the creation of an \",mdx(\"strong\",{parentName:\"p\"},mdx(\"inlineCode\",{parentName:\"strong\"},\"admin\")),` policy, log in with\n`,mdx(\"strong\",{parentName:\"p\"},mdx(\"inlineCode\",{parentName:\"strong\"},\"root\")),` token if possible. Otherwise, make sure that you have the following\npermissions:`),mdx(\"pre\",a({},{className:\"language-shell\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Manage auth methods broadly across Vault\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"auth/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create, update, and delete auth methods\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/auth/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# List auth methods\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/auth\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create and manage ACL policies via CLI\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/policy/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create and manage ACL policies via API\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/policies/acl/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# To list policies - Step 3\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/policy\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# To perform Step 4\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/capabilities\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# To perform Step 4\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/capabilities-self\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# List, create, update, and delete key/value secrets\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"secret/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Manage secret engines broadly across Vault\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/mounts/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# List existing secret engines\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/mounts\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Read health checks\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/health\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#steps\",\"aria-label\":\"steps permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"steps\",\"aria-hidden\":\"\"})),\"Steps\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"The basic workflow of creating policies is:\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"img\",a({parentName:\"p\"},{src:\"/img/vault-policy-authoring-workflow.png\",alt:\"Policy Creation Workflow\"}))),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"This guide demonstrates basic policy authoring and management tasks.\"),mdx(\"ol\",null,mdx(\"li\",a({parentName:\"ol\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{href:\"#step1\"}),\"Write ACL policies in HCL format\")),mdx(\"li\",a({parentName:\"ol\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{href:\"#step2\"}),\"Create policies\")),mdx(\"li\",a({parentName:\"ol\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{href:\"#step3\"}),\"View existing policies\")),mdx(\"li\",a({parentName:\"ol\"},{className:\"g-type-long-body\"}),mdx(\"a\",a({parentName:\"li\"},{href:\"#step4\"}),\"Check capabilities of a token\"))),mdx(\"h3\",a({},{className:\"g-type-display-4\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#step1\",\"aria-label\":\"step 1 write acl policies in hcl format permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h __compat\",id:\"step1\",\"aria-hidden\":\"\"})),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h\",id:\"step-1-write-acl-policies-in-hcl-format\",\"aria-hidden\":\"\"})),\"Step 1: Write ACL policies in HCL format\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Remember, an empty policy grants \",mdx(\"strong\",{parentName:\"p\"},\"no permission\"),` in the system. Therefore, ACL\npolicies are defined for each path.`),mdx(\"pre\",a({},{className:\"language-shell\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell\"}),\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"<PATH>\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"<LIST_OF_CAPABILITIES>\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"div\",a({},{className:\"alert alert-info g-type-body\",role:\"alert\"}),mdx(\"p\",a({parentName:\"div\"},{className:\"g-type-long-body\"}),'The path can have a wildcard (\"',mdx(\"inlineCode\",{parentName:\"p\"},\"*\"),`\") at the end to allow for\nnamespacing. For example, \"`,mdx(\"inlineCode\",{parentName:\"p\"},\"secret/training_*\"),`\" grants permissions on any\npath starting with \"`,mdx(\"inlineCode\",{parentName:\"p\"},\"secret/training_\"),'\" (e.g. ',mdx(\"inlineCode\",{parentName:\"p\"},\"secret/training_vault\"),\").\")),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Define one or more \",mdx(\"a\",a({parentName:\"p\"},{href:\"/docs/concepts/policies#capabilities\"}),\"capabilities\"),` on each path to control operations that are\npermitted.`),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",a({parentName:\"tr\"},{align:null}),\"Capability\"),mdx(\"th\",a({parentName:\"tr\"},{align:null}),\"Associated HTTP verbs\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null}),\"create\"),mdx(\"td\",a({parentName:\"tr\"},{align:null}),\"POST/PUT\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null}),\"read\"),mdx(\"td\",a({parentName:\"tr\"},{align:null}),\"GET\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null}),\"update\"),mdx(\"td\",a({parentName:\"tr\"},{align:null}),\"POST/PUT\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null}),\"delete\"),mdx(\"td\",a({parentName:\"tr\"},{align:null}),\"DELETE\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null}),\"list\"),mdx(\"td\",a({parentName:\"tr\"},{align:null}),\"LIST\")))),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#policy-requirements-1\",\"aria-label\":\"policy requirements permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"policy-requirements-1\",\"aria-hidden\":\"\"})),\"Policy requirements\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"The first step in creating policies is to \",mdx(\"strong\",{parentName:\"p\"},\"gather policy requirements\"),\".\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Example:\")),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},mdx(\"inlineCode\",{parentName:\"strong\"},\"admin\")),` is a type of user empowered with managing a Vault infrastructure for\na team or organizations. Empowered with sudo, the Administrator is focused on\nconfiguring and maintaining the health of Vault cluster(s) as well as\nproviding bespoke support to Vault users.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"admin\"),\" must be able to:\"),mdx(\"ul\",null,mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),\"Enable and manage auth methods broadly across Vault\"),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),\"Manage the key/value secret engines at \",mdx(\"inlineCode\",{parentName:\"li\"},\"secret/\"),\" path\"),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),\"Create and manage ACL policies broadly across Vault\"),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),\"Read system health check\")),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},mdx(\"inlineCode\",{parentName:\"strong\"},\"provisioner\")),` is a type of user or service that will be used by an automated\ntool (e.g. Terraform) to provision and configure a namespace within a Vault\nsecret engine for a new Vault user to access and write secrets.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"provisioner\"),\" must be able to:\"),mdx(\"ul\",null,mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),\"Enable and manage auth methods\"),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),\"Manage the key/value secret engines at \",mdx(\"inlineCode\",{parentName:\"li\"},\"secret/\"),\" path\"),mdx(\"li\",a({parentName:\"ul\"},{className:\"g-type-long-body\"}),\"Create and manage ACL policies\")),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Now, you are ready to author policies to fulfill these requirements.\"),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#example-policy-for-admin\",\"aria-label\":\"example policy for admin permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"example-policy-for-admin\",\"aria-hidden\":\"\"})),\"Example policy for admin\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"admin-policy.hcl\")),mdx(\"pre\",a({},{className:\"language-shell\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Manage auth methods broadly across Vault\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"auth/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create, update, and delete auth methods\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/auth/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# List auth methods\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/auth\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# List existing policies via CLI\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/policy\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create and manage ACL policies via CLI\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/policy/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create and manage ACL policies via API\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/policies/acl/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# List, create, update, and delete key/value secrets\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"secret/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Manage secret engines broadly across Vault\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/mounts/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# List existing secret engines\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/mounts\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Read health checks\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/health\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#example-policy-for-provisioner\",\"aria-label\":\"example policy for provisioner permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"example-policy-for-provisioner\",\"aria-hidden\":\"\"})),\"Example policy for provisioner\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"provisioner-policy.hcl\")),mdx(\"pre\",a({},{className:\"language-shell\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Manage auth methods broadly across Vault\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"auth/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create, update, and delete auth methods\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/auth/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# List auth methods\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/auth\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# List existing policies via CLI\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/policy\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create and manage ACL policies via CLI\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/policy/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create and manage ACL policies via API\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/policies/acl/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# List, create, update, and delete key/value secrets\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"secret/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"h3\",a({},{className:\"g-type-display-4\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#step2\",\"aria-label\":\"step 2 create policies permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h __compat\",id:\"step2\",\"aria-hidden\":\"\"})),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h\",id:\"step-2-create-policies\",\"aria-hidden\":\"\"})),\"Step 2: Create policies\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Now, create \",mdx(\"inlineCode\",{parentName:\"p\"},\"admin\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"provisioner\"),\" policies in Vault.\"),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#cli-command\",\"aria-label\":\"cli command permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"cli-command\",\"aria-hidden\":\"\"})),\"CLI command\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"To create policies:\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault policy \",mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"write\"),\" \")),mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"<POLICY_NAME> <POLICY_FILE>\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Example:\")),mdx(\"pre\",a({},{className:\"language-shell\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create admin policy\"),`\n`,\"$ vault policy \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"write\"),\" admin admin-policy.hcl\",`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create provisioner policy\"),`\n`,\"$ vault policy \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"write\"),\" provisioner provisioner-policy.hcl\",`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),` To update an existing policy, simply re-run the same command by\npassing your modified policy (`,mdx(\"inlineCode\",{parentName:\"p\"},\"*.hcl\"),\").\"),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#api-call-using-curl\",\"aria-label\":\"api call using curl permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"api-call-using-curl\",\"aria-hidden\":\"\"})),\"API call using cURL\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`To create a policy, use the\n`,mdx(\"a\",a({parentName:\"p\"},{href:\"/api/system/policies#create-update-acl-policy\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"sys/policies/acl\")),`\nendpoint:`),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"curl\"),\" --header \",mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'\"X-Vault-Token: <TOKEN>\"'),\" \")),mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"\\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"       --request PUT \\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"       --data <PAYLOAD> \\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"       <VAULT_ADDRESS>/v1/sys/policies/acl/<POLICY_NAME>\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Where \",mdx(\"inlineCode\",{parentName:\"p\"},\"<TOKEN>\"),\" is your valid token, and \",mdx(\"inlineCode\",{parentName:\"p\"},\"<PAYLOAD>\"),` includes the policy name and\nstringified policy.`),mdx(\"div\",a({},{className:\"alert alert-info g-type-body\",role:\"alert\"}),mdx(\"p\",a({parentName:\"div\"},{className:\"g-type-long-body\"}),\"\",mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),` To create ACL policies, you can use the\n`,mdx(\"a\",a({parentName:\"p\"},{href:\"/api/system/policy\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"sys/policy\")),\" endpoint as well.\")),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Example:\")),mdx(\"pre\",a({},{className:\"language-shell\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create the API request payload. Use stringified policy expression.\"),`\n`,\"$ \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"tee\"),\" admin-payload.json \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"<<\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"EOF\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"{\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'  \"policy\": \"# Manage auth methods broadly across Vault',mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"path \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"auth/*\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"{\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"  capabilities = [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"create\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"read\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"update\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"delete\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"list\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sudo\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"]\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"}\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"# List, create, update, and delete auth methods\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"path \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sys/auth/*\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"{\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"  capabilities = [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"create\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"read\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"update\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"delete\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sudo\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"]\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"}\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"# List auth methods\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"path \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sys/auth\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"{\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"  capabilities = [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"read\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"]\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"}\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"# List existing policies\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"path \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sys/policies\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"{\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"  capabilities = [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"read\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"]\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"}\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"# Create and manage ACL policies broadly across Vault\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"path \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sys/policies/*\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"{\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"  capabilities = [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"create\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"read\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"update\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"delete\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"list\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sudo\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"]\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"}\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"# List, create, update, and delete key/value secrets\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"path \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"secret/*\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"{\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"  capabilities = [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"create\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"read\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"update\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"delete\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"list\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sudo\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"]\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"}\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"# Manage and manage secret engines broadly across Vault.\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"path \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sys/mounts/*\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"{\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"  capabilities = [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"create\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"read\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"update\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"delete\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"list\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sudo\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"]\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"}\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"# List existing secret engines.\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"path \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sys/mounts\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"{\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"  capabilities = [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"read\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"]\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"}\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"# Read health checks\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"path \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sys/health\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"{\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"  capabilities = [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"read\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sudo\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"]\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),'}\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"EOF\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create admin policy\"),`\n`,\"$ \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"curl\"),\" --header \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"X-Vault-Token: ...\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"\\\\\"),`\n`,\"       --request PUT \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"\\\\\"),`\n`,\"       --data @admin-payload.json \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"\\\\\"),`\n`,\"       http://127.0.0.1:8200/v1/sys/policies/acl/admin\",`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create the API requset payload for creating provisioner policy\"),`\n`,\"$ \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"tee\"),\" provisioner-payload.json \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"<<\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"EOF\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"{\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'  \"policy\": \"# Manage auth methods broadly across Vault',mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"path \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"auth/*\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"{\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"  capabilities = [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"create\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"read\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"update\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"delete\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"list\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sudo\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"]\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"}\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"# List, create, update, and delete auth methods\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"path \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sys/auth/*\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"{\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"  capabilities = [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"create\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"read\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"update\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"delete\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sudo\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"]\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"}\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"# List existing policies\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"path \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sys/policy\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"{\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"  capabilities = [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"read\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"]\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"}\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"# Create and manage ACL policies\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"path \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"sys/policy/*\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"{\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"  capabilities = [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"create\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"read\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"update\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"delete\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"list\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"]\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"}\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"# List, create, update, and delete key/value secrets\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"path \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"secret/*\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"{\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"  capabilities = [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"create\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"read\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"update\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"delete\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"list\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"]\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),'}\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"EOF\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create provisioner policy\"),`\n`,\"$ \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"curl\"),\" --header \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"X-Vault-Token: ...\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"\\\\\"),`\n`,\"       --request PUT \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"\\\\\"),`\n`,\"       --data @provisioner-payload.json \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"\\\\\"),`\n`,\"       http://127.0.0.1:8200/v1/sys/policies/acl/provisioner\",`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),` To update an existing policy, simply re-run the same command by\npassing your modified policy in the request payload (`,mdx(\"inlineCode\",{parentName:\"p\"},\"*.json\"),\").\"),mdx(\"h3\",a({},{className:\"g-type-display-4\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#step3\",\"aria-label\":\"step 3 view existing policies permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h __compat\",id:\"step3\",\"aria-hidden\":\"\"})),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h\",id:\"step-3-view-existing-policies\",\"aria-hidden\":\"\"})),\"Step 3: View existing policies\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Make sure that you see the policies you created in \",mdx(\"a\",a({parentName:\"p\"},{href:\"#step2\"}),\"Step 2\"),\".\"),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#cli-command-1\",\"aria-label\":\"cli command permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"cli-command-1\",\"aria-hidden\":\"\"})),\"CLI command\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"The following command lists existing policies:\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault policy list\")),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"To view a specific policy:\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault policy \",mdx(\"span\",a({parentName:\"span\"},{className:\"token builtin class-name\"}),\"read\"),\" \")),mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"<POLICY_NAME>\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Example:\")),mdx(\"pre\",a({},{className:\"language-shell\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Read admin policy\"),`\n`,\"$ vault policy \",mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\"read\"),\" admin\",`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Mount and manage auth methods broadly across Vault\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"auth/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/auth/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Create and manage ACL policies broadly across Vault\"),`\n`,\"path \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/policy/*\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"list\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"..\"),\".\",`\n`)),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#api-call-using-curl-1\",\"aria-label\":\"api call using curl permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"api-call-using-curl-1\",\"aria-hidden\":\"\"})),\"API call using cURL\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"To list existing ACL policies, use the \",mdx(\"inlineCode\",{parentName:\"p\"},\"sys/policies/acl\"),\" endpoint.\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"curl\"),\" --request LIST --header \",mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'\"X-Vault-Token: ...\"'),\" http://127.0.0.1:8200/v1/sys/policies/acl \",mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"|\"),\" jq\")),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`To read a specific policy, the endpoint path should be\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"sys/policies/acl/<POLICY_NAME>\"),\".\"),mdx(\"div\",a({},{className:\"alert alert-info g-type-body\",role:\"alert\"}),mdx(\"p\",a({parentName:\"div\"},{className:\"g-type-long-body\"}),\"\",mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),\" To read existing ACL policies, you can use the \",mdx(\"inlineCode\",{parentName:\"p\"},\"sys/policy\"),`\nendpoint as well.`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Example:\")),mdx(\"pre\",a({},{className:\"language-shell\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Read the admin policy\"),`\n`,\"$ \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"curl\"),\" --header \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"X-Vault-Token: ...\"'),\" http://127.0.0.1:8200/v1/sys/policies/acl/admin \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"|\"),\" jq\",`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"request_id\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"3f826e5c-70a0-2998-8082-fe34c67c59d1\"'),\",\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"lease_id\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"\"'),\",\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"renewable\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" false,\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"lease_duration\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token number\"}),\"0\"),\",\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"data\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"name\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"admin\"'),\",\",`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"policy\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"# Manage auth methods broadly across Vault',mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"path \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"auth/*\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"{\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:\"\\\\n\"}),\"\\\\n\"),\"  capabilities = [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"create\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\"read\",mdx(\"span\",a({parentName:\"span\"},{className:\"token entity\",title:'\\\\\"'}),'\\\\\"'),\" ...\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"  },\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'  \"'),\"wrap_info\",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\": null,'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'  \"'),\"warnings\",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\": null,'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'  \"'),'auth\": null',`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"h3\",a({},{className:\"g-type-display-4\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#step4\",\"aria-label\":\"step 4 check capabilities of a token permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h __compat\",id:\"step4\",\"aria-hidden\":\"\"})),mdx(\"a\",a({parentName:\"h3\"},{className:\"__target-h\",id:\"step-4-check-capabilities-of-a-token\",\"aria-hidden\":\"\"})),\"Step 4: Check capabilities of a token\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`This step shows how to print out the permitted capabilities of a token on a\npath. This can help verifying what operations are granted based on the policies\nattached to the token.`),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#cli-command-2\",\"aria-label\":\"cli command permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"cli-command-2\",\"aria-hidden\":\"\"})),\"CLI command\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"The command is:\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault token capabilities \")),mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"<TOKEN> <PATH>\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Example:\")),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"First, create a token attached to \",mdx(\"inlineCode\",{parentName:\"p\"},\"admin\"),\" policy.\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault token create -policy\",mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'\"admin\"'))),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"Key                  Value\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"---                  -----\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"token                2sHGlAHNj36LpqQ2Zevl2Owi\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"token_accessor       4G4UIsQOMwifg7vMLqf6QIc3\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"token_duration       768h\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"token_renewable      true\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'token_policies       [\"admin\" \"default\"]'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"identity_policies    []\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'policies             [\"admin\" \"default\"]'),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Now, fetch the capabilities of this token on the \",mdx(\"inlineCode\",{parentName:\"p\"},\"sys/auth/approle\"),\" path.\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault token capabilities 2sHGlAHNj36LpqQ2Zevl2Owi sys/auth/approle\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"create, delete, read, sudo, update\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"The result should match the policy rule you wrote on the \",mdx(\"inlineCode\",{parentName:\"p\"},\"sys/auth/*\"),` path. You\ncan repeat the steps to generate a token for `,mdx(\"inlineCode\",{parentName:\"p\"},\"provisioner\"),` and check its\ncapabilities on paths.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`In the absence of a token, it returns the capabilities of the current token\ninvoking this command.`),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),\"vault token capabilities sys/auth/approle\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"root\"),`\n`)),mdx(\"h4\",a({},{className:\"g-type-display-5\"}),mdx(\"a\",a({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#api-call-using-curl-2\",\"aria-label\":\"api call using curl permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h4\"},{className:\"__target-h\",id:\"api-call-using-curl-2\",\"aria-hidden\":\"\"})),\"API call using cURL\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Use the \",mdx(\"inlineCode\",{parentName:\"p\"},\"sys/capabilities\"),\" endpoint.\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Example:\")),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"First, create a token attached to the \",mdx(\"inlineCode\",{parentName:\"p\"},\"admin\"),\" policy:\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"curl\"),\" --request POST --header \",mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'\"X-Vault-Token: ...\"'),\" --data \",mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),`'{ \"policies\":\"admin\" }'`),\" \")),mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"\\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"       http://127.0.0.1:8200/v1/auth/token/create\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"{\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'   \"request_id\": \"bd9b3216-f7e6-610c-4861-38b9112a1821\",'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'   \"lease_id\": \"\",'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'   \"renewable\": false,'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'   \"lease_duration\": 0,'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'   \"data\": null,'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'   \"wrap_info\": null,'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'   \"warnings\": null,'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'   \"auth\": {'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'     \"client_token\": \"3xlduc1vGMD7vKeGLyONAxdS\",'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'     \"accessor\": \"FOoNv0YJSCqtPVCpW03qVeKd\",'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'     \"policies\": ['),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'       \"admin\",'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'       \"default\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"     ],\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'     \"token_policies\": ['),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'       \"admin\",'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'       \"default\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"     ],\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'     \"metadata\": null,'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'     \"lease_duration\": 2764800,'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'     \"renewable\": true,'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),'     \"entity_id\": \"\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"   }\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"}\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"Now, fetch the capabilities of this token on the \",mdx(\"inlineCode\",{parentName:\"p\"},\"sys/auth/approle\"),\" path.\"),mdx(\"pre\",a({},{className:\"language-shell\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"# Request payload\"),`\n`,\"$ \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"tee\"),\" payload.json \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"<<\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"EOF\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"{\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'  \"token\": \"3xlduc1vGMD7vKeGLyONAxdS\",'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'  \"path\": \"sys/auth/approle\"'),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"EOF\"),`\n`,`\n`,\"$ \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"curl\"),\" --request POST --header \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"X-Vault-Token: ...\"'),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"\\\\\"),`\n`,\"       --data @payload.json \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"\\\\\"),`\n`,\"       http://127.0.0.1:8200/v1/sys/capabilities \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"|\"),\" jq\",`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sys/auth/approle\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\",\",`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\",\",`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\",\",`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),\",\",`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\",\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"capabilities\"'),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin class-name\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"create\"'),\",\",`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"delete\"'),\",\",`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),\",\",`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"sudo\"'),\",\",`\n`,\"    \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),'\"update\"'),`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\",\",`\n`,\"  \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"..\"),\".\",`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"The result should match the policy rule you wrote on the \",mdx(\"inlineCode\",{parentName:\"p\"},\"sys/auth/*\"),` path. You can\nrepeat the steps to generate a token for `,mdx(\"inlineCode\",{parentName:\"p\"},\"provisioner\"),` and check its\ncapabilities on paths.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`To check the current token's capabilities permitted on a path, use\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},\"sys/capabilities-self\"),\" endpoint.\"),mdx(\"pre\",a({},{className:\"language-shell-session\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"curl\"),\" --request POST --header \",mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'\"X-Vault-Token: ...\"'),\" \")),mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"\\\\\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),`       --data '{\"path\":\"sys/auth/approle\"}' \\\\`),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token output\"}),\"       http://127.0.0.1:8200/v1/sys/capabilities-self\"),`\n`)),mdx(\"h2\",a({},{className:\"g-type-display-3\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#next-steps\",\"aria-label\":\"next steps permalink\"}),\"\\xBB\"),mdx(\"a\",a({parentName:\"h2\"},{className:\"__target-h\",id:\"next-steps\",\"aria-hidden\":\"\"})),\"Next steps\"),mdx(\"p\",a({},{className:\"g-type-long-body\"}),`In this guide, you learned how to write policies based on given policy\nrequirements. Next, the `,mdx(\"a\",a({parentName:\"p\"},{href:\"/guides/identity/authentication\"}),\"AppRole Pull Authentication\"),`\nguide demonstrates how to associate policies to a role.`),mdx(\"p\",a({},{className:\"g-type-long-body\"}),\"To learn about Sentinel policies, refer to the \",mdx(\"a\",a({parentName:\"p\"},{href:\"/guides/identity/sentinel\"}),`Sentinel\nPolicies`),\" guide.\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"navData":[{"title":"Getting Started","path":"getting-started","filePath":"content/guides/getting-started.mdx"},{"title":"Vault Operations","routes":[{"title":"Overview","path":"operations","filePath":"content/guides/operations/index.mdx"},{"title":"Reference Architecture","path":"operations/reference-architecture","filePath":"content/guides/operations/reference-architecture.mdx"},{"title":"Vault HA with Consul","path":"operations/vault-ha-consul","filePath":"content/guides/operations/vault-ha-consul.mdx"},{"title":"Production Hardening","path":"operations/production","filePath":"content/guides/operations/production.mdx"},{"title":"Root Token Generation","path":"operations/generate-root","filePath":"content/guides/operations/generate-root.mdx"},{"title":"Rekeying & Rotating","path":"operations/rekeying-and-rotating","filePath":"content/guides/operations/rekeying-and-rotating.mdx"},{"title":"Building Plugin Backends","path":"operations/plugin-backends","filePath":"content/guides/operations/plugin-backends.mdx"},{"divider":true},{"title":"Replication Setup & Guidance","path":"operations/replication","filePath":"content/guides/operations/replication.mdx"},{"title":"Disaster Recovery Setup","path":"operations/disaster-recovery","filePath":"content/guides/operations/disaster-recovery.mdx"},{"title":"Mount Filter","path":"operations/mount-filter","filePath":"content/guides/operations/mount-filter.mdx"},{"title":"Multi-Tenant: Namespaces","path":"operations/multi-tenant","filePath":"content/guides/operations/multi-tenant.mdx"},{"title":"Vault Auto-unseal with AWS KMS","path":"operations/autounseal-aws-kms","filePath":"content/guides/operations/autounseal-aws-kms.mdx"},{"title":"Seal Wrap / FIPS 140-2","path":"operations/seal-wrap","filePath":"content/guides/operations/seal-wrap.mdx"},{"title":"Vault Cluster Monitoring","path":"operations/monitoring","filePath":"content/guides/operations/monitoring.mdx"},{"title":"Vault Deployment Guide","path":"operations/deployment-guide","filePath":"content/guides/operations/deployment-guide.mdx"},{"title":"Performance Standby Nodes","path":"operations/performance-nodes","filePath":"content/guides/operations/performance-nodes.mdx"}]},{"title":"Identity and Access Management","routes":[{"title":"Overview","path":"identity","filePath":"content/guides/identity/index.mdx"},{"title":"Secure Introduction of Vault Clients","path":"identity/secure-intro","filePath":"content/guides/identity/secure-intro.mdx"},{"title":"Policies","path":"identity/policies","filePath":"content/guides/identity/policies.mdx"},{"title":"ACL Policy Path Templating","path":"identity/policy-templating","filePath":"content/guides/identity/policy-templating.mdx"},{"title":"AppRole Pull Authentication","path":"identity/authentication","filePath":"content/guides/identity/authentication.mdx"},{"title":"AppRole with Terraform and Chef","path":"identity/approle-trusted-entities","filePath":"content/guides/identity/approle-trusted-entities.mdx"},{"title":"Tokens and Leases","path":"identity/lease","filePath":"content/guides/identity/lease.mdx"},{"title":"Identity - Entities & Groups","path":"identity/identity","filePath":"content/guides/identity/identity.mdx"},{"divider":true},{"title":"Sentinel Policies","path":"identity/sentinel","filePath":"content/guides/identity/sentinel.mdx"},{"title":"Control Groups","path":"identity/control-groups","filePath":"content/guides/identity/control-groups.mdx"}]},{"title":"Secrets Management","routes":[{"title":"Overview","path":"secret-mgmt","filePath":"content/guides/secret-mgmt/index.mdx"},{"title":"Static Secrets","path":"secret-mgmt/static-secrets","filePath":"content/guides/secret-mgmt/static-secrets.mdx"},{"title":"Versioned KV Secret Engine","path":"secret-mgmt/versioned-kv","filePath":"content/guides/secret-mgmt/versioned-kv.mdx"},{"title":"Secret as a Service","path":"secret-mgmt/dynamic-secrets","filePath":"content/guides/secret-mgmt/dynamic-secrets.mdx"},{"title":"DB Root Credential Rotation","path":"secret-mgmt/db-root-rotation","filePath":"content/guides/secret-mgmt/db-root-rotation.mdx"},{"title":"Cubbyhole Response Wrapping","path":"secret-mgmt/cubbyhole","filePath":"content/guides/secret-mgmt/cubbyhole.mdx"},{"title":"One-Time SSH Password","path":"secret-mgmt/ssh-otp","filePath":"content/guides/secret-mgmt/ssh-otp.mdx"},{"title":"Build Your Own CA","path":"secret-mgmt/pki-engine","filePath":"content/guides/secret-mgmt/pki-engine.mdx"},{"title":"Direct Application Integration","path":"secret-mgmt/app-integration","filePath":"content/guides/secret-mgmt/app-integration.mdx"}]},{"title":"Encryption as a Service","routes":[{"title":"Overview","path":"encryption","filePath":"content/guides/encryption/index.mdx"},{"title":"Encryption as a Service","path":"encryption/transit","filePath":"content/guides/encryption/transit.mdx"},{"title":"Java Application Demo","path":"encryption/spring-demo","filePath":"content/guides/encryption/spring-demo.mdx"},{"title":"Transit Secrets Re-wrapping","path":"encryption/transit-rewrap","filePath":"content/guides/encryption/transit-rewrap.mdx"}]}],"versions":[]},"__N_SSG":true}