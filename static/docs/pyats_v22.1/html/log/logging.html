<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Log Module &mdash; pyATS Documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Implementation" href="implementation.html" />
    <link rel="prev" title="Logging Concept" href="concept.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            pyATS
          </a>
              <div class="version">
                24.11
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Command Line Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Main Components</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../aetest/index.html">AEtest - Test Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../easypy/index.html">Easypy - Runtime Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topology/index.html">Testbed &amp; Topology Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kleenex/index.html">Testbed &amp; Device Cleaning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connections/index.html">Connection Meta</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supporting Components</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../async/index.html">Asynchronous Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datastructures/index.html">Datastructures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tcl/index.html">Tcl Integration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Logging</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="concept.html">Logging Concept</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Log Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cisco-log-format">Cisco Log Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#message-severity">Message Severity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installation-and-updates">Installation and Updates</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="implementation.html">Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="integration.html">Integration with Easypy</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html">Logging Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../results/index.html">Result Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporter/index.html">Reporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/index.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robot/index.html">RobotFramework Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manifest/index.html">Manifest</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../terminology.html">Terminologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/index.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/index.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Doc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../apidoc/index.html">API Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pyATS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Logging</a></li>
      <li class="breadcrumb-item active">Log Module</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="log-module">
<span id="id1"></span><h1>Log Module<a class="headerlink" href="#log-module" title="Permalink to this heading">¶</a></h1>
<p>The pyATS <code class="docutils literal notranslate"><span class="pre">log</span></code> module features <a class="reference external" href="https://docs.python.org/3.4/library/logging.html#formatter-objects">Formatter</a> and <a class="reference external" href="https://docs.python.org/3.4/library/logging.html#handler-objects">Handler</a> classes that
implements CiscoLog compatible message format &amp; storage behavior.</p>
<p>Cisco logging standard can be summarized as:</p>
<ul class="simple">
<li><p>the log file is called a <a class="reference internal" href="concept.html#tasklog"><span class="std std-ref">TaskLog</span></a>. There is only ever one active TaskLog
per script execution process (eg, logging is not duplicated to multiple
files).</p></li>
<li><p>log messages within the <a class="reference internal" href="concept.html#tasklog"><span class="std std-ref">TaskLog</span></a> must be of <a class="reference internal" href="#cisco-log-format"><span class="std std-ref">Cisco Log Format</span></a>.</p></li>
<li><p><a class="reference internal" href="concept.html#tasklog"><span class="std std-ref">TaskLog</span></a> can be changed on the fly within each testscript.</p></li>
</ul>
<section id="cisco-log-format">
<span id="id2"></span><h2>Cisco Log Format<a class="headerlink" href="#cisco-log-format" title="Permalink to this heading">¶</a></h2>
<p>Cisco log format is a per-line logging format for all Cisco related log outputs
&amp; messages, standardized since the IOS days. It enables all routers &amp; scripts to
log in a common manner, and enables other infras to
filter and build tooling around it. This format can be summarized as the
following:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># the format itself, in Python logging formatter style
# ----------------------------------------------------

{seqnum}: {hostname}: {time}: %{appname}-{severity}-{msgname}: {tags}: {message}%

seqnum      - message sequence number, starts with 0 for each process
hostname    - current host name
time        - timestamp in yyyy-mm-ddThh:mm:ss format
appname     - the application generating this message
severity    - message severity, range 1-7
msgname     - name of the message
tags        - optional tags associated with this message
message     - message given by the user

# Example
# -------

70: my-server: 2014-08-06T11:21:30: %AETEST-6-INFO: %[pname=python][pid=11295][tid=MainThread]: a log message
71: my-server: 2014-08-06T11:21:30: %AETEST-6-INFO: %[pname=python][pid=11295][tid=MainThread]: another log message
</pre></div>
</div>
</section>
<section id="message-severity">
<h2>Message Severity<a class="headerlink" href="#message-severity" title="Permalink to this heading">¶</a></h2>
<p>The Cisco message severity equivalents are only displayed as part of the log
header. When logger outputs the final log message to file, the conversion to its
equivalent severity number is automatically done.</p>
<p>Following Table provides the Python logging level as described in
Python <code class="docutils literal notranslate"><span class="pre">logging</span></code> documentation and its severity’s equivalent numerical value.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>LEVEL</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">logging</span></code> level</p></th>
<th class="head"><p>Cisco Msg Severity</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CRITICAL</p></td>
<td><p>50</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>ERROR</p></td>
<td><p>40</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>WARNING</p></td>
<td><p>30</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>INFO</p></td>
<td><p>20</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-even"><td><p>DEBUG</p></td>
<td><p>10</p></td>
<td><p>7</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>the Python native logging levels are sufficient for all script/library
developments, and thus the following Cisco message severities are no-longer
supported in pyATS:</p>
<blockquote>
<div><ul class="simple">
<li><p>emergency</p></li>
<li><p>alert</p></li>
<li><p>notice</p></li>
</ul>
</div></blockquote>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Cisco message severity and Python numeric levels are conceptually reversed.
In Cisco message severity, if a level is lower, it’s more important,
whereas in Python, if a level is higher, it’s more important. Do not confuse
the two - use the Python logic as described in the <code class="docutils literal notranslate"><span class="pre">logging</span></code>
documentation.</p>
</div>
</section>
<section id="installation-and-updates">
<h2>Installation and Updates<a class="headerlink" href="#installation-and-updates" title="Permalink to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">log</span></code> module is installed by default as part of <code class="docutils literal notranslate"><span class="pre">pyATS</span></code> installation.
The package is also featured in the PyPI server, and can be installed
separately. <code class="docutils literal notranslate"><span class="pre">log</span></code> module is part of the <code class="docutils literal notranslate"><span class="pre">pyats</span></code> namespace, and therefore
users should always refer to the full namespace when installing &amp; using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>pyats.log
</pre></div>
</div>
<p>To upgrade an existing installation of log package in your environment, do:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>pyats.log<span class="w"> </span>--upgrade
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="concept.html" class="btn btn-neutral float-left" title="Logging Concept" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="implementation.html" class="btn btn-neutral float-right" title="Implementation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Copyright (c) 2024, Cisco Systems Inc..
      <span class="lastupdated">Last updated on Dec 27, 2024.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>