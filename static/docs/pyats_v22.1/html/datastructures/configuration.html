<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configuration Container &mdash; pyATS Documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tcl Integration" href="../tcl/index.html" />
    <link rel="prev" title="Logic Testing" href="logic.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            pyATS
          </a>
              <div class="version">
                24.11
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Command Line Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Main Components</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../aetest/index.html">AEtest - Test Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../easypy/index.html">Easypy - Runtime Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topology/index.html">Testbed &amp; Topology Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kleenex/index.html">Testbed &amp; Device Cleaning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connections/index.html">Connection Meta</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supporting Components</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../async/index.html">Asynchronous Library</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Datastructures</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="attrdict.html">Attribute Dictionaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="weaklist.html">Weak List References</a></li>
<li class="toctree-l2"><a class="reference internal" href="listdict.html">Dictionary Represented Using Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="orderabledict.html">Orderable Dictionary</a></li>
<li class="toctree-l2"><a class="reference internal" href="logic.html">Logic Testing</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configuration Container</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#behavior">Behavior</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tcl/index.html">Tcl Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../log/index.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../results/index.html">Result Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporter/index.html">Reporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/index.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robot/index.html">RobotFramework Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manifest/index.html">Manifest</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../terminology.html">Terminologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/index.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/index.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Doc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../apidoc/index.html">API Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pyATS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Datastructures</a></li>
      <li class="breadcrumb-item active">Configuration Container</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="configuration-container">
<h1>Configuration Container<a class="headerlink" href="#configuration-container" title="Permalink to this heading">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">Configuration</span></code> container is a special type of <code class="docutils literal notranslate"><span class="pre">NestedAttrDict</span></code> intended
to store Python module and feature configurations.</p>
<p>Avoid confusing Python configuration with router configuration. Python
configurations tends to be key value pairs that drives a particular piece
of infrastructure, telling it how its behavior should be.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   using Configuration() class</span>

<span class="kn">from</span> <span class="nn">pyats.datastructures</span> <span class="kn">import</span> <span class="n">Configuration</span>

<span class="c1"># instantiating it</span>
<span class="n">cfg</span> <span class="o">=</span> <span class="n">Configuration</span><span class="p">()</span>

<span class="c1"># loading some INI style config files</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">load_cfgs</span><span class="p">(</span><span class="s1">&#39;/path/to/file.ini&#39;</span><span class="p">)</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">load_cfgs</span><span class="p">(</span><span class="s1">&#39;/path/to/file.conf&#39;</span><span class="p">)</span>

<span class="c1"># load yaml style config files</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">load_yamls</span><span class="p">(</span><span class="s1">&#39;/path/to/config.yaml&#39;</span><span class="p">)</span>

<span class="c1"># loading python entrypoints</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">load_entrypoint</span><span class="p">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">&#39;entrypoint.group.name&#39;</span><span class="p">)</span>

<span class="n">cfg</span>
<span class="c1"># Configuration({</span>
<span class="c1">#     &#39;email&#39;: Configuration({</span>
<span class="c1">#         &#39;smtp&#39;: Configuration({</span>
<span class="c1">#             &#39;host&#39;: &#39;mail.cisco.com&#39;,</span>
<span class="c1">#             &#39;port&#39;: 25}),</span>
<span class="c1">#         &#39;default_domain&#39;: &#39;cisco.com&#39;})})</span>
</pre></div>
</div>
<section id="behavior">
<h2>Behavior<a class="headerlink" href="#behavior" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Configuration class inherits all the behaviors of <code class="docutils literal notranslate"><span class="pre">NestedAttrDict</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Configuration.copy()</span></code> will walk the entire configuration tree, and all
children <code class="docutils literal notranslate"><span class="pre">Configuration</span></code> nodes will be copied. (Eg - it’s a pseudo deep
copy, but will only deep copy its own object type)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Configuration.load_cfgs(*files)</span></code> accepts <code class="docutils literal notranslate"><span class="pre">N</span></code> INI style files. Internally
it uses <code class="docutils literal notranslate"><span class="pre">configparser.ConfigParser.read(*files)</span></code> api, and inherits all of
its behavior. Returns the list of files that was loaded successfully.</p>
<ul>
<li><p>does not raise exception if file doesn’t exist</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> block in configparser is removed</p></li>
<li><p>basic data types will be typecasted into Python objects
(bool/int/float/None)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Configuration.load_yamls(*files)</span></code> accepts <code class="docutils literal notranslate"><span class="pre">N</span></code> yaml files. Internally
performs a YAML load on each file, and saves the configuration data.
The files are read from left to right, hence if any data block is repeated in
the files, the right most file’s data takes precedence. Returns the list of
files that was loaded successfully.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Configuration.load_entrypoint(group)</span></code> loads a Python entrypoint group.
Any loaded group data needs to return a dictionary-like data, which will
get updated into this configuration object</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="logic.html" class="btn btn-neutral float-left" title="Logic Testing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../tcl/index.html" class="btn btn-neutral float-right" title="Tcl Integration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Copyright (c) 2024, Cisco Systems Inc..
      <span class="lastupdated">Last updated on Dec 27, 2024.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>