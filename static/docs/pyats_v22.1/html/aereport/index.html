<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AEReport Reporter &mdash; pyATS Documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            pyATS
          </a>
              <div class="version">
                24.11
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Command Line Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Main Components</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../aetest/index.html">AEtest - Test Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../easypy/index.html">Easypy - Runtime Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topology/index.html">Testbed &amp; Topology Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kleenex/index.html">Testbed &amp; Device Cleaning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connections/index.html">Connection Meta</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supporting Components</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../async/index.html">Asynchronous Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datastructures/index.html">Datastructures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tcl/index.html">Tcl Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../log/index.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../results/index.html">Result Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporter/index.html">Reporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/index.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robot/index.html">RobotFramework Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manifest/index.html">Manifest</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../terminology.html">Terminologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/index.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/index.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Doc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../apidoc/index.html">API Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pyATS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">AEReport Reporter</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="aereport-reporter">
<span id="aereport"></span><h1>AEReport Reporter<a class="headerlink" href="#aereport-reporter" title="Permalink to this heading">¶</a></h1>
<p>This section explains the purpose of having AEReport, and provides a usage
tutorial. For more details, refer to the API Reference.</p>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h2>
<p>AEReport is a package for collecting and generating test reports in XML formats,
similar to JUnit.</p>
<p>As of now, two XML files are generated for each run (test suite execution):</p>
<ol class="arabic simple">
<li><p><em>ResultsSummary.xml</em> (contains summary of results - test pass/fail/etc)</p></li>
<li><p><em>ResultsDetails.xml</em> (contains all details of execution, timers, checkpoints, results, etc)</p></li>
</ol>
<p>A sample ResultsSummary.xml file looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;?xml version=&quot;1.0&quot; ?&gt;
&lt;jobSummary archiveFilename=&quot;atseasy/jeaubin/archive/14-06/run_jb.2014Jun02_10:12:00.zip&quot; atsTreePath=&quot;/ws/jeaubin-ott/py&quot;&gt;
   &lt;jobName&gt;run_jb&lt;/jobName&gt;
   &lt;image&gt;TEMP&lt;/image&gt;
   &lt;aborted&gt;0&lt;/aborted&gt;
   &lt;passed&gt;0&lt;/passed&gt;
   &lt;failed&gt;1&lt;/failed&gt;
   &lt;blocked&gt;0&lt;/blocked&gt;
   &lt;skipped&gt;2&lt;/skipped&gt;
   &lt;errored&gt;0&lt;/errored&gt;
   &lt;unknown&gt;0&lt;/unknown&gt;
   &lt;starttime&gt;2014-06-02T10:12:01&lt;/starttime&gt;
   &lt;stoptime&gt;2014-06-02T10:12:03&lt;/stoptime&gt;
   &lt;runtime&gt;00:00:02&lt;/runtime&gt;
   &lt;testbed/&gt;
   &lt;release/&gt;
   &lt;submitter&gt;jeaubin&lt;/submitter&gt;
   &lt;debugProfile&gt;0&lt;/debugProfile&gt;
   &lt;host&gt;jeaubin-dev&lt;/host&gt;
&lt;/jobSummary&gt;
</pre></div>
</div>
<p>and here is an excerpt of ResultsDetails.xml:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;?xml version=&quot;1.0&quot; ?&gt;
&lt;aereport xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;
 &lt;testsuite&gt;
  &lt;starttime&gt;2014-06-02T10:12:01&lt;/starttime&gt;
  &lt;initinfo&gt;
   &lt;name&gt;run_jb&lt;/name&gt;
   &lt;ats&gt;
    &lt;path&gt;/ws/jeaubin-ott/py&lt;/path&gt;
    &lt;version&gt;5.3.0&lt;/version&gt;
   &lt;/ats&gt;
  &lt;/initinfo&gt;
  &lt;jobexecution&gt;
   &lt;runinfo/&gt;
   &lt;starttime&gt;2014-06-02T10:12:01&lt;/starttime&gt;
   &lt;stoptime&gt;2014-06-02T10:12:03&lt;/stoptime&gt;
   &lt;result mode=&quot;auto&quot;/&gt;
   &lt;testscript&gt;
    &lt;starttime&gt;2014-06-02T10:12:01&lt;/starttime&gt;
    &lt;initinfo&gt;
        ...
    &lt;runinfo/&gt;
    &lt;testcase&gt;
     &lt;starttime&gt;2014-06-02T10:12:03&lt;/starttime&gt;
     &lt;stoptime&gt;2014-06-02T10:12:03&lt;/stoptime&gt;
     &lt;result mode=&quot;auto&quot;&gt;skipped&lt;/result&gt;&lt;runtime&gt;00:00:00&lt;/runtime&gt;
    &lt;/testcase&gt;
    &lt;stoptime&gt;2014-06-02T10:12:03&lt;/stoptime&gt;
    &lt;runtime&gt;00:00:02&lt;/runtime&gt;
    &lt;summary&gt;
     &lt;abort&gt;0&lt;/abort&gt;
     &lt;fail&gt;0&lt;/fail&gt;
     &lt;block&gt;0&lt;/block&gt;
     &lt;skip&gt;0&lt;/skip&gt;
     &lt;error&gt;0&lt;/error&gt;
     &lt;unknown&gt;0&lt;/unknown&gt;
    &lt;/summary&gt;
    &lt;pass&gt;0&lt;/pass&gt;
   &lt;/testscript&gt;
   &lt;runtime&gt;00:00:02&lt;/runtime&gt;
   ...
  &lt;/jobexecution&gt;
  &lt;tims bgPost=&quot;False&quot;&gt;
   &lt;post&gt;
    &lt;status/&gt;
    &lt;cmd/&gt;
   &lt;/post&gt;
   &lt;dnsname/&gt;
  &lt;/tims&gt;
  &lt;runinfo/&gt;
  &lt;archivefile&gt;atseasy/jeaubin/archive/14-06/run_jb.2014Jun02_10:12:00.zip&lt;/archivefile&gt;
  &lt;stoptime&gt;2014-06-02T10:12:03&lt;/stoptime&gt;
  &lt;runtime&gt;00:00:02&lt;/runtime&gt;
  &lt;summary&gt;
   &lt;abort&gt;0&lt;/abort&gt;
   &lt;fail&gt;1&lt;/fail&gt;
   &lt;block&gt;0&lt;/block&gt;
   &lt;skip&gt;2&lt;/skip&gt;
   &lt;error&gt;0&lt;/error&gt;
   &lt;unknown&gt;0&lt;/unknown&gt;
  &lt;/summary&gt;
  &lt;pass&gt;0&lt;/pass&gt;
 &lt;/testsuite&gt;
&lt;/aereport&gt;
</pre></div>
</div>
<p>Any testing framework can make use of AEReport package
to create their TRADe-compatible
xml. By using an underlying xml-rpc model, clients of
AEReport can make API calls to
signal the start of a section (testscript, testcase, etc),
the end of a section,
record some run time information, record results, etc.</p>
<section id="terminology">
<h3>Terminology<a class="headerlink" href="#terminology" title="Permalink to this heading">¶</a></h3>
<dl class="simple">
<dt>Context (Execution Context)</dt><dd><p>Any executable section of code that has a name,
start, and end is an execution context. Examples of this are:
testsuite, jobexecution(job), testscript, testcase, subtest,
testsection. The aforementioned contexts have a hierarchy in
exactly the same order as they appeared from top level to bottom.
Other contexts include: commonsetup, commonverify, commoncleanup,
commonmodify, commonsubsection, clean</p>
</dd>
</dl>
</section>
</section>
<section id="overview-and-features">
<h2>Overview and Features<a class="headerlink" href="#overview-and-features" title="Permalink to this heading">¶</a></h2>
<section id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h3>
<p>AEReport has a server client model in order to allow different clients
executing in parallel to generate their xml part within the testsuite
(testsuite is the main container of the results - the top level element).</p>
<p>The client process should use/import AEClient in order to talk to the
server process that should include an AERunner instance.</p>
<p>The diagram below depicts the architecture:</p>
<img alt="../_images/AEReport_BlockDiag.png" src="../_images/AEReport_BlockDiag.png" />
<p>The hierarchy and nesting of aereport elements spans many levels.
A UML diagram showing relationships and main attributes of
the report elements is shown here:</p>
<a class="reference internal image-reference" href="../_images/AEReport_UML.png"><img alt="../_images/AEReport_UML.png" src="../_images/AEReport_UML.png" style="width: 1288.0px; height: 1091.2px;" /></a>
</section>
<section id="features">
<h3>Features<a class="headerlink" href="#features" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Support for parallel execution of testscripts/testcases/etc.</p></li>
<li><p>Support for remote execution. Testscripts/testcases/etc can be running on
different hosts.  (However, the first client that starts the server has to be
on the same host as the server)</p></li>
<li><p>Support for two logging modes: SingleFile and FilePerTestcase.  In SingleFile
mode, all the logs from all testcases in a testscript are dumped to the same
file. In FilePerTestcase mode, each testcase has its logs in a separate file.</p></li>
</ul>
</section>
</section>
<section id="aeclients-forking">
<span id="aereport-multiprocessing"></span><h2>AEClients &amp; Forking<a class="headerlink" href="#aeclients-forking" title="Permalink to this heading">¶</a></h2>
<p>By default, <code class="docutils literal notranslate"><span class="pre">AEClient</span></code> class instances (and their pid) are registered to the
server during <code class="docutils literal notranslate"><span class="pre">connect()</span></code>. When <code class="docutils literal notranslate"><span class="pre">multiprocessing</span></code> forks the current process,
all <code class="docutils literal notranslate"><span class="pre">AEClients</span></code> objects in the child process are longer recongnized by
the server (as they now belong to a new pid).</p>
<p>This causes all subsequent XML-RPC calls from the child process’s inherited
client objects to fail. To solve this issue and allow auto-reconnect after
a fork, <code class="docutils literal notranslate"><span class="pre">AEClient</span></code> object features two apis: <code class="docutils literal notranslate"><span class="pre">AEClient.enable_forked()</span></code> and
<code class="docutils literal notranslate"><span class="pre">AEClient.disable_forked()</span></code>.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">enable_forked()</span></code> is called on an <code class="docutils literal notranslate"><span class="pre">AEClient</span></code>, the client instance
becomes process aware, and automatically reconnects back to the server after
a <code class="docutils literal notranslate"><span class="pre">multiprocessing</span></code> fork. This allows seamless transition between forking
processes &amp; returning.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   enabling auto-fork reconnect</span>

<span class="kn">from</span> <span class="nn">pyats.aereport.client</span> <span class="kn">import</span> <span class="n">AEClient</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">AEClient</span><span class="p">(</span><span class="n">port</span> <span class="o">=</span> <span class="n">svrport</span><span class="p">,</span> <span class="n">servername</span> <span class="o">=</span> <span class="n">servername</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="c1"># enable auto-forking.</span>
<span class="c1"># from here on-wards, forked child processes auto-reconnect to server</span>
<span class="n">client</span><span class="o">.</span><span class="n">enable_forked</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="tutorial">
<h2>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this heading">¶</a></h2>
<p>To use AEReport, follow these step:</p>
<ol class="arabic simple">
<li><p>Start the server</p></li>
<li><p>Initialize a client instance and connect</p></li>
<li><p>Make your calls to construct the xml files</p></li>
<li><p>Generate xml and terminate the server</p></li>
</ol>
<ol class="arabic simple">
<li><p>Starting the server:</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyats.aereport.aerunner</span> <span class="kn">import</span> <span class="n">AERunner</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svrpid</span><span class="p">,</span> <span class="n">svrport</span><span class="p">,</span> <span class="n">servername</span> <span class="o">=</span> <span class="n">AERunner</span><span class="o">.</span><span class="n">start_server</span><span class="p">(</span><span class="n">logsdir</span><span class="o">=</span><span class="s1">&#39;/tmp/ttt/&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                            <span class="n">logfilename</span><span class="o">=</span><span class="s1">&#39;logfile.log&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To start the server, provide <code class="xref py py-obj docutils literal notranslate"><span class="pre">logsdir</span></code> (A directory to which the server can write,
and will create its logs), <code class="xref py py-obj docutils literal notranslate"><span class="pre">logfilename</span></code> (A name of the logfile for the server
to use), and optional <code class="xref py py-obj docutils literal notranslate"><span class="pre">erase</span></code> (A flag to ask the server to erase the logfile
before using it - default is True).</p>
<p>The start_server API returns <code class="xref py py-obj docutils literal notranslate"><span class="pre">svrpid</span></code> (The process ID of the server process),
<code class="xref py py-obj docutils literal notranslate"><span class="pre">svrport</span></code> (The port the server uses), <code class="xref py py-obj docutils literal notranslate"><span class="pre">servername</span></code> (The name of the host the
server runs at).</p>
<ol class="arabic simple" start="2">
<li><p>Initializing a client instance and connecting to the server:</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyats.aereport.client</span> <span class="kn">import</span> <span class="n">AEClient</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span> <span class="o">=</span> <span class="n">AEClient</span><span class="p">(</span><span class="n">port</span><span class="o">=</span><span class="n">svrport</span><span class="p">,</span><span class="n">servername</span><span class="o">=</span><span class="n">servername</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</pre></div>
</div>
<p>Initialize an AEClient by passing the server port and name, and connect to the
server. When a client connects to the server, it is registered there.</p>
<p>AEReport server maintains a tree structure that mimics the hierarchy of
the connected clients. Each client is identified by its host name and
pid. With each connection, the identifier of the connecting client (host + pid)
and its parent are sent to the server. Based on that info, the server makes
sure that all connecting clients are descendants of the main client which
started the server.</p>
<ol class="arabic simple" start="3">
<li><p>Making calls to record information:</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">start_testsuite</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;jobname&#39;</span><span class="p">:</span><span class="s1">&#39;job1&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="s1">&#39;submitter&#39;</span><span class="p">:</span><span class="s1">&#39;aUser&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">add_ats_packages</span><span class="p">(</span><span class="n">packages</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;Csccon&#39;</span><span class="p">,</span> <span class="s1">&#39;1.1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;aetest&#39;</span><span class="p">,</span> <span class="s1">&#39;1.2&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">start_jobexecution</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">start_testscript</span><span class="p">(</span><span class="n">logfilepath</span><span class="o">=</span><span class="s1">&#39;/tmp/logfile.log&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">start_testcase</span> <span class="p">(</span><span class="n">tcid</span><span class="o">=</span><span class="s1">&#39;some_tc_id2&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                             <span class="n">logfilepath</span><span class="o">=</span><span class="s1">&#39;/tmp/logfile.log&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                             <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;starting our beautiful testcase2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">set_result</span><span class="p">(</span><span class="n">result</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;mode&#39;</span><span class="p">:</span><span class="s1">&#39;override&#39;</span><span class="p">,</span><span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="s1">&#39;failed&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">stop_testcase</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">stop_testscript</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">stop_jobexecution</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">stop_testsuite</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>logfilepath is provided for the different &lt;context&gt;_start calls.
This is to allow each section (mainly testscripts and testcases)
to write their logs to a file of their choice.</p>
</div>
<p>The APIs can be roughly divided into 5 categories:</p>
<p>1. Main contexts start/stop. These are the main APIs to signal the start/end
of execution contexts. For examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">start_testsuite</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">stop_testsuite</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">start_jobexecution</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">stop_jobexecution</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">start_testscript</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">stop_testscript</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="o">...</span>
</pre></div>
</div>
<p>2. Handlers start/stop. These handlers are usually executed as setup,
preparation, or post execution of a certain execution context.
Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">start_setuphandler</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">stop_setuphandler</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">start_prerunhandler</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">stop_prerunhandler</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">start_aehandler</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">stop_aehandler</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="o">...</span>
</pre></div>
</div>
<p>3. Setters. These APIs are for setting values related
to the environment or an execution context. This includes results
information (Pass/Fail/etc), run information (start time, runtime, etc),
and meta information (jobname, submitter, testbed, etc). Examples of these
APIs are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">set_result</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">set_attribute</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">set_runinfo</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">set_initinfo</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">set_ats</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">add_ats_packages</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">set_tims</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">set_summary</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
</pre></div>
</div>
<p>4. Run info helpers. These APIs control the flow of executing a context.
For example, pausing, aborting, adding checkpoints, and adding extra
information (e.g. custom labels, comments, etc). All these APIs can
be substituted with set_runinfo and passing the info that needs to be
set (e.g. set_runinfo(checkpoint={‘name’:’some_checkpoint’,
‘result’:’Pass’}) is equivalent to add_checkpoint(name=’some_checkpoint’,
result=’Pass’)). Examples of these APIs are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add_checkpoint</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">add_userdef</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">abort</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">abort_testsuite</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">pause</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">unpause</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
</pre></div>
</div>
<p>5. Configuration. These APIs are mostly for setting certain execution flags
that can alter the way the tests are run, or enable/disable certain features.
Examples are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">enable_rerun</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">disable_rerun</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">enable_uniquetid</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">disable_uniquetid</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">enable_sort</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">disable_sort</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">enable_outofrange</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">disable_outofrange</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">enable_uniquesuites</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">disable_uniquesuites</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">enable_alignment</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">disable_alignment</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">enable_traceback</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">disable_traceback</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
</pre></div>
</div>
<p>For the complete set of APIs, refer to the API Reference.</p>
<p>Python XML-RPC by default does not support keyword arguments.
The client side (<code class="xref py py-obj docutils literal notranslate"><span class="pre">AEClient</span></code>) is manipulated to do some magic that
allows it. With every API call, the keyword arguments
are packed into a dictionary and sent in the RPC. In addition,
every call gets the hostname and the pid of the client embedded
automatically in the arguments dictionary.</p>
<ol class="arabic simple" start="4">
<li><p>Generating xml and terminating the server:</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">generate_xml_reports</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;/tmp/&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">AERunner</span><span class="o">.</span><span class="n">terminate_server</span><span class="p">()</span>
</pre></div>
</div>
<p>A complete example (without parallel execution of processes) is shown here:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">subprocess</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyats.aereport.aerunner</span> <span class="kn">import</span> <span class="n">AERunner</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyats.aereport.client</span> <span class="kn">import</span> <span class="n">AEClient</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">svrpid</span><span class="p">,</span> <span class="n">svrport</span><span class="p">,</span> <span class="n">servername</span> <span class="o">=</span> <span class="n">AERunner</span><span class="o">.</span><span class="n">start_server</span><span class="p">(</span><span class="n">logsdir</span><span class="o">=</span><span class="s1">&#39;/tmp/ttt/&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                            <span class="n">logfilename</span><span class="o">=</span><span class="s1">&#39;logfile.log&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span> <span class="o">=</span> <span class="n">AEClient</span><span class="p">(</span><span class="n">port</span><span class="o">=</span><span class="n">svrport</span><span class="p">,</span><span class="n">servername</span><span class="o">=</span><span class="n">servername</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">start_testsuite</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;jobname&#39;</span><span class="p">:</span><span class="s1">&#39;job1&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="s1">&#39;submitter&#39;</span><span class="p">:</span><span class="s1">&#39;anUser&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">add_ats_packages</span><span class="p">(</span><span class="n">packages</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;Csccon&#39;</span><span class="p">,</span> <span class="s1">&#39;1.1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;aetest&#39;</span><span class="p">,</span> <span class="s1">&#39;1.2&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dnsname&#39;</span><span class="p">:</span><span class="s1">&#39;aDnsName&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;post&#39;</span><span class="p">:{</span><span class="s1">&#39;status&#39;</span><span class="p">:</span><span class="s1">&#39;aStatus&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;cmd&#39;</span><span class="p">:</span><span class="s1">&#39;aCmd&#39;</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;bgPost&#39;</span><span class="p">:</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;attributes&#39;</span><span class="p">:[{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;aName&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="s1">&#39;aSuperValue&#39;</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;secondName&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="s1">&#39;superValue2&#39;</span><span class="p">}]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">set_tims</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">start_clean</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">set_initinfo</span><span class="p">(</span><span class="n">script</span><span class="o">=</span><span class="s1">&#39;aScript&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                      <span class="n">pargs</span><span class="o">=</span><span class="s1">&#39;pargs&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">set_runinfo</span><span class="p">(</span><span class="n">comment</span><span class="o">=</span><span class="s1">&#39;aComment&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">stop_clean</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">set_initinfo</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;aHost&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;cli&#39;</span><span class="p">:</span><span class="s1">&#39;aCli&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                              <span class="s1">&#39;errors&#39;</span><span class="p">:</span><span class="s1">&#39;10&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                              <span class="s1">&#39;reason&#39;</span><span class="p">:</span><span class="s1">&#39;aReason&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                              <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;aReportType&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                              <span class="s1">&#39;sem&#39;</span><span class="p">:{</span><span class="s1">&#39;alignment&#39;</span><span class="p">:</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                     <span class="s1">&#39;traceback&#39;</span><span class="p">:</span><span class="kc">False</span><span class="p">}},</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">set_ats</span><span class="p">(</span><span class="n">path</span><span class="o">=</span> <span class="s1">&#39;/aPath/&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="n">versions</span><span class="o">=</span> <span class="s1">&#39;5.3.0&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="n">packages</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;aPackage&#39;</span><span class="p">,</span><span class="s1">&#39;1.0&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">start_jobexecution</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">start_testscript</span><span class="p">(</span><span class="n">logfilepath</span><span class="o">=</span><span class="s1">&#39;/tmp/logfile.log&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">start_commonsetup</span><span class="p">(</span><span class="n">logfilepath</span><span class="o">=</span><span class="s1">&#39;/tmp/logfile.log&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">stop_commonsetup</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">start_testcase</span> <span class="p">(</span><span class="n">tcid</span><span class="o">=</span><span class="s1">&#39;some_tc_id2&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                         <span class="n">logfilepath</span><span class="o">=</span><span class="s1">&#39;/tmp/logfile.log&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                         <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;starting our beautiful testcase2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;initinfo_name&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;description&#39;</span><span class="p">:</span><span class="s1">&#39;initinfo_description&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;fwversion&#39;</span><span class="p">:</span> <span class="s1">&#39;initinfo_fwversion&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;hwversion&#39;</span><span class="p">:</span> <span class="s1">&#39;initinfo_hwversion&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;swversion&#39;</span><span class="p">:</span> <span class="s1">&#39;initinfo_swversion&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;tstversion&#39;</span><span class="p">:</span> <span class="s1">&#39;initinfo_tstversion&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;interface&#39;</span><span class="p">:</span> <span class="s1">&#39;initinfo_interface&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;platform&#39;</span><span class="p">:</span><span class="s1">&#39;platform&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;pargs&#39;</span><span class="p">:</span><span class="s1">&#39;initinfo_pargs&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;uut&#39;</span><span class="p">:</span><span class="s1">&#39;initinfo_uut&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;logfile&#39;</span><span class="p">:{</span><span class="s1">&#39;begin&#39;</span><span class="p">:</span><span class="s1">&#39;55&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                   <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="s1">&#39;10&#39;</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;xref&#39;</span><span class="p">:{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span><span class="s1">&#39;/init/info/file&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="s1">&#39;lone&#39;</span><span class="p">:</span><span class="s1">&#39;30&#39;</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;id&#39;</span><span class="p">:{</span><span class="s1">&#39;variance&#39;</span><span class="p">:</span><span class="s1">&#39;id_variance&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="s1">&#39;testplan&#39;</span><span class="p">:</span><span class="s1">&#39;id_testplan&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="s1">&#39;tims&#39;</span><span class="p">:{</span><span class="s1">&#39;case&#39;</span><span class="p">:</span><span class="s1">&#39;tims_case&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                      <span class="s1">&#39;config&#39;</span><span class="p">:</span><span class="s1">&#39;tims_config&#39;</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">set_initinfo</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">set_result</span><span class="p">(</span><span class="n">result</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;mode&#39;</span><span class="p">:</span><span class="s1">&#39;override&#39;</span><span class="p">,</span><span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="s1">&#39;failed&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">add_userdef</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;aUserDefName&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="n">value</span><span class="o">=</span><span class="s1">&#39;aSuperValue&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">start_pretestcasehandler</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;apretestcasehandler&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">stop_pretestcasehandler</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">start_testsection</span><span class="p">(</span><span class="n">sectionid</span><span class="o">=</span><span class="s1">&#39;aTestcaseSection&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">logfilepath</span><span class="o">=</span><span class="s1">&#39;/tmp/logfile.log&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="n">xref</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span><span class="s1">&#39;/init/info/file&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                    <span class="s1">&#39;line&#39;</span><span class="p">:</span><span class="s1">&#39;30&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">add_checkpoint</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;aTestcaseaCheckpoint&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                        <span class="n">result</span><span class="o">=</span><span class="s1">&#39;Pass&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">add_checkpoint</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;aTestcaseCheckpoint2&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                        <span class="n">result</span><span class="o">=</span><span class="s1">&#39;Pass&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">stop_testsection</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Start a subtest</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">start_subtest</span><span class="p">(</span><span class="n">subtcid</span><span class="o">=</span><span class="s1">&#39;some_subtest_id&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="n">logfilepath</span><span class="o">=</span><span class="s1">&#39;/tmp/logfile.log&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="n">variance</span><span class="o">=</span><span class="s1">&#39;MyVariance&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="nb">id</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;aName&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                           <span class="s1">&#39;md5&#39;</span><span class="p">:</span><span class="s1">&#39;123123&#39;</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="n">name</span><span class="o">=</span><span class="s1">&#39;aName&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">stop_subtest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">stop_testcase</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">stop_testscript</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">start_testscript</span><span class="p">(</span><span class="n">logfilepath</span><span class="o">=</span><span class="s1">&#39;/tmp/logfile.log&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">stop_testscript</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">stop_jobexecution</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">stop_testsuite</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clt</span><span class="o">.</span><span class="n">generate_xml_reports</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;/tmp/&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">AERunner</span><span class="o">.</span><span class="n">terminate_server</span><span class="p">()</span>
</pre></div>
</div>
<p><em>Section author: Jean-Benoit Aubin &lt;<a class="reference external" href="mailto:jeaubin&#37;&#52;&#48;cisco&#46;com">jeaubin<span>&#64;</span>cisco<span>&#46;</span>com</a>&gt;,
Ahmad Barghout &lt;<a class="reference external" href="mailto:abarghou&#37;&#52;&#48;cisco&#46;com">abarghou<span>&#64;</span>cisco<span>&#46;</span>com</a>&gt;</em></p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Copyright (c) 2024, Cisco Systems Inc..
      <span class="lastupdated">Last updated on Dec 27, 2024.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>