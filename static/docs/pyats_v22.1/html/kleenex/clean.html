<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cleaning Model &mdash; pyATS Documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Connection Meta" href="../connections/index.html" />
    <link rel="prev" title="Input Files" href="inputs.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            pyATS
          </a>
              <div class="version">
                24.11
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Command Line Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Main Components</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../aetest/index.html">AEtest - Test Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../easypy/index.html">Easypy - Runtime Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topology/index.html">Testbed &amp; Topology Information</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Testbed &amp; Device Cleaning</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="usages.html">Usage &amp; Arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="inputs.html">Input Files</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Cleaning Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#clean-engine">Clean Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clean-classes">Clean Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clean-reporting">Clean Reporting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clean-steps">Clean Steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sample-implementation-without-steps">Sample Implementation Without Steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sample-implementation-with-steps">Sample Implementation With Steps</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../connections/index.html">Connection Meta</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supporting Components</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../async/index.html">Asynchronous Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datastructures/index.html">Datastructures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tcl/index.html">Tcl Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../log/index.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../results/index.html">Result Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporter/index.html">Reporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/index.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robot/index.html">RobotFramework Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manifest/index.html">Manifest</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../terminology.html">Terminologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/index.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/index.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Doc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../apidoc/index.html">API Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pyATS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Testbed &amp; Device Cleaning</a></li>
      <li class="breadcrumb-item active">Cleaning Model</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cleaning-model">
<span id="kleenex-cleaners"></span><h1>Cleaning Model<a class="headerlink" href="#cleaning-model" title="Permalink to this heading">¶</a></h1>
<p>The Kleenex clean model is fairly straight forward: a common, built-in internal
clean engine takes care of the common mundane infrastructure work, and the
individual clean classes selected by the clean file carry out the actual work.</p>
<p>Under this model, these clean classes are the actual work-horses. A clean class
is <strong>a device and/or platform family specific clean implementation</strong>, carrying
out whatever work is necessary to recover/initialize a device with new images
and set its configuration back to default (bare minimum).</p>
<p>The Kleenex module does not come with a built-in, universal clean
implementation. Rather, it features <code class="docutils literal notranslate"><span class="pre">BaseCleaner</span></code>: a base class template,
offering a set of standards, guidelines, rules &amp; tools for anyone to build on.</p>
<section id="clean-engine">
<h2>Clean Engine<a class="headerlink" href="#clean-engine" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>is an integral, non-changeable internal component to Kleenex</p></li>
<li><p>sets up runtime directory &amp; logfiles</p></li>
<li><p>loading and parsing <a class="reference internal" href="inputs.html#clean-file"><span class="std std-ref">Clean File</span></a> and testbed file (if necessary)</p></li>
<li><p>applying clean file content towards testbed device objects</p></li>
<li><p>error handling, email notification, etc.</p></li>
<li><p>running the corresponding clean on all testbed devices simultaenously
in parallel</p>
<ul>
<li><p>If <code class="docutils literal notranslate"><span class="pre">-pdb</span></code> is specified via the command line,</p>
<ul>
<li><p>devices are cleaned serially</p></li>
<li><p>if a cleaner throws an exception an interactive debugger is launched.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div></blockquote>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Pictorial View of Clean Engine
------------------------------

+--------------+
|  clean file  |---.             +-------------+
+--------------+    \   input    |             |
                     &gt;---------&gt; | CleanEngine |
+--------------+    /            |             |
| testbed file |---&#39;             +-------------+
+--------------+                        |
                                        |
                                        |  fork   +--------------------+
                                        |---------| cleaner: Cleaner-1 |
                                        |         | target : Device-1  |
                                        |         +--------------------+
                                        |
                                        |  fork   +--------------------+
                                        |---------| cleaner: Cleaner-2 |
                                        |         | target : Device-2  |
                                        |         +--------------------+
                                        |
                                        |  fork   +--------------------+
                                        |---------| cleaner: Cleaner-3 |
                                        |         | target : Device-3  |
                                        |         +--------------------+
                                        |
                                       etc...
</pre></div>
</div>
</section>
<section id="clean-classes">
<h2>Clean Classes<a class="headerlink" href="#clean-classes" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>clean classes are only responsible of handling/cleaning one device at a
time, performing what is necessary to do the act of “clean”</p></li>
<li><p>clean classes must inherit from the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseCleaner</span></code> class.</p></li>
<li><p>clean classes must implement at minimum, the <code class="docutils literal notranslate"><span class="pre">clean()</span></code> method. This is
the primary entry point to start cleaning a device. This method shall
accept a <a class="reference internal" href="../topology/concept.html#topology-device-object"><span class="std std-ref">Device object</span></a> as argument,
which instructs it which device to clean.</p></li>
<li><p>clean classes should only pull their required clean-related information
directly from the provided
<a class="reference internal" href="../topology/concept.html#topology-device-object"><span class="std std-ref">Device object’s</span></a>
<code class="docutils literal notranslate"><span class="pre">clean</span></code> attribute dictionary.</p></li>
<li><p>cleaners are allowed to modify <code class="docutils literal notranslate"><span class="pre">device.clean</span></code> with discovered
device metadata, which then appears in the user’s <a class="reference internal" href="../topology/concept.html#topology-objects"><span class="std std-ref">Testbed Object</span></a>
passed via the <a class="reference internal" href="../easypy/behavior.html#easypy-testbed"><span class="std std-ref">testbed</span></a> parameter.</p></li>
</ul>
</div></blockquote>
<p>When clean classes are referenced in the clean file (using <code class="docutils literal notranslate"><span class="pre">cleaners:</span></code> block),
they are instantiated using the key/values given under its definition block.
The engine then calls the <code class="docutils literal notranslate"><span class="pre">clean()</span></code> method of that class as entry-point to
start cleaning the corresponding device.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   a sample clean file (only showing the cleaners block)</span>

<span class="nt">cleaners</span><span class="p">:</span>
<span class="w">    </span><span class="nt">AwesomeClean</span><span class="p">:</span>
<span class="w">        </span><span class="nt">module</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mollymaid.cleaners</span>
<span class="w">        </span><span class="nt">devices</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">example-device</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
<span class="w">        </span><span class="nt">loglevel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">INFO</span>
<span class="w">        </span><span class="nt">retry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># -----------------------------------------------------</span>
<span class="c1"># how Kleenex engine internally invokes cleaner classes</span>
<span class="c1"># (pseudo code for demonstrating internals only)</span>

<span class="c1"># the class is imported first, based on its class name and module info</span>
<span class="kn">from</span> <span class="nn">mollymaid.cleaners</span> <span class="kn">import</span> <span class="n">AwesomeClean</span>

<span class="c1"># then the class is instantiated using kwargs from the clean file</span>
<span class="c1"># definition (devices/groups keys are ignored: they are consumed by the</span>
<span class="c1"># engine instead)</span>
<span class="n">cleaner</span> <span class="o">=</span> <span class="n">AwesomeClean</span><span class="p">(</span><span class="n">timeout</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
                       <span class="n">loglevel</span> <span class="o">=</span> <span class="s1">&#39;INFO&#39;</span><span class="p">,</span>
                       <span class="n">retry</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>

<span class="c1"># finally, assuming that the testbed is already loaded</span>
<span class="c1"># this clean class is invoked to do cleaning on that device</span>
<span class="n">cleaner</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="n">device</span> <span class="o">=</span> <span class="n">testbed</span><span class="o">.</span><span class="n">devices</span><span class="p">[</span><span class="s1">&#39;example-device&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>During runtime, the kleenex engine actually performs all cleaning in an
asynchronous manner: it forks one subprocess per device and cleans all
required devices in parallel. This is a framework-level runtime detail,
and is not reflected in the above pesudo-code.</p>
</div>
<p>In retrospect, cleaner classes have a very intuitive implementation front-end.
All the necessary bits and pieces are provided by the engine, and the user is
only focused on coding the steps required to get clean done.</p>
</section>
<section id="clean-reporting">
<h2>Clean Reporting<a class="headerlink" href="#clean-reporting" title="Permalink to this heading">¶</a></h2>
<p>The results of cleaning for each device is found inside of the
<code class="docutils literal notranslate"><span class="pre">results.json</span></code> file generated at the end of a pyats job or clean. Every device
is listed under the <code class="docutils literal notranslate"><span class="pre">KleenexPlugin</span></code> plugin in <code class="docutils literal notranslate"><span class="pre">Testsuite</span></code> / <code class="docutils literal notranslate"><span class="pre">Cleansuite</span></code> /
<code class="docutils literal notranslate"><span class="pre">Task</span></code> plugins depending on the clean scope. Each device will have a result of
<code class="docutils literal notranslate"><span class="pre">Passed</span></code> or <code class="docutils literal notranslate"><span class="pre">Failed</span></code> and the plugin will have a summary of the results for
all devices</p>
<p>The way a cleaner implementation indicates failure is by raising an exception
inside its <code class="docutils literal notranslate"><span class="pre">clean</span></code> API.</p>
</section>
<section id="clean-steps">
<h2>Clean Steps<a class="headerlink" href="#clean-steps" title="Permalink to this heading">¶</a></h2>
<aside class="sidebar">
<p class="sidebar-title">Helpful Reading</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3.8/reference/datamodel.html#context-managers">Context Manager</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3.8/reference/compound_stmts.html#the-with-statement">The with statement</a></p></li>
</ul>
</aside>
<p>Users may choose to slice a device clean into a series of steps that are
individually logged and included in the <code class="docutils literal notranslate"><span class="pre">CleanResultsDetails.yaml</span></code> report.</p>
<p>If a cleaner’s <code class="docutils literal notranslate"><span class="pre">clean</span></code> API optionally includes the reserved <code class="docutils literal notranslate"><span class="pre">steps</span></code>
parameter, a step may be created via the <code class="docutils literal notranslate"><span class="pre">steps.start</span></code> API and used as a
context manager.  Any exception raised while in the step’s context causes the
step to be marked as failed and the clean for the entire device to be marked
as failed in the report.</p>
</section>
<section id="sample-implementation-without-steps">
<h2>Sample Implementation Without Steps<a class="headerlink" href="#sample-implementation-without-steps" title="Permalink to this heading">¶</a></h2>
<p>The following is a pesudo-code implementation of a clean class. The idea is to
walk you through on the look &amp; feel of implementing your own cleaners.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   a pesudo-code example implementation of a cleaner class</span>

<span class="c1"># all clean implementations inherit from BaseCleaner</span>
<span class="k">class</span> <span class="nc">ExampleCleaner</span><span class="p">(</span><span class="n">BaseCleaner</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;BaseCleaner</span>

<span class="sd">    demonstrating the details of how cleaners are to be implemented</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg_1</span><span class="p">,</span> <span class="n">arg_2</span><span class="p">,</span> <span class="n">arg_3</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;__init__</span>

<span class="sd">        clean class constructor. All clean initialization arguments should</span>
<span class="sd">        be defined as arguments to this method (eg, arg_1, arg_2, arg_3)</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="c1"># always call the parent __init__()</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="c1"># everything else necessary... eg:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arg_1</span> <span class="o">=</span> <span class="n">arg_1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arg_2</span> <span class="o">=</span> <span class="n">arg_2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arg_3</span> <span class="o">=</span> <span class="n">arg_3</span>

    <span class="k">def</span> <span class="nf">clean</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">device</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;clean</span>

<span class="sd">        main entry point of this clean implementation, this method is called</span>
<span class="sd">        in a subprocess under kleenex runtime, specific to cleaning one</span>
<span class="sd">        particular device.</span>

<span class="sd">        A device object representing the device to clean is always provided.</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="c1"># connect to the device</span>
        <span class="n">device</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

        <span class="c1"># look up the details of how to clean this device, eg:</span>
        <span class="n">clean_info</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">clean</span>

        <span class="c1"># do the actual clean, eg, pseudo-code</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_imaginary_load_image_method</span><span class="p">(</span><span class="n">device</span> <span class="o">=</span> <span class="n">device</span><span class="p">,</span>
                                          <span class="n">images</span> <span class="o">=</span> <span class="n">clean_info</span><span class="p">[</span><span class="s1">&#39;images&#39;</span><span class="p">])</span>

        <span class="c1"># maybe reload the device?</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_imaginary_device_reload</span><span class="p">(</span><span class="n">device</span> <span class="o">=</span> <span class="n">device</span><span class="p">)</span>

        <span class="c1"># apply post-clean config?</span>
        <span class="n">device</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">clean_info</span><span class="p">[</span><span class="s1">&#39;post-clean&#39;</span><span class="p">])</span>

        <span class="c1"># we&#39;re done!</span>
        <span class="n">device</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="sample-implementation-with-steps">
<h2>Sample Implementation With Steps<a class="headerlink" href="#sample-implementation-with-steps" title="Permalink to this heading">¶</a></h2>
<p>The preceding clean class could also be implemented by specifying steps.
The steps are written into the <code class="docutils literal notranslate"><span class="pre">CleanResultsDetails.yaml</span></code> file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   a pesudo-code example implementation of a cleaner class</span>

<span class="c1"># all clean implementations inherit from BaseCleaner</span>
<span class="k">class</span> <span class="nc">ExampleCleanerWithSteps</span><span class="p">(</span><span class="n">ExampleCleaner</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;BaseCleaner</span>

<span class="sd">    demonstrating the use of steps in a cleaner implementation.</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">clean</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">device</span><span class="p">,</span> <span class="n">steps</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;clean</span>

<span class="sd">        main entry point of this clean implementation, this method is called</span>
<span class="sd">        in a subprocess under kleenex runtime, specific to cleaning one</span>
<span class="sd">        particular device.</span>

<span class="sd">        A device object representing the device to clean is always provided.</span>

<span class="sd">        A steps object is provided when the ``steps`` parameter is</span>
<span class="sd">        specified and may be used to define clean steps that are</span>
<span class="sd">        individually logged and tracked in the CleanResultsDetails.yaml</span>
<span class="sd">        clean report.</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="c1"># connect to the device</span>
        <span class="n">device</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

        <span class="c1"># look up the details of how to clean this device, eg:</span>
        <span class="n">clean_info</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">clean</span>

        <span class="k">with</span> <span class="n">steps</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="s1">&#39;Clean the device&#39;</span><span class="p">):</span>
            <span class="c1"># do the actual clean, eg, pseudo-code</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_imaginary_load_image_method</span><span class="p">(</span><span class="n">device</span> <span class="o">=</span> <span class="n">device</span><span class="p">,</span>
                                              <span class="n">images</span> <span class="o">=</span> <span class="n">clean_info</span><span class="p">[</span><span class="s1">&#39;images&#39;</span><span class="p">])</span>

        <span class="k">with</span> <span class="n">steps</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="s1">&#39;Reload the device&#39;</span><span class="p">):</span>
            <span class="c1"># maybe reload the device?</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_imaginary_device_reload</span><span class="p">(</span><span class="n">device</span> <span class="o">=</span> <span class="n">device</span><span class="p">)</span>

        <span class="k">with</span> <span class="n">steps</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="s1">&#39;Apply post-clean configuration&#39;</span><span class="p">):</span>
            <span class="c1"># apply post-clean config?</span>
            <span class="n">device</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">clean_info</span><span class="p">[</span><span class="s1">&#39;post-clean&#39;</span><span class="p">])</span>

        <span class="c1"># we&#39;re done!</span>
        <span class="n">device</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="inputs.html" class="btn btn-neutral float-left" title="Input Files" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../connections/index.html" class="btn btn-neutral float-right" title="Connection Meta" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Copyright (c) 2024, Cisco Systems Inc..
      <span class="lastupdated">Last updated on Dec 27, 2024.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>