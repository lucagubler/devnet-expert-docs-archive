<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Introduction &mdash; pyATS Documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tcl &amp; Interpreter" href="tcl.html" />
    <link rel="prev" title="Tcl Integration" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            pyATS
          </a>
              <div class="version">
                24.11
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Command Line Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Main Components</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../aetest/index.html">AEtest - Test Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../easypy/index.html">Easypy - Runtime Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topology/index.html">Testbed &amp; Topology Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kleenex/index.html">Testbed &amp; Device Cleaning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connections/index.html">Connection Meta</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supporting Components</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../async/index.html">Asynchronous Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datastructures/index.html">Datastructures</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Tcl Integration</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tcl-enhanced">Tcl Enhanced</a></li>
<li class="toctree-l3"><a class="reference internal" href="#requirements">Requirements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tcl.html">Tcl &amp; Interpreter</a></li>
<li class="toctree-l2"><a class="reference internal" href="variables.html">Variables &amp; Typecasting</a></li>
<li class="toctree-l2"><a class="reference internal" href="datastructures.html">Custom Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="q.html">Q</a></li>
<li class="toctree-l2"><a class="reference internal" href="history.html">Interpreter History</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../log/index.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../results/index.html">Result Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporter/index.html">Reporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/index.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robot/index.html">RobotFramework Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manifest/index.html">Manifest</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../terminology.html">Terminologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/index.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/index.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Doc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../apidoc/index.html">API Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pyATS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Tcl Integration</a></li>
      <li class="breadcrumb-item active">Introduction</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h1>
<p>Did you know that Python is natively compatible with Tcl?</p>
<p>As a matter of fact, Tk is the de-facto language used for Python GUI front-ends:
for example, IDLE is entirely written using Tk calls from within Python.</p>
<p>The native Python module that enables Tcl integration is called <code class="docutils literal notranslate"><span class="pre">tkinter</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># import the Tcl object</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">Tcl</span>

<span class="c1"># create a new Tcl interpreter</span>
<span class="n">tcl</span> <span class="o">=</span> <span class="n">Tcl</span><span class="p">()</span>

<span class="c1"># example Tcl calls</span>
<span class="n">tcl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;set myTclVariable {</span><span class="si">%s</span><span class="s1">}&#39;</span> <span class="o">%</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>This module effectively enables you to make Tcl calls in the current Python
process, and is 100% embedded: there’s no child Tcl process; the actual Tcl
interpreter is embedded within the current Python process, and the <code class="docutils literal notranslate"><span class="pre">pid</span></code> of
both Python and Tcl is the same.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>making Tcl calls within Python is in effect, passing a string (<code class="docutils literal notranslate"><span class="pre">str</span></code>)
object to the <code class="docutils literal notranslate"><span class="pre">eval</span></code> attribute of Tcl instance object. Therefore string
operations (such as substitution) is perfectly supported/legal.</p>
</div>
<p>However, the raw functionality provided by this module is rather crude. Crude
in the sense that whilst it does provides the basic fundamental infrastructure,
allowing users to practically make any and all calls to Tcl (including loading
other packages), it does not provide an additional layer on top of the Tcl
language to make it more user friendly. Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">Tcl</span>

<span class="n">tcl</span> <span class="o">=</span> <span class="n">Tcl</span><span class="p">()</span>

<span class="c1"># load up Tclx</span>
<span class="n">tcl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;package require Tclx&#39;</span><span class="p">)</span>

<span class="c1"># create a keyed list</span>
<span class="n">tcl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;keylset myKlist key_a value_a key_b value_b&#39;</span><span class="p">)</span>

<span class="c1"># wouldn&#39;t it be nice to be able to cast the tcl keyed list to a python</span>
<span class="c1"># object, instead of having to do this?</span>
<span class="n">key_a_value</span> <span class="o">=</span> <span class="n">tcl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;keylget myKlist key_a&#39;</span><span class="p">)</span>
<span class="n">key_b_value</span> <span class="o">=</span> <span class="n">tcl</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;keylget myKlist key_b&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Documentation to <code class="docutils literal notranslate"><span class="pre">tkinter</span></code> can be found at:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://wiki.python.org/moin/TkInter">https://wiki.python.org/moin/TkInter</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3.4/library/tkinter.html">https://docs.python.org/3.4/library/tkinter.html</a></p></li>
</ul>
<section id="tcl-enhanced">
<h2>Tcl Enhanced<a class="headerlink" href="#tcl-enhanced" title="Permalink to this heading">¶</a></h2>
<p>Part of pyATS goal is to enable the testing community to leverage existing
Tcl-based scripts and libraries. In order to make the integration easier, the
<code class="docutils literal notranslate"><span class="pre">tcl</span></code> module was created to extend the native Python-Tcl interaction:</p>
<ul class="simple">
<li><p><strong>Interpreter class:</strong> extends the native Tcl interpreter by providing access
to ATS-tree packages &amp; libraries.</p></li>
<li><p><strong>Two-Way Typecasting:</strong> APIs and Python classes, enabling typecasting Tcl
variables to its appropriate Python objects and back. Including but not
limited to: <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">string</span></code>, <code class="docutils literal notranslate"><span class="pre">array</span></code>, <code class="docutils literal notranslate"><span class="pre">keyed</span> <span class="pre">lists</span></code> etc.</p></li>
<li><p><strong>Call history:</strong> maintaining a historical record of Tcl API calls for
debugging purposes.</p></li>
<li><p><strong>Callbacks:</strong> callbacks from Tcl to Python code, enabling closer coupling</p></li>
<li><p><strong>Dictionary Access:</strong> accessing Tcl variables as if accessing a python
dictionary.</p></li>
<li><p><strong>Magic Q Calls:</strong> calling Tcl APIs as if calling a python object method, with
support for Python <code class="docutils literal notranslate"><span class="pre">*args</span></code> and <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> mapping to Tcl positional and
dashed arguments.</p></li>
</ul>
</section>
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading">¶</a></h2>
<p>The following is required for this module to function:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tkinter</span></code> module compiled and working</p></li>
</ol>
<p>When Python is first compiled, it looks up the current environment to determine
what modules can be compiled &amp; linked, and what is missing. This information
is printed out at the end of <code class="docutils literal notranslate"><span class="pre">make</span></code>.</p>
<p>The base Python <code class="docutils literal notranslate"><span class="pre">tkinter</span></code> module is compiled only when Python detects the
presence of Tcl header files, and can link the compiled module against Tcl
<code class="docutils literal notranslate"><span class="pre">*.so</span></code> files. This is step automatically done if you are using the
<code class="docutils literal notranslate"><span class="pre">build_python</span></code> script supplied with pyATS installation. You can verify
whether <code class="docutils literal notranslate"><span class="pre">tkinter</span></code> was compiled and linked properly in Python by importing the
module and trying to create an interpreter instance as shown in introduction
above.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Tcl Integration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tcl.html" class="btn btn-neutral float-right" title="Tcl &amp; Interpreter" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Copyright (c) 2024, Cisco Systems Inc..
      <span class="lastupdated">Last updated on Dec 27, 2024.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>