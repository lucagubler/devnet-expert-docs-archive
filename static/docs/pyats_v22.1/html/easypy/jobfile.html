<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jobfile &amp; Tasks &mdash; pyATS Documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using Easypy" href="usages.html" />
    <link rel="prev" title="Introduction" href="introduction.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            pyATS
          </a>
              <div class="version">
                24.11
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Command Line Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Main Components</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../aetest/index.html">AEtest - Test Infrastructure</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Easypy - Runtime Environment</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Jobfile &amp; Tasks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#jobfiles">Jobfiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tasks">Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-api">run() API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#task-class">Task Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#log-levels">Log Levels</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shared-states">Shared States</a></li>
<li class="toctree-l3"><a class="reference internal" href="#custom-arguments">Custom Arguments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="usages.html">Using Easypy</a></li>
<li class="toctree-l2"><a class="reference internal" href="behavior.html">Behavior &amp; Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="email.html">Email Notification</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins.html">Plugin System</a></li>
<li class="toctree-l2"><a class="reference internal" href="rerun.html">Automatic Reruns</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../topology/index.html">Testbed &amp; Topology Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kleenex/index.html">Testbed &amp; Device Cleaning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connections/index.html">Connection Meta</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Supporting Components</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../async/index.html">Asynchronous Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datastructures/index.html">Datastructures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tcl/index.html">Tcl Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../log/index.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../results/index.html">Result Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporter/index.html">Reporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/index.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robot/index.html">RobotFramework Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manifest/index.html">Manifest</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../terminology.html">Terminologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/index.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/index.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Doc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../apidoc/index.html">API Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pyATS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Easypy - Runtime Environment</a></li>
      <li class="breadcrumb-item active">Jobfile &amp; Tasks</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="jobfile-tasks">
<h1>Jobfile &amp; Tasks<a class="headerlink" href="#jobfile-tasks" title="Permalink to this heading">¶</a></h1>
<p>In pyATS, the aggregation of multiple testscripts together and executed within
the same runtime environment is called a <strong>job</strong>.</p>
<p>The concept of Easypy revolves heavily around the execution of such <strong>jobs</strong>.
Each <strong>job</strong> corresponds to a <code class="docutils literal notranslate"><span class="pre">jobfile</span></code>: a standard python file containing the
<em>instructions</em> of which testscripts to run, and <em>how</em> to run them.</p>
<p>During runtime, these testscripts are launched as <strong>tasks</strong> and executed through
a test harness (eg, <code class="docutils literal notranslate"><span class="pre">aetest</span></code>). Each <strong>task</strong> is always encapsulated in its own
child process. The combined <strong>tasks</strong> in the same jobfile always share the same
system resources, such as testbeds, devices and their connections.</p>
<section id="jobfiles">
<span id="easypy-jobfile"></span><h2>Jobfiles<a class="headerlink" href="#jobfiles" title="Permalink to this heading">¶</a></h2>
<p>Jobfiles are the bread and butter of Easypy. It allows aggregation of multiple
testscripts to run under the same environment as tasks, sharing testbeds, and
archiving their logs and results together. It is an excellent method to batch
and/or consolidate similar testscripts together into relevant result summaries.</p>
<p>Jobfiles are required to satisfy the following criterion:</p>
<blockquote>
<div><ul class="simple">
<li><p>each job file must have a <code class="docutils literal notranslate"><span class="pre">main()</span></code> function defined. This is the main
entry point of a job file run.</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">main()</span></code> function accepts an argument called <code class="docutils literal notranslate"><span class="pre">runtime</span></code>. When
defined, the engine automatically passes the current <a class="reference internal" href="behavior.html#easypy-runtime"><span class="std std-ref">runtime</span></a>
object in.</p></li>
<li><p>inside the <code class="docutils literal notranslate"><span class="pre">main()</span></code> function, use <code class="docutils literal notranslate"><span class="pre">easypy.run()</span></code> or <code class="docutils literal notranslate"><span class="pre">easypy.Task()</span></code>
to define and run individual testscripts as <a class="reference internal" href="#easypy-tasks"><span class="std std-ref">Tasks</span></a>.</p></li>
<li><p>the name of the job file, minus the <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension, becomes this job’s
reporting name. This can be modified by setting <code class="docutils literal notranslate"><span class="pre">runtime.job.name</span></code>
attribute.</p></li>
</ul>
</div></blockquote>
<p>Jobfiles are provided as the only mandatory argument to the <code class="docutils literal notranslate"><span class="pre">easypy</span></code> launcher.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   a simple, sequential job file</span>

<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">pyats.easypy</span> <span class="kn">import</span> <span class="n">run</span>

<span class="c1"># main() function must be defined in each job file</span>
<span class="c1">#   - it should have a runtime argument</span>
<span class="c1">#   - and contains one or more tasks</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">runtime</span><span class="p">):</span>

    <span class="c1"># provide custom job name for reporting purposes (optional)</span>
    <span class="n">runtime</span><span class="o">.</span><span class="n">job</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;my-job-overwrite-name&#39;</span>

    <span class="c1"># using run() api to run a task</span>
    <span class="c1">#</span>
    <span class="c1"># syntax</span>
    <span class="c1"># ------</span>
    <span class="c1">#   run(testscript = &lt;testscript path/file&gt;,</span>
    <span class="c1">#       runtime = &lt;runtime object&gt;,</span>
    <span class="c1">#       max_runtime = None,</span>
    <span class="c1">#       taskid = None,</span>
    <span class="c1">#       **kwargs)</span>
    <span class="c1">#</span>
    <span class="c1">#   any additional arguments (**kwargs) to run() api are propagated</span>
    <span class="c1">#*  to AEtest as input arguments.</span>
    <span class="n">run</span><span class="p">(</span><span class="n">testscript</span> <span class="o">=</span> <span class="s1">&#39;script_one.py&#39;</span><span class="p">,</span> <span class="n">runtime</span> <span class="o">=</span> <span class="n">runtime</span><span class="p">)</span>

    <span class="c1"># each job may contain one or more tasks.</span>
    <span class="c1"># tasks defined using run() api always run sequentially.</span>
    <span class="n">run</span><span class="p">(</span><span class="n">testscript</span> <span class="o">=</span> <span class="s1">&#39;script_two.py&#39;</span><span class="p">,</span> <span class="n">runtime</span> <span class="o">=</span> <span class="n">runtime</span><span class="p">)</span>

    <span class="c1"># access runtime information, such as runtime directory</span>
    <span class="c1"># eg, save a new file into runtime directory</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">runtime</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="s1">&#39;my_file.txt&#39;</span><span class="p">))</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;some content&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In essence, the jobfile is just a python program file, with <code class="docutils literal notranslate"><span class="pre">main()</span></code> defined
as the mandatory point of entry for all tasks’ execution. As it is a program
file, it allows the user to write code that processes environment variables into
testscript inputs and processes any additional script arguments following
the <a class="reference internal" href="usages.html#easypy-argument-propagation"><span class="std std-ref">argument propagation scheme</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   job file with environment variable processing</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">pyats.easypy</span> <span class="kn">import</span> <span class="n">run</span>

<span class="c1"># using this file&#39;s path to compute the relative location of script file</span>
<span class="c1"># and collecting some arguments from environment variables</span>
<span class="n">here</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
<span class="n">argA</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;SCRIPT_ARG_A&#39;</span><span class="p">,</span> <span class="s1">&#39;argument value a&#39;</span><span class="p">)</span>
<span class="n">argB</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;SCRIPT_ARG_B&#39;</span><span class="p">,</span> <span class="s1">&#39;argument value b&#39;</span><span class="p">)</span>

<span class="c1"># entry point</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">runtime</span><span class="p">):</span>

    <span class="c1"># relative script path/file based on this file&#39;s location</span>
    <span class="n">run</span><span class="p">(</span><span class="n">testscript</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="s1">&#39;to&#39;</span><span class="p">,</span> <span class="s1">&#39;script_one.py&#39;</span><span class="p">),</span>
        <span class="n">runtime</span> <span class="o">=</span> <span class="n">runtime</span><span class="p">)</span>


    <span class="c1"># passing script arguments collected from environment variable</span>
    <span class="n">run</span><span class="p">(</span><span class="n">testscript</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="s1">&#39;to&#39;</span><span class="p">,</span> <span class="s1">&#39;script_two.py&#39;</span><span class="p">),</span>
        <span class="n">runtime</span> <span class="o">=</span> <span class="n">runtime</span><span class="p">,</span>
        <span class="n">argument_A</span> <span class="o">=</span> <span class="n">argA</span><span class="p">,</span>
        <span class="n">argument_B</span> <span class="o">=</span> <span class="n">argB</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>an exception will be thrown if your job file is empty or does not
contain a <code class="docutils literal notranslate"><span class="pre">main()</span></code> definition.</p>
</div>
</section>
<section id="tasks">
<span id="easypy-tasks"></span><h2>Tasks<a class="headerlink" href="#tasks" title="Permalink to this heading">¶</a></h2>
<p>An Easypy <strong>task</strong> is essentially a testscript being executed by a test-harness
like <code class="docutils literal notranslate"><span class="pre">aetest</span></code> in a child process. They exhibit the following properties:</p>
<blockquote>
<div><ul class="simple">
<li><p>each task is encapsulated in its own child process, forked from main
easypy program.</p></li>
<li><p>each task contains a single <a class="reference internal" href="../log/concept.html#tasklog"><span class="std std-ref">TaskLog</span></a> where all messages are logged
to.</p></li>
<li><p>all tasks report to their results via <a class="reference internal" href="../reporter/index.html#reporter"><span class="std std-ref">Reporter</span></a>.</p></li>
<li><p>the rolled up script result of each task is returned to the caller.</p></li>
</ul>
</div></blockquote>
<p>Tasks are created inside a jobfile’s <code class="docutils literal notranslate"><span class="pre">main()</span></code> function by either calling the
shortcut <a class="reference internal" href="#easypy-run-api"><span class="std std-ref">run() API</span></a> or by creating your own task objects using the
<a class="reference internal" href="#easypy-task-class"><span class="std std-ref">Task Class</span></a>.</p>
<p>Tasks may be run <em>sequentially</em> (in series), or <em>asynchronously</em> (in parallel).
This control is left entirely to the hands of the user. Each task is associated
with a unique task id, and can be controlled in the same fashion as all other
python processes.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>when a task is running, its Linux process name shows up as <code class="docutils literal notranslate"><span class="pre">easypy</span> <span class="pre">task:</span>
<span class="pre">&lt;taskid&gt;</span> <span class="pre">-</span> <span class="pre">&lt;testscript&gt;</span></code></p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>even if tasks are run sequentially, it is still possible for a prior task
to crash and leave the testbed in a dangling state, causing the next task
to fail.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>keep in mind that even though tasks may be run in parallel, they are still
sharing the same testbed and devices under-test. Users are expected to be
aware of the requirements of each task (testscript), and avoid all race
conditions between parallel-running tasks.</p>
</div>
</section>
<section id="run-api">
<span id="easypy-run-api"></span><h2>run() API<a class="headerlink" href="#run-api" title="Permalink to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">run()</span></code> api is a shortcut to <a class="reference internal" href="#easypy-task-class"><span class="std std-ref">Task Class</span></a> for running tasks in
a sequential (serial) fashion. It helps the user to avoid boilerplate code that
handles <code class="docutils literal notranslate"><span class="pre">Task</span></code> class overheads, and always performs the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>create &amp; start a <code class="docutils literal notranslate"><span class="pre">Task()</span></code> with the given arguments</p></li>
<li><p>wait for it to finish (optionally, safeguard against runaway situations
with <code class="docutils literal notranslate"><span class="pre">max_runtime</span></code>)</p></li>
<li><p>return the task’s result back to the caller.</p></li>
</ul>
</div></blockquote>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">run() Function Arguments</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">testscript</span></code></p></td>
<td><p>testscript to be run in this task</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">taskid</span></code></p></td>
<td><p>unique task id (defaults to <code class="docutils literal notranslate"><span class="pre">Task-#</span></code> where # is an
incrementing number)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">max_runtime</span></code></p></td>
<td><p>maximum tax runtime in seconds before termination</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">runtime</span></code></p></td>
<td><p>easypy runtime object</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">kwargs</span></code></p></td>
<td><p>any other keyword-arguments to be passed to the testscript
as script parameters</p></td>
</tr>
</tbody>
</table>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   job file run() api example</span>

<span class="kn">from</span> <span class="nn">pyats.easypy</span> <span class="kn">import</span> <span class="n">run</span>

<span class="c1"># main() function</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">runtime</span><span class="p">):</span>

    <span class="c1"># using run() api to run a task, save the result to variable</span>
    <span class="c1"># (max runtime = 60*5 seconds = 5 minutes)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">run</span><span class="p">(</span><span class="n">testscript</span> <span class="o">=</span> <span class="s1">&#39;script_one.py&#39;</span><span class="p">,</span>
                 <span class="n">runtime</span> <span class="o">=</span> <span class="n">runtime</span><span class="p">,</span>
                 <span class="n">taskid</span> <span class="o">=</span> <span class="s1">&#39;example_task_1&#39;</span><span class="p">,</span>
                 <span class="n">max_runtime</span> <span class="o">=</span> <span class="mi">60</span><span class="o">*</span><span class="mi">5</span><span class="p">)</span>

    <span class="c1"># check whether the next script should continue</span>
    <span class="c1"># based on previous task&#39;s results.</span>
    <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
        <span class="c1"># last result passed, run the next task</span>
        <span class="n">run</span><span class="p">(</span><span class="n">testscript</span> <span class="o">=</span> <span class="s1">&#39;script_two.py&#39;</span><span class="p">,</span>
            <span class="n">runtime</span> <span class="o">=</span> <span class="n">runtime</span><span class="p">,</span>
            <span class="n">taskid</span> <span class="o">=</span> <span class="s1">&#39;example_task_1&#39;</span><span class="p">,</span>
            <span class="n">max_runtime</span> <span class="o">=</span> <span class="mi">60</span><span class="o">*</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>all forward slash <code class="docutils literal notranslate"><span class="pre">/</span></code> found in the <code class="docutils literal notranslate"><span class="pre">taskid</span></code> are replaced with an
underscore <code class="docutils literal notranslate"><span class="pre">_</span></code>.</p>
</div>
</section>
<section id="task-class">
<span id="easypy-task-class"></span><h2>Task Class<a class="headerlink" href="#task-class" title="Permalink to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Task</span></code> class objects represent the task/testscript being executed in a child
process. It is a subclass of Python <code class="docutils literal notranslate"><span class="pre">multiprocessing.Process</span></code> class, and
always uses <code class="docutils literal notranslate"><span class="pre">multiproessing.get_context('fork')</span></code> to fork and create child
processes.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Task Class Arguments</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">testscript</span></code></p></td>
<td><p>testscript to be run in this task</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">taskid</span></code></p></td>
<td><p>unique task id (defaults to <code class="docutils literal notranslate"><span class="pre">Task-#</span></code> where # is an
incrementing number)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">runtime</span></code></p></td>
<td><p>easypy runtime object</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">kwargs</span></code></p></td>
<td><p>any other keyword-arguments to be passed to the testscript
as script parameters</p></td>
</tr>
</tbody>
</table>
<p>Like its parent <code class="docutils literal notranslate"><span class="pre">Process</span></code> class, instantiating a <code class="docutils literal notranslate"><span class="pre">Task</span></code> object does not
create the actual child process: the class constructor only sets internal states
and pipes, preparing for a process fork. The task is started only when its
<code class="docutils literal notranslate"><span class="pre">start()</span></code> method is called to start the child process’s activity.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   job file tasks using Task() api (sequential execution)</span>
<span class="c1">#   (recreating the same job file as run() api example using Task class)</span>

<span class="kn">from</span> <span class="nn">pyats.easypy</span> <span class="kn">import</span> <span class="n">Task</span>

<span class="c1"># main() function</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">runtime</span><span class="p">):</span>

    <span class="c1"># using Task class to create a task object</span>
    <span class="c1"># (max runtime = 60*5 seconds = 5 minutes)</span>
    <span class="n">task_1</span> <span class="o">=</span> <span class="n">Task</span><span class="p">(</span><span class="n">testscript</span> <span class="o">=</span> <span class="s1">&#39;script_one.py&#39;</span><span class="p">,</span>
                  <span class="n">runtime</span> <span class="o">=</span> <span class="n">runtime</span><span class="p">,</span>
                  <span class="n">taskid</span> <span class="o">=</span> <span class="s1">&#39;example_task_1&#39;</span><span class="p">)</span>

    <span class="c1"># start the task</span>
    <span class="n">task_1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="c1"># wait for a max runtime of 60*5 seconds = 5 minutes</span>
    <span class="n">task_1</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="mi">60</span><span class="o">*</span><span class="mi">5</span><span class="p">)</span>

    <span class="c1"># check whether the next script should continue</span>
    <span class="c1"># based on previous task&#39;s results.</span>
    <span class="k">if</span> <span class="n">task_1</span><span class="o">.</span><span class="n">result</span><span class="p">:</span>
        <span class="c1"># last result passed, run the next task</span>
        <span class="n">task_2</span> <span class="o">=</span> <span class="n">Task</span><span class="p">(</span><span class="n">testscript</span> <span class="o">=</span> <span class="s1">&#39;script_two.py&#39;</span><span class="p">,</span>
                      <span class="n">runtime</span> <span class="o">=</span> <span class="n">runtime</span><span class="p">,</span>
                      <span class="n">taskid</span> <span class="o">=</span> <span class="s1">&#39;example_task_1&#39;</span><span class="p">)</span>

        <span class="c1"># start &amp; wait</span>
        <span class="n">task_2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="n">task_2</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="mi">60</span><span class="o">*</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>The main advantage of using <code class="docutils literal notranslate"><span class="pre">Task</span></code> class directly is the ability to run tasks
asynchronously (in parallel), and an added level of more granular controls over
each task process.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   job file tasks using Task() api (asynchronous execution)</span>

<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">from</span> <span class="nn">pyats.easypy</span> <span class="kn">import</span> <span class="n">Task</span>

<span class="c1"># main() function</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">runtime</span><span class="p">):</span>

    <span class="c1"># using Task class to create a two tasks</span>
    <span class="c1"># (max runtime = 60*5 seconds = 5 minutes)</span>
    <span class="n">task_1</span> <span class="o">=</span> <span class="n">Task</span><span class="p">(</span><span class="n">testscript</span> <span class="o">=</span> <span class="s1">&#39;script_one.py&#39;</span><span class="p">,</span>
                  <span class="n">runtime</span> <span class="o">=</span> <span class="n">runtime</span><span class="p">,</span>
                  <span class="n">taskid</span> <span class="o">=</span> <span class="s1">&#39;example_task_1&#39;</span><span class="p">)</span>

    <span class="n">task_2</span> <span class="o">=</span> <span class="n">Task</span><span class="p">(</span><span class="n">testscript</span> <span class="o">=</span> <span class="s1">&#39;script_two.py&#39;</span><span class="p">,</span>
                  <span class="n">runtime</span> <span class="o">=</span> <span class="n">runtime</span><span class="p">,</span>
                  <span class="n">taskid</span> <span class="o">=</span> <span class="s1">&#39;example_task_1&#39;</span><span class="p">)</span>

    <span class="c1"># start both tasks simultaneously</span>
    <span class="n">task_1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">task_2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="c1"># poll for tasks to finish (max of 5minutes)</span>
    <span class="n">counter</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>

    <span class="k">while</span> <span class="n">counter</span><span class="p">:</span>
        <span class="c1"># check if processes are alive, if so, continue to wait</span>
        <span class="k">if</span> <span class="n">task_1</span><span class="o">.</span><span class="n">is_alive</span><span class="p">()</span> <span class="ow">or</span> <span class="n">task_2</span><span class="o">.</span><span class="n">is_alive</span><span class="p">():</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">counter</span> <span class="o">-=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># all is good</span>
            <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># exceeded runtime</span>
        <span class="n">task_1</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>
        <span class="n">task_1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
        <span class="n">task_2</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>
        <span class="n">task_2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

        <span class="c1"># raise exception</span>
        <span class="k">raise</span> <span class="ne">TimeoutError</span><span class="p">(</span><span class="s1">&#39;Not all tasks finished in 5 minutes!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Easypy expects all tasks to be finished/terminated when <code class="docutils literal notranslate"><span class="pre">main()</span></code> scope is
exited (eg, the jobfile finished execution). Therefore, all tasks created and
started using <code class="docutils literal notranslate"><span class="pre">Task</span></code> class should always be waited for using <code class="docutils literal notranslate"><span class="pre">wait()</span></code>, and
properly handled/terminated by the user.</p>
<p>If  <code class="docutils literal notranslate"><span class="pre">wait()</span></code> is not called and/or there are tasks left dangling after exiting
<code class="docutils literal notranslate"><span class="pre">main()</span></code> function scope, they are abruptly terminated, and reported to the
user in the report email as an exception/error.</p>
<p><code class="docutils literal notranslate"><span class="pre">Task</span></code> objects have the following methods &amp; properties:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">taskid</span></code>, <code class="docutils literal notranslate"><span class="pre">name</span></code></dt><dd><p>the task’s unique task id (also the same as its process name)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kwargs</span></code></dt><dd><p>the keyword arguments provided to this <code class="docutils literal notranslate"><span class="pre">Task</span></code>. This is typically the
testscript’s script arguments/parameters.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">result</span></code></dt><dd><p>the task’s result (eg, the testscript’s overall result). This is
<code class="docutils literal notranslate"><span class="pre">None</span></code> when the task has not yet terminated.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pid</span></code></dt><dd><p>the task process’s process id. This is set to <code class="docutils literal notranslate"><span class="pre">None</span></code> when the task
has not yet started.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">start()</span></code></dt><dd><p>starts the task process. This is when the actual process fork occurs, and
can only be called once per task.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">join([timeout])</span></code></dt><dd><p>if the optional argument <code class="docutils literal notranslate"><span class="pre">timeout</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> (the default), this method
blocks until the task terminates. If <code class="docutils literal notranslate"><span class="pre">timeout</span></code> is a positive number, it
blocks at most <code class="docutils literal notranslate"><span class="pre">timeout</span></code> seconds.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wait([max_runtime])</span></code></dt><dd><p>if the optional argument <code class="docutils literal notranslate"><span class="pre">max_runtime</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> (the default), this
method blocks until the task terminates. If <code class="docutils literal notranslate"><span class="pre">max_runtime</span></code> is a positive
number, it blocks at most <code class="docutils literal notranslate"><span class="pre">max_runtime</span></code> seconds. If the task has not
finished/terminated by <code class="docutils literal notranslate"><span class="pre">max_runtime</span></code>, it is automatically terminated,
and a <code class="docutils literal notranslate"><span class="pre">TimeoutError</span></code> is raised.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">is_alive()</span></code></dt><dd><p>returns whether the task is still alive.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">terminate()</span></code></dt><dd><p>terminates the task process by sending <code class="docutils literal notranslate"><span class="pre">SIGTERM</span></code> signal to it. This
abruptly stops the process without running exit handlers, finally clauses,
etc, and may leave your test environment in a dangling state.</p>
</dd>
</dl>
</section>
<section id="log-levels">
<h2>Log Levels<a class="headerlink" href="#log-levels" title="Permalink to this heading">¶</a></h2>
<p>Jobfiles are the perfect location to configure log levels for your testscripts
and libraries. To do so, import the <code class="docutils literal notranslate"><span class="pre">logging</span></code> module and set your desired log
levels for each of your modules and libraries.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>the default <a class="reference internal" href="../log/concept.html#tasklog"><span class="std std-ref">TaskLog</span></a> logging level is <code class="docutils literal notranslate"><span class="pre">logging.INFO</span></code>.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   controlling log levels from job file</span>

<span class="kn">from</span> <span class="nn">pyats.easypy</span> <span class="kn">import</span> <span class="n">run</span>

<span class="c1"># import logging module</span>
<span class="kn">import</span> <span class="nn">logging</span>

<span class="c1"># relative script path based on pyats root.</span>
<span class="n">prefix</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">prefix</span>

<span class="c1"># main block</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">runtime</span><span class="p">):</span>

    <span class="c1"># set logging levels for various modules</span>
    <span class="c1"># eg, setting aetest log level to INFO</span>
    <span class="c1"># and setting &#39;mylibrary&#39; to DEBUG</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;pyats.aetest&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="s1">&#39;INFO&#39;</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;mylibrary&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="s1">&#39;DEBUG&#39;</span><span class="p">)</span>
    <span class="c1"># if you set the root logger&#39;s log level, then it affects all</span>
    <span class="c1"># loggers as per rules of logger parent-child relationship</span>
    <span class="c1"># eg, turning on DEBUG for all loggers.</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="s1">&#39;DEBUG&#39;</span><span class="p">)</span>

    <span class="c1"># you can now provide those new values to your pyATS script.</span>
    <span class="n">run</span><span class="p">(</span><span class="n">testscript</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="s1">&#39;to&#39;</span><span class="p">,</span> <span class="s1">&#39;script_two.py&#39;</span><span class="p">),</span>
        <span class="n">runtime</span> <span class="o">=</span> <span class="n">runtime</span><span class="p">)</span>
</pre></div>
</div>
<p>Refer to <a class="reference external" href="https://docs.python.org/3.4/library/logging.html">Python Logging</a> for details of how loggers work.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>the name of each logger needs to correspond to their absolute module name.
This is inline with our requirement for each module logger to be created
using <code class="docutils literal notranslate"><span class="pre">__name__</span></code> as its name.</p>
</div>
</section>
<section id="shared-states">
<h2>Shared States<a class="headerlink" href="#shared-states" title="Permalink to this heading">¶</a></h2>
<p>As all <a class="reference internal" href="#easypy-tasks"><span class="std std-ref">Tasks</span></a> are encapsulated in its own child process, sharing
information between tasks can be done via the use of shared memory, eg: using
<a class="reference external" href="https://docs.python.org/3.4/library/multiprocessing.html#pipes-and-queues">Pipes and Queues</a>, <a class="reference external" href="https://docs.python.org/3.4/library/multiprocessing.html#shared-ctypes-objects">Shared ctypes Objects</a> or <a class="reference external" href="https://docs.python.org/3.4/library/multiprocessing.html#sharing-state-between-processes">Server Processes</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   passing information back from a task to the jobfile</span>
<span class="c1">#   (using runtime.synchro to create shared dict/list objects)</span>

<span class="kn">from</span> <span class="nn">pyats.easypy</span> <span class="kn">import</span> <span class="n">run</span>

<span class="c1"># main() function</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">runtime</span><span class="p">):</span>

    <span class="c1"># runtime provides a multiprocessing manager instance</span>
    <span class="c1"># called runtime.synchro</span>

    <span class="c1"># create two shared objects: a dictionary and a list</span>
    <span class="n">shared_dict</span> <span class="o">=</span> <span class="n">runtime</span><span class="o">.</span><span class="n">synchro</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
    <span class="n">shared_list</span> <span class="o">=</span> <span class="n">runtime</span><span class="o">.</span><span class="n">synchro</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>

    <span class="c1"># run the task, and pass the shared objects in as parameters</span>
    <span class="c1"># if the testscript updates the shared objects, their values</span>
    <span class="c1"># are also synchronized to this jobfile level</span>
    <span class="n">run</span><span class="p">(</span><span class="n">testscript</span> <span class="o">=</span> <span class="s1">&#39;script_one.py&#39;</span><span class="p">,</span>
        <span class="n">runtime</span> <span class="o">=</span> <span class="n">runtime</span><span class="p">,</span>
        <span class="n">shared_dict</span> <span class="o">=</span> <span class="n">shared_dict</span><span class="p">,</span>
        <span class="n">shared_list</span> <span class="o">=</span> <span class="n">shared_list</span><span class="p">)</span>

    <span class="c1"># now you can access the shared objects&#39;s values, and do more</span>
    <span class="c1"># eg, check for testbed sanity flag</span>
    <span class="k">if</span> <span class="n">shared_dict</span><span class="p">[</span><span class="s1">&#39;testbed_is_sane&#39;</span><span class="p">]:</span>
        <span class="c1"># pass it along to the next task</span>
        <span class="n">run</span><span class="p">(</span><span class="n">testscript</span> <span class="o">=</span> <span class="s1">&#39;script_two.py&#39;</span><span class="p">,</span>
            <span class="n">runtime</span> <span class="o">=</span> <span class="n">runtime</span><span class="p">,</span>
            <span class="n">shared_dict</span> <span class="o">=</span> <span class="n">shared_dict</span><span class="p">,</span>
            <span class="n">shared_list</span> <span class="o">=</span> <span class="n">shared_list</span><span class="p">)</span>
</pre></div>
</div>
<p>Refer to Python <a class="reference external" href="https://docs.python.org/3.4/library/multiprocessing.html">multiprocessing</a> module for details on how shared memory works.</p>
</section>
<section id="custom-arguments">
<h2>Custom Arguments<a class="headerlink" href="#custom-arguments" title="Permalink to this heading">¶</a></h2>
<p>If leveraging <a class="reference internal" href="usages.html#easypy-argument-propagation"><span class="std std-ref">Argument Propagation</span></a>, your jobfiles may also contain
code to parse jobfile custom arguments stored in <code class="docutils literal notranslate"><span class="pre">sys.argv</span></code>. Python <a class="reference external" href="https://docs.python.org/3.4/library/argparse.html">argparse</a>
is a reference module to be used for parsing custom arguments.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   parsing custom arguments in Easypy</span>

<span class="c1"># assuming that this job file is run with the following command:</span>
<span class="c1">#   pyats run job example_job.py --my_custom_arg &#39;value&#39;</span>
<span class="c1">#</span>
<span class="c1"># where &quot;--my_custom_arg_a&quot; is a custom argument to be parsed by the jobfile</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">pyats.easypy</span> <span class="kn">import</span> <span class="n">run</span>

<span class="c1"># using argparse module to do the parsing</span>
<span class="kn">import</span> <span class="nn">argparse</span>

<span class="c1"># create your own parser to parse script arguments</span>
<span class="c1"># outside of the main block. This only creates a parser object</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;my custom parser&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--my_custom_arg&#39;</span><span class="p">,</span> <span class="n">help</span> <span class="o">=</span> <span class="s1">&#39;my custom argument&#39;</span><span class="p">)</span>
<span class="c1"># add any additional arguments as required...</span>

<span class="c1"># main block</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">runtime</span><span class="p">):</span>

    <span class="c1"># do the parsing first thing in the main() block</span>
    <span class="c1"># always use parse_known_args as per requirement in argument propagation</span>
    <span class="c1"># also stores back extra arguments back to sys.argv</span>
    <span class="n">args</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_known_args</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>

    <span class="c1"># you can now provide those new values to your pyATS script.</span>
    <span class="n">run</span><span class="p">(</span><span class="n">testscript</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="s1">&#39;to&#39;</span><span class="p">,</span> <span class="s1">&#39;script_two.py&#39;</span><span class="p">),</span>
        <span class="n">runtime</span> <span class="o">=</span> <span class="n">runtime</span><span class="p">,</span>
        <span class="n">my_custom_arg</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">my_custom_arg</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="introduction.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="usages.html" class="btn btn-neutral float-right" title="Using Easypy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Copyright (c) 2024, Cisco Systems Inc..
      <span class="lastupdated">Last updated on Dec 27, 2024.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>