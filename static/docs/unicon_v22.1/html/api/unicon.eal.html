

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>unicon.eal package &mdash; Unicon Documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=82a976d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=1045b1b5" />

  
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="unicon.eal.backend package" href="unicon.eal.backend.html" />
    <link rel="prev" title="unicon.database package" href="unicon.database.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Unicon Plugins
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/supported_platforms.html">Supported Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/connection.html">Connection Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/passwords.html">Password Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/proxy.html">Connection Through Proxies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/services/index.html">API/Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/services/service_dialogs.html">Dialog Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robot/index.html">RobotFramework Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../playback/index.html">Playback</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/plugins.html">Plugin Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/service_framework.html">How to write  a new Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/eal.html">Expect Abstraction Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/statemachine.html">State Machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/unittests.html">Develop &amp; Run Unittests</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Unicon API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="unicon.html">unicon package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="unicon.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="unicon.bases.html">unicon.bases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.core.html">unicon.core package</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.database.html">unicon.database package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">unicon.eal package</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.statemachine.html">unicon.statemachine package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="unicon.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicon.html#module-unicon.logs">unicon.logs module</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicon.html#module-unicon.patterns">unicon.patterns module</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicon.html#module-unicon.settings">unicon.settings module</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicon.html#module-unicon.type_checkers">unicon.type_checkers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicon.html#module-unicon.utils">unicon.utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicon.html#module-unicon.sshutils">unicon.sshutils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicon.html#module-unicon">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/index.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog_plugins/index.html">Plugins Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Unicon Plugins</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">Unicon API Reference</a></li>
          <li class="breadcrumb-item"><a href="unicon.html">unicon package</a></li>
      <li class="breadcrumb-item active">unicon.eal package</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="unicon-eal-package">
<h1>unicon.eal package<a class="headerlink" href="#unicon-eal-package" title="Link to this heading">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="unicon.eal.backend.html">unicon.eal.backend package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="unicon.eal.backend.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="unicon.eal.backend.html#module-unicon.eal.backend.pty_backend">unicon.eal.backend.pty_backend module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.RawPtySpawn"><code class="docutils literal notranslate"><span class="pre">RawPtySpawn</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.RawPtySpawn.close"><code class="docutils literal notranslate"><span class="pre">RawPtySpawn.close()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.RawPtySpawn.is_readable"><code class="docutils literal notranslate"><span class="pre">RawPtySpawn.is_readable()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.RawPtySpawn.is_writable"><code class="docutils literal notranslate"><span class="pre">RawPtySpawn.is_writable()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.RawSpawn"><code class="docutils literal notranslate"><span class="pre">RawSpawn</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.RawSpawn.close"><code class="docutils literal notranslate"><span class="pre">RawSpawn.close()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.RawSpawn.expect"><code class="docutils literal notranslate"><span class="pre">RawSpawn.expect()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.RawSpawn.has_buffer_left"><code class="docutils literal notranslate"><span class="pre">RawSpawn.has_buffer_left</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.RawSpawn.is_readable"><code class="docutils literal notranslate"><span class="pre">RawSpawn.is_readable()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.RawSpawn.is_writable"><code class="docutils literal notranslate"><span class="pre">RawSpawn.is_writable()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.RawSpawn.match_buffer"><code class="docutils literal notranslate"><span class="pre">RawSpawn.match_buffer()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.RawSpawn.read"><code class="docutils literal notranslate"><span class="pre">RawSpawn.read()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.RawSpawn.read_update_buffer"><code class="docutils literal notranslate"><span class="pre">RawSpawn.read_update_buffer()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.RawSpawn.send"><code class="docutils literal notranslate"><span class="pre">RawSpawn.send()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.RawSpawn.sendline"><code class="docutils literal notranslate"><span class="pre">RawSpawn.sendline()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.RawSpawn.trim_buffer"><code class="docutils literal notranslate"><span class="pre">RawSpawn.trim_buffer()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="unicon.eal.backend.html#unicon.eal.backend.pty_backend.Spawn"><code class="docutils literal notranslate"><span class="pre">Spawn</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="unicon.eal.backend.html#module-unicon.eal.backend">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-unicon.eal.bases">
<span id="unicon-eal-bases-module"></span><h2>unicon.eal.bases module<a class="headerlink" href="#module-unicon.eal.bases" title="Link to this heading">¶</a></h2>
<p>All the base classes here</p>
<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.bases.BaseSpawn">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.bases.</span></span><span class="sig-name descname"><span class="pre">BaseSpawn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spawn_command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.bases.BaseSpawn" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>base class</p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.bases.BaseSpawn.close">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.bases.BaseSpawn.close" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.bases.BaseSpawn.expect">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">expect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.bases.BaseSpawn.expect" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.bases.BaseSpawn.match_buffer">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">match_buffer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pat_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.bases.BaseSpawn.match_buffer" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.bases.BaseSpawn.read_update_buffer">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_update_buffer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.bases.BaseSpawn.read_update_buffer" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.bases.BaseSpawn.send">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.bases.BaseSpawn.send" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.bases.BaseSpawn.sendline">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sendline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.bases.BaseSpawn.sendline" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.bases.BaseSpawn.trim_buffer">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">trim_buffer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.bases.BaseSpawn.trim_buffer" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-unicon.eal.dialog_processor">
<span id="unicon-eal-dialog-processor-module"></span><h2>unicon.eal.dialog_processor module<a class="headerlink" href="#module-unicon.eal.dialog_processor" title="Link to this heading">¶</a></h2>
<dl>
<dt>Module:</dt><dd><p>unicon.eal.dialog_processor</p>
</dd>
<dt>Authors:</dt><dd><p>ATS TEAM (<a class="reference external" href="mailto:ats-dev&#37;&#52;&#48;cisco&#46;com">ats-dev<span>&#64;</span>cisco<span>&#46;</span>com</a>, CSG( STEP) - India)</p>
</dd>
<dt>Description:</dt><dd><p>This module defines different types of DialogProcessors.
DialogProcessor creates an event loop using a
Dialog instance over a spawned connection, which performs
pattern matching with the device response buffer</p>
<p>This module implements two different types of DialogProcessor:
1. SimpleDialogProcessor = Uses an internal timer for the even loop
2. DialogProcessor = Uses signal (SIGALRM) as a timer for the event loop</p>
</dd>
<dt>Dependencies:</dt><dd><ol class="arabic simple">
<li><p>Dialog processor can be performed only on instance of Dialog</p></li>
<li><p>Dialog instance under process is expected to have at least one exit
point</p></li>
<li><p>Dialog and Spawn has to be created before processing and also should
be an instance of unicon.eal.dialog.Dialog and unicon.eal.expect.spawn
respectively</p></li>
</ol>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.AlarmBasedDialogProcessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.dialog_processor.</span></span><span class="sig-name descname"><span class="pre">AlarmBasedDialogProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialog</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spawn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.AlarmBasedDialogProcessor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#unicon.eal.dialog_processor.BaseDialogProcessor" title="unicon.eal.dialog_processor.BaseDialogProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseDialogProcessor</span></code></a></p>
<p>Dialog Processor based on SIGALRM</p>
<p>This Dialog processor creates an event loop which raises an SIGALARM
signal on timeout. Once user invokes process method it will start the
event loop, which will read the spawn buffer performs a match with the
list of statements provided in the Dialog inst, on a match it invokes
the action corresponding to the statement which matched.
Also in addition, it performs dependency injection by inspecting the
signature of action method.</p>
<p>Loop Exit Conditions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Pattern</span> <span class="n">of</span> <span class="nb">any</span> <span class="n">statements</span> <span class="n">matched</span><span class="p">,</span> <span class="ow">and</span> <span class="n">its</span> <span class="s1">&#39;loop_continue&#39;</span> <span class="n">flag</span> <span class="ow">is</span>
   <span class="n">Disabled</span>
<span class="mf">2.</span> <span class="n">SIGALRM</span> <span class="n">raised</span> <span class="n">on</span> <span class="n">timer</span> <span class="n">expiry</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dia</span> <span class="o">=</span> <span class="n">Dialog</span><span class="p">([</span><span class="o">..</span><span class="p">])</span>
<span class="n">sp</span> <span class="o">=</span> <span class="n">Spawn</span><span class="p">(</span><span class="s1">&#39;telnet ..&#39;</span><span class="p">)</span>

<span class="n">dp1</span> <span class="o">=</span> <span class="n">DialogProcessor</span><span class="p">(</span><span class="n">dia</span><span class="p">,</span> <span class="n">sp</span><span class="p">)</span>
<span class="n">dp1</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>

<span class="n">dp2</span> <span class="o">=</span> <span class="n">DialogProcessor</span><span class="p">(</span><span class="n">dialog</span><span class="o">=</span><span class="n">dia</span><span class="p">,</span>
                      <span class="n">spawn</span><span class="o">=</span><span class="n">sp</span><span class="p">,</span>
                      <span class="n">context</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;enable_password&#39;</span><span class="p">:</span><span class="s1">&#39;lab&#39;</span><span class="p">},</span>
                      <span class="n">timeout</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">dp2</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>Dialog instance under process is expected to have at least one
exit point</p></li>
<li><p>This is a non blocking DialogProcessor, which aborts the event loop
whenever SIGALRM is raised, even if action is under processing</p></li>
<li><p>This is not thread safe, DialogProcessor should always be invoked
on the main thread</p></li>
</ol>
</div>
<p>Initialize Dialog Processor</p>
<p>Dialog  = Dialog to be processed
spawn   = Handle on which Dialog to be processed
context = Device context information
timeout =  Timeout for this processing</p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.AlarmBasedDialogProcessor.expect_eval_statements">
<span class="sig-name descname"><span class="pre">expect_eval_statements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pat_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.AlarmBasedDialogProcessor.expect_eval_statements" title="Link to this definition">¶</a></dt>
<dd><p>Reads the buffer content and checks for a match in pattern list.
If there is pattern match, then executes the corresponding
statements callback</p>
<p>This method returns True, if loop_continue of matched statement
is False(so that caller can break the event loop)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.AlarmBasedDialogProcessor.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.AlarmBasedDialogProcessor.process" title="Link to this definition">¶</a></dt>
<dd><p>starts the event loop, performs the actual transaction,</p>
<p>which reads the spawn buffer and tries a pattern match
with the list of statement provided in the Dialog
On a match this invokes a corresponding action,
it also runs a timer, which aborts the loop on
timeout</p>
<dl class="simple">
<dt>loop Exit Conditions::</dt><dd><ul class="simple">
<li><p>Pattern of any statements matched, and its ‘loop_continue’ flag is
Disabled</p></li>
<li><p>SIGALRM raised</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.AlarmBasedDialogProcessor.process_timeout_statement">
<span class="sig-name descname"><span class="pre">process_timeout_statement</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.AlarmBasedDialogProcessor.process_timeout_statement" title="Link to this definition">¶</a></dt>
<dd><p>Method for processing timeout statement which is part of
Dialog. This invokes timeout statement action.
Return None, if loop_continue is False.
Return True, if loop_continueis True.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.AlarmBasedDialogProcessor.reset_alarm_handler">
<span class="sig-name descname"><span class="pre">reset_alarm_handler</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.AlarmBasedDialogProcessor.reset_alarm_handler" title="Link to this definition">¶</a></dt>
<dd><p>Reset the timer
Restores the bkup_handler and relative time left</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.AlarmBasedDialogProcessor.timeout_handler">
<span class="sig-name descname"><span class="pre">timeout_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stack</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.AlarmBasedDialogProcessor.timeout_handler" title="Link to this definition">¶</a></dt>
<dd><p>Method for handling timeout scenarios</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.BaseDialogProcessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.dialog_processor.</span></span><span class="sig-name descname"><span class="pre">BaseDialogProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialog</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spawn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.BaseDialogProcessor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base Dialog Processor</p>
<p>Performs Initialization, Dependency injections and
also defines the work flow for dialog processing</p>
<p>Initialize Dialog Processor
Dialog  = Dialog to be processed
spawn   = Handle on which Dialog to be processed
context = Device context information
timeout =  Timeout for this processing</p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.BaseDialogProcessor.perform_di">
<span class="sig-name descname"><span class="pre">perform_di</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.BaseDialogProcessor.perform_di" title="Link to this definition">¶</a></dt>
<dd><p>perform dependency injection for spawn</p>
<dl class="simple">
<dt>at this point we only get functions</dt><dd><ol class="arabic simple">
<li><p>which have all default and positional arguments resolved
through statement.args.</p></li>
<li><dl class="simple">
<dt>All or few of the default arguments overridden through</dt><dd><p>statement.args</p>
</dd>
</dl>
</li>
<li><p>Spawn if present, only appears as positional argument.</p></li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.BaseDialogProcessor.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.BaseDialogProcessor.process" title="Link to this definition">¶</a></dt>
<dd><p>performs the actual transaction with the device</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.BaseDialogProcessor.session">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">session</span></span><a class="headerlink" href="#unicon.eal.dialog_processor.BaseDialogProcessor.session" title="Link to this definition">¶</a></dt>
<dd><p>Returns the session dict of the processor</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.BaseDialogProcessor.substitute_hostname">
<span class="sig-name descname"><span class="pre">substitute_hostname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pat_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.BaseDialogProcessor.substitute_hostname" title="Link to this definition">¶</a></dt>
<dd><p>Perform hostname substitution in state patterns</p>
<p>Replaces all %N with the hostname, if hostname is provided</p>
<p>Returns the pattern (whether or not it was modified).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.DialogProcessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.dialog_processor.</span></span><span class="sig-name descname"><span class="pre">DialogProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.DialogProcessor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Factory class for DialogProcessor</p>
<p>In threaded environment we can’t use AlarmBasedDialogProcessor, hence
because of this unicon simply stops working in threads in case it is
using dialogs, which mostly is the case. This factory class serves the
appropriate DialogProcessor class based on whether the code is running
in thread or not.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.ExDialogProcessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.dialog_processor.</span></span><span class="sig-name descname"><span class="pre">ExDialogProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialog</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spawn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.ExDialogProcessor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#unicon.eal.dialog_processor.BaseDialogProcessor" title="unicon.eal.dialog_processor.BaseDialogProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseDialogProcessor</span></code></a></p>
<p>Dialog Processor based on SIGALRM</p>
<p>This Dialog processor creates an event loop which raises an SIGALARM
signal on timeout. Once user invokes process method it will start the
event loop, which will read the spawn buffer performs a match with the
list of statements provided in the Dialog inst, on a match it invokes
the action corresponding to the statement which matched.
Also in addition, it performs dependency injection by inspecting the
signature of action method.</p>
<p>Loop Exit Conditions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Pattern</span> <span class="n">of</span> <span class="nb">any</span> <span class="n">statements</span> <span class="n">matched</span><span class="p">,</span> <span class="ow">and</span> <span class="n">its</span> <span class="s1">&#39;loop_continue&#39;</span> <span class="n">flag</span> <span class="ow">is</span>
   <span class="n">Disabled</span>
<span class="mf">2.</span> <span class="n">SIGALRM</span> <span class="n">raised</span> <span class="n">on</span> <span class="n">timer</span> <span class="n">expiry</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dia</span> <span class="o">=</span> <span class="n">Dialog</span><span class="p">([</span><span class="o">..</span><span class="p">])</span>
<span class="n">sp</span> <span class="o">=</span> <span class="n">Spawn</span><span class="p">(</span><span class="s1">&#39;telnet ..&#39;</span><span class="p">)</span>

<span class="n">dp1</span> <span class="o">=</span> <span class="n">DialogProcessor</span><span class="p">(</span><span class="n">dia</span><span class="p">,</span> <span class="n">sp</span><span class="p">)</span>
<span class="n">dp1</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>

<span class="n">dp2</span> <span class="o">=</span> <span class="n">DialogProcessor</span><span class="p">(</span><span class="n">dialog</span><span class="o">=</span><span class="n">dia</span><span class="p">,</span>
                      <span class="n">spawn</span><span class="o">=</span><span class="n">sp</span><span class="p">,</span>
                      <span class="n">context</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;enable_password&#39;</span><span class="p">:</span><span class="s1">&#39;lab&#39;</span><span class="p">},</span>
                      <span class="n">timeout</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">dp2</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>Dialog instance under process is expected to have at least one
exit point</p></li>
<li><p>This is a non blocking DialogProcessor, which aborts the event loop
whenever SIGALRM is raised, even if action is under processing</p></li>
<li><p>This is not thread safe, DialogProcessor should always be invoked
on the main thread</p></li>
</ol>
</div>
<p>Initialize Dialog Processor</p>
<p>Dialog  = Dialog to be processed
spawn   = Handle on which Dialog to be processed
context = Device context information
timeout =  Timeout for this processing</p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.ExDialogProcessor.expect_eval_statements">
<span class="sig-name descname"><span class="pre">expect_eval_statements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pat_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.ExDialogProcessor.expect_eval_statements" title="Link to this definition">¶</a></dt>
<dd><p>Reads the buffer content and checks for a match in pattern list.
If there is pattern match, then executes the corresponding
statements callback</p>
<p>This method returns True, if loop_continue of matched statement
is False(so that caller can break the event loop)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.ExDialogProcessor.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.ExDialogProcessor.process" title="Link to this definition">¶</a></dt>
<dd><p>starts the event loop, performs the actual transaction,</p>
<p>which reads the spawn buffer and tries a pattern match
with the list of statement provided in the Dialog
On a match this invokes a corresponding action,
it also runs a timer, which aborts the loop on
timeout</p>
<dl class="simple">
<dt>loop Exit Conditions::</dt><dd><ul class="simple">
<li><p>Pattern of any statements matched, and its ‘loop_continue’ flag is
Disabled</p></li>
<li><p>SIGALRM raised</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.ExDialogProcessor.reset_alarm_handler">
<span class="sig-name descname"><span class="pre">reset_alarm_handler</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.ExDialogProcessor.reset_alarm_handler" title="Link to this definition">¶</a></dt>
<dd><p>Reset the timer
Restores the bkup_handler and relative time left</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.ExDialogProcessor.timeout_handler">
<span class="sig-name descname"><span class="pre">timeout_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stack</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.ExDialogProcessor.timeout_handler" title="Link to this definition">¶</a></dt>
<dd><p>Method for handling timeout scenarios</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.ProRecAlarmDialogProcessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.dialog_processor.</span></span><span class="sig-name descname"><span class="pre">ProRecAlarmDialogProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialog</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spawn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.ProRecAlarmDialogProcessor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#unicon.eal.dialog_processor.PromptRecoveryCommon" title="unicon.eal.dialog_processor.PromptRecoveryCommon"><code class="xref py py-class docutils literal notranslate"><span class="pre">PromptRecoveryCommon</span></code></a>, <a class="reference internal" href="#unicon.eal.dialog_processor.AlarmBasedDialogProcessor" title="unicon.eal.dialog_processor.AlarmBasedDialogProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlarmBasedDialogProcessor</span></code></a></p>
<p>Dialog processor for prompt recovery feature.
Sub class of PromptRecoveryCommon and AlarmBasedDialogProcessor.
If prompt_recovery is True, prompt_recovery_commands
will be sent to the spawn after normal timeout elapse.</p>
<p>Initialize Dialog Processor</p>
<p>Dialog  = Dialog to be processed
spawn   = Handle on which Dialog to be processed
context = Device context information
timeout =  Timeout for this processing</p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.ProRecAlarmDialogProcessor.prompt_recovery_reset_timer">
<span class="sig-name descname"><span class="pre">prompt_recovery_reset_timer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.ProRecAlarmDialogProcessor.prompt_recovery_reset_timer" title="Link to this definition">¶</a></dt>
<dd><p>Reset the Dialog Timeout timer to prompt_recovery_interval</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.ProRecAlarmDialogProcessor.timeout_handler">
<span class="sig-name descname"><span class="pre">timeout_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stack</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.ProRecAlarmDialogProcessor.timeout_handler" title="Link to this definition">¶</a></dt>
<dd><p>Method for handling timeout scenarios</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.ProRecSimpleDialogProcessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.dialog_processor.</span></span><span class="sig-name descname"><span class="pre">ProRecSimpleDialogProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialog</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spawn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.ProRecSimpleDialogProcessor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#unicon.eal.dialog_processor.PromptRecoveryCommon" title="unicon.eal.dialog_processor.PromptRecoveryCommon"><code class="xref py py-class docutils literal notranslate"><span class="pre">PromptRecoveryCommon</span></code></a>, <a class="reference internal" href="#unicon.eal.dialog_processor.SimpleDialogProcessor" title="unicon.eal.dialog_processor.SimpleDialogProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleDialogProcessor</span></code></a></p>
<p>Dialog processor for prompt recovery feature.
Sub class of SimpleDialogProcessor.
If prompt_recovery is True, prompt_recovery_commands
will be sent to the spawn after normal timeout elapse.</p>
<p>Initialize Dialog Processor
Dialog  = Dialog to be processed
spawn   = Handle on which Dialog to be processed
context = Device context information
timeout =  Timeout for this processing</p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.ProRecSimpleDialogProcessor.prompt_recovery_reset_timer">
<span class="sig-name descname"><span class="pre">prompt_recovery_reset_timer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.ProRecSimpleDialogProcessor.prompt_recovery_reset_timer" title="Link to this definition">¶</a></dt>
<dd><p>Reset the Dialog Timeout timer to prompt_recovery_interval</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.ProRecSimpleDialogProcessor.timeout_handler">
<span class="sig-name descname"><span class="pre">timeout_handler</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.ProRecSimpleDialogProcessor.timeout_handler" title="Link to this definition">¶</a></dt>
<dd><p>Method for handling timeout scenarios</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.PromptRecoveryCommon">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.dialog_processor.</span></span><span class="sig-name descname"><span class="pre">PromptRecoveryCommon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialog</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spawn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.PromptRecoveryCommon" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Common functions which can be use by prompt recovery
Alarm and Simple based dialog processor.</p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.PromptRecoveryCommon.initialize_prompt_recovery">
<span class="sig-name descname"><span class="pre">initialize_prompt_recovery</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.PromptRecoveryCommon.initialize_prompt_recovery" title="Link to this definition">¶</a></dt>
<dd><p>Initialize prompt recovery settings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.PromptRecoveryCommon.prompt_recovery_handler">
<span class="sig-name descname"><span class="pre">prompt_recovery_handler</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.PromptRecoveryCommon.prompt_recovery_handler" title="Link to this definition">¶</a></dt>
<dd><p>Sends prompt recovery commands to spawn.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.PromptRecoveryCommon.prompt_recovery_reset_timer">
<span class="sig-name descname"><span class="pre">prompt_recovery_reset_timer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.PromptRecoveryCommon.prompt_recovery_reset_timer" title="Link to this definition">¶</a></dt>
<dd><p>Reset the timeout timer to prompt recovery interval
after sending prompt recovery command.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.PromptRecoveryCommon.prompt_recovery_timeout">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">prompt_recovery_timeout</span></span><a class="headerlink" href="#unicon.eal.dialog_processor.PromptRecoveryCommon.prompt_recovery_timeout" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.PromptRecoveryCommon.timeout_handler">
<span class="sig-name descname"><span class="pre">timeout_handler</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.PromptRecoveryCommon.timeout_handler" title="Link to this definition">¶</a></dt>
<dd><p>Method for handling timeout scenarios</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.SimpleDialogProcessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.dialog_processor.</span></span><span class="sig-name descname"><span class="pre">SimpleDialogProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialog</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spawn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.SimpleDialogProcessor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#unicon.eal.dialog_processor.BaseDialogProcessor" title="unicon.eal.dialog_processor.BaseDialogProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseDialogProcessor</span></code></a></p>
<p>Simple Dialog Processor</p>
<p>This Dialog processor creates an event loop which runs an internal timer
On invocation of process method, this will read the spawn buffer and
performs a match with the list of statements provided in the Dialog inst,
on a match it invokes the action corresponding to the statement which
matched. Also in addition, it performs dependency injection by inspecting
the signature of action method.</p>
<p>Loop Exit Conditions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Pattern</span> <span class="n">of</span> <span class="nb">any</span> <span class="n">statements</span> <span class="n">matched</span><span class="p">,</span> <span class="ow">and</span> <span class="n">its</span> <span class="s1">&#39;loop_continue&#39;</span> <span class="n">flag</span> <span class="ow">is</span>
   <span class="n">Disabled</span>
<span class="mf">2.</span> <span class="n">Internal</span> <span class="n">Timer</span> <span class="n">expired</span>
</pre></div>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dia</span> <span class="o">=</span> <span class="n">Dialog</span><span class="p">([</span><span class="o">..</span><span class="p">])</span>
<span class="n">sp</span> <span class="o">=</span> <span class="n">Spawn</span><span class="p">(</span><span class="s1">&#39;telnet ..&#39;</span><span class="p">)</span>

<span class="n">dp1</span> <span class="o">=</span> <span class="n">SimpleDialogProcessor</span><span class="p">(</span><span class="n">dia</span><span class="p">,</span> <span class="n">sp</span><span class="p">)</span>
<span class="n">dp1</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>

<span class="n">dp2</span> <span class="o">=</span> <span class="n">SimpleDialogProcessor</span><span class="p">(</span><span class="n">dia</span><span class="p">,</span> <span class="n">sp</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;enable_password&#39;</span><span class="p">:</span><span class="s1">&#39;lab&#39;</span><span class="p">})</span>
<span class="n">dp2</span><span class="o">.</span><span class="n">process</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>Dialog instance under process is expected to have at least one
exit point.</p></li>
<li><p>This is a partially blocking DialogProcessor, which waits until</p></li>
</ol>
</div>
<p>Initialize Dialog Processor
Dialog  = Dialog to be processed
spawn   = Handle on which Dialog to be processed
context = Device context information
timeout =  Timeout for this processing</p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.SimpleDialogProcessor.expect_eval_statements">
<span class="sig-name descname"><span class="pre">expect_eval_statements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pat_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.SimpleDialogProcessor.expect_eval_statements" title="Link to this definition">¶</a></dt>
<dd><p>Reads the buffer content and checks for a match in pattern list.
If there is pattern match, then executes the corresponding
statements callback</p>
<p>This method returns True, if loop_continue of matched statement
is False(so that caller can break the event loop)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.SimpleDialogProcessor.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.SimpleDialogProcessor.process" title="Link to this definition">¶</a></dt>
<dd><p>Process a dialog</p>
<p>starts the event loop and performs the actual transaction
with the device, which reads the spawn buffer and tries a
pattern match with the list of statement provided in the Dialog
On a match this invokes a corresponding action, it also runs a timer,
which aborts the loop on timeout</p>
<p>Loop Exit Condition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Pattern</span> <span class="n">of</span> <span class="nb">any</span> <span class="n">statements</span> <span class="n">matched</span><span class="p">,</span> <span class="ow">and</span> <span class="n">its</span>
   <span class="s1">&#39;loop_continue&#39;</span> <span class="n">flag</span> <span class="ow">is</span> <span class="n">Disabled</span>
<span class="mf">2.</span> <span class="ne">TimeoutError</span> <span class="n">raised</span> <span class="n">on</span> <span class="n">timeout</span><span class="o">.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.SimpleDialogProcessor.process_timeout_statement">
<span class="sig-name descname"><span class="pre">process_timeout_statement</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.SimpleDialogProcessor.process_timeout_statement" title="Link to this definition">¶</a></dt>
<dd><p>Method for processing timeout statement which is part of
Dialog. This invokes timeout statement action.
Return None, if loop_continue is False.
Return True, if loop_continueis True.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialog_processor.SimpleDialogProcessor.timeout_handler">
<span class="sig-name descname"><span class="pre">timeout_handler</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialog_processor.SimpleDialogProcessor.timeout_handler" title="Link to this definition">¶</a></dt>
<dd><p>Method for handling timeout scenarios</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-unicon.eal.dialogs">
<span id="unicon-eal-dialogs-module"></span><h2>unicon.eal.dialogs module<a class="headerlink" href="#module-unicon.eal.dialogs" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>Module:</dt><dd><p>unicon.eal.dialogs</p>
</dd>
<dt>Description:</dt><dd><p>Dialog module provides classes and structures for creating several
pattern/action pairs, so that multiple interactions can be handled
in a single expect transaction. This concept is equivalent of writing
nested expect blocks in Tcl/Expect where we have a platform pattern and
callback pairs.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">Dialog</span><span class="p">([</span>
    <span class="p">[</span><span class="sa">r</span><span class="s1">&#39;Username: &#39;</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">spawn</span><span class="p">:</span> <span class="n">spawn</span><span class="o">.</span><span class="n">sendline</span><span class="p">(</span><span class="s1">&#39;admin&#39;</span><span class="p">),</span> <span class="n">loop_continue</span><span class="o">=</span><span class="kc">True</span><span class="p">]</span>
    <span class="p">[</span><span class="sa">r</span><span class="s1">&#39;Password&#39;</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">spawn</span><span class="p">:</span> <span class="n">spawn</span><span class="o">.</span><span class="n">sendline</span><span class="p">(</span><span class="s1">&#39;lab&#39;</span><span class="p">),</span> <span class="n">loop_continue</span><span class="o">=</span><span class="kc">True</span><span class="p">]</span>
<span class="p">])</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.dialogs.Dialog">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.dialogs.</span></span><span class="sig-name descname"><span class="pre">Dialog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.Dialog" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Dialog is a set of statement objects.</p>
<dl>
<dt>Description:</dt><dd><p>It is just an enclosure for list of all the statements and all the session
dependencies. It’s instance can be reused for interacting with different
spawn instances.</p>
<p>Timeout is not the part of dialog instance, that means same dialog can
be reused to handle an interaction with different timeouts.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dialog</span> <span class="o">=</span> <span class="n">Dialog</span><span class="p">([</span>
    <span class="n">Statement</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;^username:$&quot;</span><span class="p">,</span>
              <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="n">spawn</span><span class="p">:</span> <span class="n">spawn</span><span class="o">.</span><span class="n">sendline</span><span class="p">(</span><span class="s2">&quot;admin&quot;</span><span class="p">),</span>
              <span class="n">args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
              <span class="n">loop_continue</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
              <span class="n">continue_timer</span><span class="o">=</span><span class="kc">False</span> <span class="p">),</span>
    <span class="n">Statement</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;^password:$&quot;</span><span class="p">,</span>
              <span class="n">action</span><span class="o">=</span><span class="k">lambda</span> <span class="n">spawn</span><span class="p">:</span> <span class="n">spawn</span><span class="o">.</span><span class="n">sendline</span><span class="p">(</span><span class="s2">&quot;admin&quot;</span><span class="p">),</span>
              <span class="n">args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
              <span class="n">loop_continue</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
              <span class="n">continue_timer</span><span class="o">=</span><span class="kc">False</span> <span class="p">),</span>
    <span class="n">Statement</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;^host-prompt#$&quot;</span><span class="p">,</span>
              <span class="n">action</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
              <span class="n">args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
              <span class="n">loop_continue</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
              <span class="n">continue_timer</span><span class="o">=</span><span class="kc">False</span> <span class="p">),</span>
<span class="p">])</span>

<span class="n">It</span> <span class="ow">is</span> <span class="n">also</span> <span class="n">possible</span> <span class="n">to</span> <span class="n">construct</span> <span class="n">a</span> <span class="n">dialog</span> <span class="n">instance</span> <span class="n">by</span> <span class="n">supplying</span> <span class="nb">list</span> <span class="n">of</span>
<span class="n">statement</span> <span class="n">arguments</span><span class="o">.</span>

<span class="n">dialog</span> <span class="o">=</span> <span class="n">Dialog</span><span class="p">([</span>
    <span class="p">[</span><span class="sa">r</span><span class="s2">&quot;^username$&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">spawn</span><span class="p">:</span> <span class="n">spawn</span><span class="o">.</span><span class="n">sendline</span><span class="p">(</span><span class="s2">&quot;admin&quot;</span><span class="p">),</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
    <span class="p">[</span><span class="sa">r</span><span class="s2">&quot;^password:$&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">spawn</span><span class="p">:</span> <span class="n">spawn</span><span class="o">.</span><span class="n">sendline</span><span class="p">(</span><span class="s2">&quot;admin&quot;</span><span class="p">),</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
    <span class="p">[</span><span class="sa">r</span><span class="s2">&quot;^hostname#$&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">]</span>
<span class="p">])</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialogs.Dialog.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.Dialog.append" title="Link to this definition">¶</a></dt>
<dd><p>append a statement to the end of the dialog instance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialogs.Dialog.extract_statements">
<span class="sig-name descname"><span class="pre">extract_statements</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.Dialog.extract_statements" title="Link to this definition">¶</a></dt>
<dd><p>extract statement from the arguments.
it ignores any special statement like the timeout statement</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialogs.Dialog.get_pattern_list">
<span class="sig-name descname"><span class="pre">get_pattern_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.Dialog.get_pattern_list" title="Link to this definition">¶</a></dt>
<dd><p>get list of patterns from all the statements</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialogs.Dialog.insert">
<span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">statement</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.Dialog.insert" title="Link to this definition">¶</a></dt>
<dd><p>insert a statement at a given index</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialogs.Dialog.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.Dialog.process" title="Link to this definition">¶</a></dt>
<dd><p>a duck type function easy processing of a dialog.</p>
<p>this method created a dialog processor instance and processes the
current dialog.</p>
<p class="rubric">Example</p>
<p>d.process(s, timeout=30)
Here s is the spawn instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialogs.Dialog.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.Dialog.remove" title="Link to this definition">¶</a></dt>
<dd><p>remove a statement of the dialog instance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialogs.Dialog.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.Dialog.validate" title="Link to this definition">¶</a></dt>
<dd><p>validate all the statement arguments</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.dialogs.DialogMaker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.dialogs.</span></span><span class="sig-name descname"><span class="pre">DialogMaker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.DialogMaker" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialogs.DialogMaker.add_statement">
<span class="sig-name descname"><span class="pre">add_statement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.DialogMaker.add_statement" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.dialogs.Statement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.dialogs.</span></span><span class="sig-name descname"><span class="pre">Statement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loop_continue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">continue_timer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trim_buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matched_retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matched_retry_sleep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">di_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['spawn',</span> <span class="pre">'context',</span> <span class="pre">'session']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_statement</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.Statement" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Statement is a building block of a dialog.</p>
<dl>
<dt>Description:</dt><dd><p>Dialogs are nothing but a set of statements. Statement contains
five things:</p>
<blockquote>
<div><ul class="simple">
<li><p>pattern: a match is used to invoke the callback.</p></li>
<li><p>action: a function which is called in case the pattern is matched.</p></li>
<li><p>args: a dict containing all the arguments required by callback function.</p></li>
<li><p>loop_continue: When it is true, the dialog doesn’t exit and continues to look for the match.</p></li>
<li><p>continue_timer: timer is restarted after every match.</p></li>
<li><p>trim_buffer: When it is False, matched content will not be removed from buffer.</p></li>
<li><p>matched_retries: retry times if statement pattern is matched, default is 0</p></li>
<li><p>matched_retry_sleep: sleep between retries, default is 0.02 sec</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
<p class="rubric">Example</p>
<p>This is how a statement could be instantiated:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">simple_callback</span><span class="p">(</span><span class="n">spawn</span><span class="p">):</span>
    <span class="n">spawn</span><span class="o">.</span><span class="n">sendline</span><span class="p">(</span><span class="s2">&quot;lab&quot;</span><span class="p">)</span>

<span class="n">st</span> <span class="o">=</span> <span class="n">Statement</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;^.*pat$&quot;</span><span class="p">,</span>
               <span class="n">action</span><span class="o">=</span><span class="n">simple_callback</span><span class="p">,</span>
               <span class="n">loop_continue</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
               <span class="n">continue_timer</span><span class="o">=</span><span class="kc">False</span>
              <span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="unicon.core.html#unicon.core.errors.StatementValidationError" title="unicon.core.errors.StatementValidationError"><strong>StatementValidationError</strong></a> – </p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialogs.Statement.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.Statement.validate" title="Link to this definition">¶</a></dt>
<dd><p>verify the sanity of the arguments in the statement</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialogs.Statement.validate_action">
<span class="sig-name descname"><span class="pre">validate_action</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.Statement.validate_action" title="Link to this definition">¶</a></dt>
<dd><p>check callback function and its arguments</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialogs.Statement.validate_continue_timer">
<span class="sig-name descname"><span class="pre">validate_continue_timer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.Statement.validate_continue_timer" title="Link to this definition">¶</a></dt>
<dd><p>validate continue_timer is boolean</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialogs.Statement.validate_debug_statement">
<span class="sig-name descname"><span class="pre">validate_debug_statement</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.Statement.validate_debug_statement" title="Link to this definition">¶</a></dt>
<dd><p>validate debug_statement is boolean</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialogs.Statement.validate_loop_continue">
<span class="sig-name descname"><span class="pre">validate_loop_continue</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.Statement.validate_loop_continue" title="Link to this definition">¶</a></dt>
<dd><p>validate loop_continue is boolean</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialogs.Statement.validate_pattern">
<span class="sig-name descname"><span class="pre">validate_pattern</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.Statement.validate_pattern" title="Link to this definition">¶</a></dt>
<dd><p>check if the pattern provided is or correct type</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.dialogs.Statement.validate_trim_buffer">
<span class="sig-name descname"><span class="pre">validate_trim_buffer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.Statement.validate_trim_buffer" title="Link to this definition">¶</a></dt>
<dd><p>validate trim_buffer is boolean</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="unicon.eal.dialogs.statement_action_helper">
<span class="sig-prename descclassname"><span class="pre">unicon.eal.dialogs.</span></span><span class="sig-name descname"><span class="pre">statement_action_helper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.statement_action_helper" title="Link to this definition">¶</a></dt>
<dd><p>Helper fuction for statement actions.</p>
<p>Translates action string into a callable and argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – action string from statement</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>callable, payload (tuple)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="unicon.eal.dialogs.statement_decorator">
<span class="sig-prename descclassname"><span class="pre">unicon.eal.dialogs.</span></span><span class="sig-name descname"><span class="pre">statement_decorator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">pargs</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">pkwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.dialogs.statement_decorator" title="Link to this definition">¶</a></dt>
<dd><p>Decorator to add to create Action Dialog</p>
</dd></dl>

</section>
<section id="module-unicon.eal.expect">
<span id="unicon-eal-expect-module"></span><h2>unicon.eal.expect module<a class="headerlink" href="#module-unicon.eal.expect" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.expect.Spawn">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.expect.</span></span><span class="sig-name descname"><span class="pre">Spawn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.expect.Spawn" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#unicon.eal.bases.BaseSpawn" title="unicon.eal.bases.BaseSpawn"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSpawn</span></code></a></p>
</dd></dl>

</section>
<section id="module-unicon.eal.helpers">
<span id="unicon-eal-helpers-module"></span><h2>unicon.eal.helpers module<a class="headerlink" href="#module-unicon.eal.helpers" title="Link to this heading">¶</a></h2>
<p>shorthand helper dialogs</p>
<dl class="py function">
<dt class="sig sig-object py" id="unicon.eal.helpers.sendline">
<span class="sig-prename descclassname"><span class="pre">unicon.eal.helpers.</span></span><span class="sig-name descname"><span class="pre">sendline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spawn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">command</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.helpers.sendline" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-unicon.eal.utils">
<span id="unicon-eal-utils-module"></span><h2>unicon.eal.utils module<a class="headerlink" href="#module-unicon.eal.utils" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.utils.ExpectMatch">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.utils.</span></span><span class="sig-name descname"><span class="pre">ExpectMatch</span></span><a class="headerlink" href="#unicon.eal.utils.ExpectMatch" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class stores the Matched content details
Also stores the last match index and regexp object</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.utils.MatchMode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.utils.</span></span><span class="sig-name descname"><span class="pre">MatchMode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.utils.MatchMode" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.utils.PicklableSreMatch">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.utils.</span></span><span class="sig-name descname"><span class="pre">PicklableSreMatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sre_match</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.utils.PicklableSreMatch" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.utils.PicklableSreMatch.group">
<span class="sig-name descname"><span class="pre">group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.utils.PicklableSreMatch.group" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.utils.PicklableSreMatch.groupdict">
<span class="sig-name descname"><span class="pre">groupdict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.utils.PicklableSreMatch.groupdict" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.utils.PicklableSreMatch.groups">
<span class="sig-name descname"><span class="pre">groups</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.utils.PicklableSreMatch.groups" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.eal.utils.Timer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.eal.utils.</span></span><span class="sig-name descname"><span class="pre">Timer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">duration</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.utils.Timer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.utils.Timer.expired">
<span class="sig-name descname"><span class="pre">expired</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.utils.Timer.expired" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.utils.Timer.has_time_left">
<span class="sig-name descname"><span class="pre">has_time_left</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.utils.Timer.has_time_left" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.utils.Timer.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.utils.Timer.reset" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.eal.utils.Timer.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.utils.Timer.start" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="unicon.eal.utils.expect_log">
<span class="sig-prename descclassname"><span class="pre">unicon.eal.utils.</span></span><span class="sig-name descname"><span class="pre">expect_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.utils.expect_log" title="Link to this definition">¶</a></dt>
<dd><p>This function is removed, please use ‘debug=True’ or
set device logger Level to get the internl debug logging</p>
<dl class="simple">
<dt>Eg:</dt><dd><p>device.connect(‘debug=True’)
device.log.setLevel(10)</p>
</dd>
<dt>Or you can pass from testbed yaml file:</dt><dd><dl class="simple">
<dt>connections:</dt><dd><dl class="simple">
<dt>defaults:</dt><dd><p>class: unicon.Unicon
debug: True</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="unicon.eal.utils.timeout_occurrence">
<span class="sig-prename descclassname"><span class="pre">unicon.eal.utils.</span></span><span class="sig-name descname"><span class="pre">timeout_occurrence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.eal.utils.timeout_occurrence" title="Link to this definition">¶</a></dt>
<dd><p>Signal for timeout</p>
</dd></dl>

</section>
<section id="module-unicon.eal">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-unicon.eal" title="Link to this heading">¶</a></h2>
<dl>
<dt>Package:</dt><dd><p>eal</p>
</dd>
<dt>Description:</dt><dd><p>Expect Abstraction Library (EAL) is a package which provides Tcl/Expect
like API, using paramiko library as a backend. Paramiko is an open
source python library for handling ssh connections. EAL uses paramiko’s
invoke_shell api to create an interactive shell session on the connected
channel. Channel here, is a socket like object.</p>
<p>EAL creates a shell session on the connected channel and uses stdin and
stdout for interacting with it. It abstracts all the paramiko level
configurations and exposes Expect like API’s e.g send, expect, dialogs
etc.</p>
<p>The whole unicon uses EAL as backend for implementing APIs for
device connection. In unicon framework, EAL is the lower most level of
of abstraction for device interactions.</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="unicon.database.html" class="btn btn-neutral float-left" title="unicon.database package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="unicon.eal.backend.html" class="btn btn-neutral float-right" title="unicon.eal.backend package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014-2020, Cisco Systems Inc..
      <span class="lastupdated">Last updated on Dec 27, 2024.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>