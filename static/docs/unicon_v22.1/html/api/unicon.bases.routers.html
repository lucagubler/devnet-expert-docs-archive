

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>unicon.bases.routers package &mdash; Unicon Documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=82a976d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=1045b1b5" />

  
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="unicon.core package" href="unicon.core.html" />
    <link rel="prev" title="unicon.bases.linux package" href="unicon.bases.linux.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Unicon Plugins
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/supported_platforms.html">Supported Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/connection.html">Connection Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/passwords.html">Password Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/proxy.html">Connection Through Proxies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/services/index.html">API/Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/services/service_dialogs.html">Dialog Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="../robot/index.html">RobotFramework Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../playback/index.html">Playback</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/plugins.html">Plugin Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/service_framework.html">How to write  a new Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/eal.html">Expect Abstraction Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/statemachine.html">State Machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/unittests.html">Develop &amp; Run Unittests</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Unicon API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="unicon.html">unicon package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="unicon.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="unicon.bases.html">unicon.bases package</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.core.html">unicon.core package</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.database.html">unicon.database package</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.eal.html">unicon.eal package</a></li>
<li class="toctree-l4"><a class="reference internal" href="unicon.statemachine.html">unicon.statemachine package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="unicon.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicon.html#module-unicon.logs">unicon.logs module</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicon.html#module-unicon.patterns">unicon.patterns module</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicon.html#module-unicon.settings">unicon.settings module</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicon.html#module-unicon.type_checkers">unicon.type_checkers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicon.html#module-unicon.utils">unicon.utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicon.html#module-unicon.sshutils">unicon.sshutils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="unicon.html#module-unicon">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/index.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog_plugins/index.html">Plugins Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Unicon Plugins</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">Unicon API Reference</a></li>
          <li class="breadcrumb-item"><a href="unicon.html">unicon package</a></li>
          <li class="breadcrumb-item"><a href="unicon.bases.html">unicon.bases package</a></li>
      <li class="breadcrumb-item active">unicon.bases.routers package</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="unicon-bases-routers-package">
<h1>unicon.bases.routers package<a class="headerlink" href="#unicon-bases-routers-package" title="Link to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-unicon.bases.routers.connection">
<span id="unicon-bases-routers-connection-module"></span><h2>unicon.bases.routers.connection module<a class="headerlink" href="#module-unicon.bases.routers.connection" title="Link to this heading">¶</a></h2>
<dl>
<dt>Module:</dt><dd><p>unicon.bases.routers.connection</p>
</dd>
<dt>Authors:</dt><dd><p>ATS TEAM (<a class="reference external" href="mailto:ats-dev&#37;&#52;&#48;cisco&#46;com">ats-dev<span>&#64;</span>cisco<span>&#46;</span>com</a>, CSG( STEP) - India)</p>
</dd>
<dt>Description:</dt><dd><p>Defines the Connection Base classes for SingleRp and
DualRP router chasis types. It defines the work flow
of unicon connection and services initialization</p>
<p>Classes defined in this module serves as the Base classes for
implementing various platform</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseDualRpConnection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.bases.routers.connection.</span></span><span class="sig-name descname"><span class="pre">BaseDualRpConnection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection.BaseDualRpConnection" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#unicon.bases.routers.connection.BaseMultiRpConnection" title="unicon.bases.routers.connection.BaseMultiRpConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseMultiRpConnection</span></code></a></p>
<p>Base class for Dual rp routers/Switches</p>
<p>This does the following</p>
<ol class="arabic simple">
<li><p>Spawns a  connection to each device</p></li>
<li><p>Creates State Machine instance for each device</p></li>
<li><dl class="simple">
<dt>Provides method to connect, initialize the devices</dt><dd><p>and perform services</p>
</dd>
</dl>
</li>
<li><p>Designates role of each device</p></li>
</ol>
<p>Class which are inheriting this class for implementing
any particular platform has to define the following
class attributes</p>
<ol class="arabic simple">
<li><p>os = OS for which the implementation intended</p></li>
<li><p>platform = Platform platform of the implementation</p></li>
<li><p>model = Model for which this implementation supports</p></li>
<li><dl class="simple">
<dt>chassis_type = Hardware chassis type single_rp, dual_rp</dt><dd><p>or stack</p>
</dd>
</dl>
</li>
<li><p>state_machine_class = State machine to be used</p></li>
<li><p>subcommand_list =  List of subcommand supported</p></li>
</ol>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">IosConnection</span><span class="p">(</span><span class="n">BaseDualRpConnection</span><span class="p">):</span>
    <span class="n">os</span> <span class="o">=</span> <span class="s1">&#39;ios&#39;</span>
    <span class="n">platform</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">chassis_type</span> <span class="o">=</span> <span class="s1">&#39;dual_rp&#39;</span>
    <span class="n">state_machine_class</span> <span class="o">=</span> <span class="n">IosDualRpStateMachine</span>
    <span class="n">connection_provider_class</span> <span class="o">=</span> <span class="n">IosDualRpConnectionProvider</span>
    <span class="n">subcommand_list</span> <span class="o">=</span> <span class="n">ServiceList</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="n">IosConnectionSettings</span><span class="p">()</span>
</pre></div>
</div>
<p>Initializes the connection class
It does the below initialization</p>
<ol class="arabic simple">
<li><p>Instantiates the Connection provider</p></li>
<li><p>Creates Settings</p></li>
<li><p>Attaches the service list</p></li>
<li><p>Creates the device Context</p></li>
</ol>
<dl class="py attribute">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseDualRpConnection.DEFAULT_ALIASES">
<span class="sig-name descname"><span class="pre">DEFAULT_ALIASES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['a',</span> <span class="pre">'b']</span></em><a class="headerlink" href="#unicon.bases.routers.connection.BaseDualRpConnection.DEFAULT_ALIASES" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseDualRpConnection.create_subconnections">
<span class="sig-name descname"><span class="pre">create_subconnections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aliases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection.BaseDualRpConnection.create_subconnections" title="Link to this definition">¶</a></dt>
<dd><p>Create and return connections contained on a multi-RP connection.</p>
<p>Child connections use the parent’s state machine class.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>subconnections</strong> – Subconnection objects</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseDualRpConnection.swap_roles">
<span class="sig-name descname"><span class="pre">swap_roles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection.BaseDualRpConnection.swap_roles" title="Link to this definition">¶</a></dt>
<dd><p>Swaps the role of the subconnections
This typically occurs when the switchover service is invoked.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.bases.routers.connection.</span></span><span class="sig-name descname"><span class="pre">BaseMultiRpConnection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tacacs_password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subconnections</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></p>
<p>Base class for Multi rp routers/Switches</p>
<p>This does the following</p>
<ol class="arabic simple">
<li><p>Spawns a connection to each device</p></li>
<li><p>Creates State Machine instance for each device</p></li>
<li><dl class="simple">
<dt>Provides method to connect, initialize the devices</dt><dd><p>and perform services</p>
</dd>
</dl>
</li>
<li><p>Designates role of each device</p></li>
</ol>
<p>Any class inheriting from this class must define the following
class attributes:</p>
<ol class="arabic simple">
<li><p>os = OS for which the implementation intended</p></li>
<li><p>platform = Platform platform of the implementation</p></li>
<li><p>model = Model for which this implementation supports</p></li>
<li><dl class="simple">
<dt>chassis_type = Hardware chassis type single_rp, dual_rp</dt><dd><p>or stack</p>
</dd>
</dl>
</li>
<li><p>state_machine_class = State machine to be used</p></li>
<li><p>subcommand_list =  List of subcommands supported</p></li>
</ol>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">IosConnection</span><span class="p">(</span><span class="n">BaseDualRpConnection</span><span class="p">):</span>
    <span class="n">os</span> <span class="o">=</span> <span class="s1">&#39;ios&#39;</span>
    <span class="n">platform</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">chassis_type</span> <span class="o">=</span> <span class="s1">&#39;dual_rp&#39;</span>
    <span class="n">state_machine_class</span> <span class="o">=</span> <span class="n">IosDualRpStateMachine</span>
    <span class="n">connection_provider_class</span> <span class="o">=</span> <span class="n">IosDualRpConnectionProvider</span>
    <span class="n">subcommand_list</span> <span class="o">=</span> <span class="n">ServiceList</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="n">IosConnectionSettings</span><span class="p">()</span>
</pre></div>
</div>
<p>Initializes the connection class
It does the below initialization</p>
<ol class="arabic simple">
<li><p>Instantiates the Connection provider</p></li>
<li><p>Creates Settings</p></li>
<li><p>Attaches the service list</p></li>
<li><p>Creates the device Context</p></li>
</ol>
<dl class="py property">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection.active">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">active</span></span><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection.active" title="Link to this definition">¶</a></dt>
<dd><p>Returns the active subconnection</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection.chassis_type">
<span class="sig-name descname"><span class="pre">chassis_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection.chassis_type" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection.connect" title="Link to this definition">¶</a></dt>
<dd><p>provides mechanism to connect to the device by
duck typing connection provider’s connect method</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection.connected">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connected</span></span><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection.connected" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection.create_subconnections">
<span class="sig-name descname"><span class="pre">create_subconnections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aliases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection.create_subconnections" title="Link to this definition">¶</a></dt>
<dd><p>Get list of contained connections on a multi-RP connection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection.disconnect">
<span class="sig-name descname"><span class="pre">disconnect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection.disconnect" title="Link to this definition">¶</a></dt>
<dd><p>provides mechanism to disconnect from the device by
duck typing connection provider’s disconnect method</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection.handles_designated">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">handles_designated</span></span><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection.handles_designated" title="Link to this definition">¶</a></dt>
<dd><p>Returns if the the role of each device handle is
designated</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection.hostname">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hostname</span></span><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection.hostname" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection.is_connected">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_connected</span></span><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection.is_connected" title="Link to this definition">¶</a></dt>
<dd><p>Returns the connection status of the device</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection.is_ha">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_ha</span></span><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection.is_ha" title="Link to this definition">¶</a></dt>
<dd><p>Returns True if this is a HA handle</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection.os">
<span class="sig-name descname"><span class="pre">os</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection.os" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection.platform">
<span class="sig-name descname"><span class="pre">platform</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection.platform" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection.settings">
<span class="sig-name descname"><span class="pre">settings</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection.settings" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection.setup_connection">
<span class="sig-name descname"><span class="pre">setup_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection.setup_connection" title="Link to this definition">¶</a></dt>
<dd><p>Spawn subconnections and wait
to each RP</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection.standby">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">standby</span></span><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection.standby" title="Link to this definition">¶</a></dt>
<dd><p>Returns the standby subconnection</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseMultiRpConnection.subconnections">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">subconnections</span></span><a class="headerlink" href="#unicon.bases.routers.connection.BaseMultiRpConnection.subconnections" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseQuadRpConnection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.bases.routers.connection.</span></span><span class="sig-name descname"><span class="pre">BaseQuadRpConnection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection.BaseQuadRpConnection" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#unicon.bases.routers.connection.BaseMultiRpConnection" title="unicon.bases.routers.connection.BaseMultiRpConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseMultiRpConnection</span></code></a></p>
<p>Base class for Quad rp routers/Switches</p>
<p>This does the following</p>
<ol class="arabic simple">
<li><p>Spawns a connection to each rp</p></li>
<li><p>Creates State Machine instance for each device</p></li>
<li><dl class="simple">
<dt>Provides method to connect, initialize the devices</dt><dd><p>and perform services</p>
</dd>
</dl>
</li>
<li><p>Designates role of each device</p></li>
</ol>
<p>Class which are inheriting this class for implementing
any particular platform has to define the following
class attributes</p>
<ol class="arabic simple">
<li><p>os = OS for which the implementation intended</p></li>
<li><p>platform = Platform platform of the implementation</p></li>
<li><p>model = Model for which this implementation supports</p></li>
<li><p>chassis_type = Hardware chassis type Quad</p></li>
<li><p>state_machine_class = State machine to be used</p></li>
<li><p>subcommand_list =  List of subcommand supported</p></li>
</ol>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">IosxeStackConnection</span><span class="p">(</span><span class="n">BaseStackRpConnection</span><span class="p">):</span>
    <span class="n">os</span> <span class="o">=</span> <span class="s1">&#39;iosxe&#39;</span>
    <span class="n">platform</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">chassis_type</span> <span class="o">=</span> <span class="s1">&#39;quad&#39;</span>
    <span class="n">state_machine_class</span> <span class="o">=</span> <span class="n">IosxeQuadRpStateMachine</span>
    <span class="n">connection_provider_class</span> <span class="o">=</span> <span class="n">IosxeQuadRpConnectionProvider</span>
    <span class="n">subcommand_list</span> <span class="o">=</span> <span class="n">ServiceList</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="n">IosxeQuadConnectionSettings</span><span class="p">()</span>
</pre></div>
</div>
<p>Initializes the connection class
It does the below initialization</p>
<ol class="arabic simple">
<li><p>Instantiates the Connection provider</p></li>
<li><p>Creates Settings</p></li>
<li><p>Attaches the service list</p></li>
<li><p>Creates the device Context</p></li>
</ol>
<dl class="py attribute">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseQuadRpConnection.DEFAULT_ALIASES">
<span class="sig-name descname"><span class="pre">DEFAULT_ALIASES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['a',</span> <span class="pre">'b',</span> <span class="pre">'c',</span> <span class="pre">'d']</span></em><a class="headerlink" href="#unicon.bases.routers.connection.BaseQuadRpConnection.DEFAULT_ALIASES" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseQuadRpConnection.active_ics">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">active_ics</span></span><a class="headerlink" href="#unicon.bases.routers.connection.BaseQuadRpConnection.active_ics" title="Link to this definition">¶</a></dt>
<dd><p>Returns the active switch in chassis standby subconnection</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseQuadRpConnection.create_subconnections">
<span class="sig-name descname"><span class="pre">create_subconnections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aliases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection.BaseQuadRpConnection.create_subconnections" title="Link to this definition">¶</a></dt>
<dd><p>Create and return connections contained on a stack connection.</p>
<p>Child connections use the parent’s state machine class.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>subconnections</strong> – Subconnection objects</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseQuadRpConnection.standby_ics">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">standby_ics</span></span><a class="headerlink" href="#unicon.bases.routers.connection.BaseQuadRpConnection.standby_ics" title="Link to this definition">¶</a></dt>
<dd><p>Returns the standby switch in chassis standby subconnection</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseSingleRpConnection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.bases.routers.connection.</span></span><span class="sig-name descname"><span class="pre">BaseSingleRpConnection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tacacs_password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">via</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">playback_record</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">playback_replay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">playback_speed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection.BaseSingleRpConnection" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></p>
<p>Base class for single rp routers</p>
<p>This does the following</p>
<ol class="arabic simple">
<li><p>Spawns a connection to the device</p></li>
<li><p>Creates a State Machine instance for this device</p></li>
<li><dl class="simple">
<dt>Provides method to connect, initialize the devices</dt><dd><p>and perform services</p>
</dd>
</dl>
</li>
</ol>
<p>Class which are inheriting this class for implementing
any particular platform has to define the following
class attributes</p>
<ol class="arabic simple">
<li><p>os = OS for which the implementation intended</p></li>
<li><p>platform = Platform platform of the implementation</p></li>
<li><p>model = Model for which this implementation supports</p></li>
<li><dl class="simple">
<dt>chassis_type = Hardware chassis type single_rp, dual_rp</dt><dd><p>or stack</p>
</dd>
</dl>
</li>
<li><p>state_machine_class = State machine to be used</p></li>
<li><p>subcommand_list =  List of subcommand supported</p></li>
</ol>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">IosConnection</span><span class="p">(</span><span class="n">BaseSingleRpConnection</span><span class="p">):</span>
    <span class="n">os</span> <span class="o">=</span> <span class="s1">&#39;ios&#39;</span>
    <span class="n">platform</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">chassis_type</span> <span class="o">=</span> <span class="s1">&#39;single_rp&#39;</span>
    <span class="n">state_machine_class</span> <span class="o">=</span> <span class="n">IosSingleRpStateMachine</span>
    <span class="n">connection_provider_class</span> <span class="o">=</span> <span class="n">IosSingleRpConnectionProvider</span>
    <span class="n">subcommand_list</span> <span class="o">=</span> <span class="n">ServiceList</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="n">IosConnectionSettings</span><span class="p">()</span>
</pre></div>
</div>
<p>Initializes SingleRP connection</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseSingleRpConnection.chassis_type">
<span class="sig-name descname"><span class="pre">chassis_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#unicon.bases.routers.connection.BaseSingleRpConnection.chassis_type" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseSingleRpConnection.connection_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connection_type</span></span><a class="headerlink" href="#unicon.bases.routers.connection.BaseSingleRpConnection.connection_type" title="Link to this definition">¶</a></dt>
<dd><p>Returns if the is a console or VTY connection</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseSingleRpConnection.disconnect">
<span class="sig-name descname"><span class="pre">disconnect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection.BaseSingleRpConnection.disconnect" title="Link to this definition">¶</a></dt>
<dd><p>provides mechanism to disconnect from the device by
duck typing connection provider’s disconnect method</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseSingleRpConnection.hostname">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hostname</span></span><a class="headerlink" href="#unicon.bases.routers.connection.BaseSingleRpConnection.hostname" title="Link to this definition">¶</a></dt>
<dd><p>Returns this connection’s hostname</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseSingleRpConnection.is_ha">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_ha</span></span><a class="headerlink" href="#unicon.bases.routers.connection.BaseSingleRpConnection.is_ha" title="Link to this definition">¶</a></dt>
<dd><p>Attribute to check if this is a HA connection</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseSingleRpConnection.os">
<span class="sig-name descname"><span class="pre">os</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#unicon.bases.routers.connection.BaseSingleRpConnection.os" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseSingleRpConnection.platform">
<span class="sig-name descname"><span class="pre">platform</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#unicon.bases.routers.connection.BaseSingleRpConnection.platform" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseSingleRpConnection.setup_connection">
<span class="sig-name descname"><span class="pre">setup_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection.BaseSingleRpConnection.setup_connection" title="Link to this definition">¶</a></dt>
<dd><p>Creates a Session and spawns a connection</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseStackRpConnection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.bases.routers.connection.</span></span><span class="sig-name descname"><span class="pre">BaseStackRpConnection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection.BaseStackRpConnection" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#unicon.bases.routers.connection.BaseMultiRpConnection" title="unicon.bases.routers.connection.BaseMultiRpConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseMultiRpConnection</span></code></a></p>
<p>Base class for Stack rp routers/Switches</p>
<p>This does the following</p>
<ol class="arabic simple">
<li><p>Spawns a connection to each rp</p></li>
<li><p>Creates State Machine instance for each device</p></li>
<li><dl class="simple">
<dt>Provides method to connect, initialize the devices</dt><dd><p>and perform services</p>
</dd>
</dl>
</li>
<li><p>Designates role of each device</p></li>
</ol>
<p>Class which are inheriting this class for implementing
any particular platform has to define the following
class attributes</p>
<ol class="arabic simple">
<li><p>os = OS for which the implementation intended</p></li>
<li><p>platform = Platform platform of the implementation</p></li>
<li><p>model = Model for which this implementation supports</p></li>
<li><p>chassis_type = Hardware chassis type stack</p></li>
<li><p>state_machine_class = State machine to be used</p></li>
<li><p>subcommand_list =  List of subcommand supported</p></li>
</ol>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">IosxeStackConnection</span><span class="p">(</span><span class="n">BaseStackRpConnection</span><span class="p">):</span>
    <span class="n">os</span> <span class="o">=</span> <span class="s1">&#39;iosxe&#39;</span>
    <span class="n">platform</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">chassis_type</span> <span class="o">=</span> <span class="s1">&#39;stack&#39;</span>
    <span class="n">state_machine_class</span> <span class="o">=</span> <span class="n">IosxeStackRpStateMachine</span>
    <span class="n">connection_provider_class</span> <span class="o">=</span> <span class="n">IosxeStackRpConnectionProvider</span>
    <span class="n">subcommand_list</span> <span class="o">=</span> <span class="n">ServiceList</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="n">IosxeConnectionSettings</span><span class="p">()</span>
</pre></div>
</div>
<p>Initializes the connection class
It does the below initialization</p>
<ol class="arabic simple">
<li><p>Instantiates the Connection provider</p></li>
<li><p>Creates Settings</p></li>
<li><p>Attaches the service list</p></li>
<li><p>Creates the device Context</p></li>
</ol>
<dl class="py attribute">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseStackRpConnection.DEFAULT_ALIASES">
<span class="sig-name descname"><span class="pre">DEFAULT_ALIASES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'peer_{}'</span></em><a class="headerlink" href="#unicon.bases.routers.connection.BaseStackRpConnection.DEFAULT_ALIASES" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection.BaseStackRpConnection.create_subconnections">
<span class="sig-name descname"><span class="pre">create_subconnections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aliases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection.BaseStackRpConnection.create_subconnections" title="Link to this definition">¶</a></dt>
<dd><p>Create and return connections contained on a stack connection.</p>
<p>Child connections use the parent’s state machine class.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>subconnections</strong> – Subconnection objects</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)">list</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-unicon.bases.routers.connection_provider">
<span id="unicon-bases-routers-connection-provider-module"></span><h2>unicon.bases.routers.connection_provider module<a class="headerlink" href="#module-unicon.bases.routers.connection_provider" title="Link to this heading">¶</a></h2>
<dl>
<dt>Module:</dt><dd><p>unicon.bases.routers.connection_provider</p>
</dd>
<dt>Author:</dt><dd><p>ATS Team (<a class="reference external" href="mailto:ats-dev&#37;&#52;&#48;cisco&#46;com">ats-dev<span>&#64;</span>cisco<span>&#46;</span>com</a>)</p>
</dd>
<dt>Description:</dt><dd><p>The connection class for any platform depends on connection provider
class for providing two essential methods, namely, <code class="xref py py-obj docutils literal notranslate"><span class="pre">connect</span></code> and
<code class="xref py py-obj docutils literal notranslate"><span class="pre">disconnect</span></code>. As the name suggests their role is to let the application
connect and disconnect to the device.</p>
<p>Though they may contain any number of methods but connect and disconnect
are their only public APIs.</p>
<p>This module contains connection providers classes for all types of
chassis, e.g Single RP, Dual RP etc. And it may expand in future based
on the needs of coming platforms. The implementations are provided here
are targeted for generic platform which means that it can/should be
used as starting point for writing connection providers for other
platforms, though this is just a recommendation.</p>
</dd>
<dt>Dependencies:</dt><dd><p>connection providers are passed the whole connection object. By the time
it is instantiated, it is also imperative that, our connection class
contains the following objects:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">spawn</span> <span class="n">objects</span> <span class="n">are</span> <span class="n">created</span><span class="o">.</span>
<span class="o">*</span> <span class="n">state</span> <span class="n">machine</span> <span class="n">objects</span> <span class="n">are</span> <span class="n">created</span><span class="o">.</span>
</pre></div>
</div>
<p>It is also expected that all the other vital attributes are present like
settings, logs etc.</p>
</dd>
<dt>Lifecycle:</dt><dd><p>Connection Providers can only be instantiated after the following steps
are completed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">Creation</span> <span class="n">of</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">spawn</span> <span class="n">classes</span><span class="o">.</span>
<span class="o">*</span> <span class="n">Creation</span> <span class="n">of</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">state</span> <span class="n">machines</span><span class="o">.</span>
</pre></div>
</div>
</dd>
<dt>Mutations:</dt><dd><p>The caller of connect and disconnect method is <code class="xref py py-obj docutils literal notranslate"><span class="pre">Connection</span></code>. <code class="xref py py-obj docutils literal notranslate"><span class="pre">Connection</span></code>
Provider classes are passed the parent object (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Connection</span></code>) so that
some mutation in the parent can be performed. Typical parent attributes
which are touched upon by connection providers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">handles_designated</span>
</pre></div>
</div>
</dd>
<dt>Exceptions:</dt><dd><p>All the classes in this module should raise ConnectionError, in case
exceptions are caught.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Examples are provided in class documentation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseCommonRpConnectionProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.bases.routers.connection_provider.</span></span><span class="sig-name descname"><span class="pre">BaseCommonRpConnectionProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseCommonRpConnectionProvider" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Connection provider with common methods for single and dual RP</p>
<p>Initializes the connection provider.</p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseCommonRpConnectionProvider.execute_init_commands">
<span class="sig-name descname"><span class="pre">execute_init_commands</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">standby</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseCommonRpConnectionProvider.execute_init_commands" title="Link to this definition">¶</a></dt>
<dd><p>Executes the initialization commands on the device.
On standy don’t execute configure commands.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseCommonRpConnectionProvider.get_connection_dialog">
<span class="sig-name descname"><span class="pre">get_connection_dialog</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseCommonRpConnectionProvider.get_connection_dialog" title="Link to this definition">¶</a></dt>
<dd><p>Creates and returns Dialog, for processing device connection</p>
<p>By default connection provided uses state machine’s dialog for any
connection processing. If any additional dialog required has to
be updated here</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseCommonRpConnectionProvider.learn_tokens">
<span class="sig-name descname"><span class="pre">learn_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">con</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseCommonRpConnectionProvider.learn_tokens" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseCommonRpConnectionProvider.set_init_commands">
<span class="sig-name descname"><span class="pre">set_init_commands</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseCommonRpConnectionProvider.set_init_commands" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseDualRpConnectionProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.bases.routers.connection_provider.</span></span><span class="sig-name descname"><span class="pre">BaseDualRpConnectionProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseDualRpConnectionProvider" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider" title="unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseMultiRpConnectionProvider</span></code></a></p>
<p>Initializes the connection provider.</p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseDualRpConnectionProvider.designate_handles">
<span class="sig-name descname"><span class="pre">designate_handles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseDualRpConnectionProvider.designate_handles" title="Link to this definition">¶</a></dt>
<dd><p>Identifies the Role of each handle and designates if
it is active or standby</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.bases.routers.connection_provider.</span></span><span class="sig-name descname"><span class="pre">BaseMultiRpConnectionProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#unicon.bases.routers.connection_provider.BaseCommonRpConnectionProvider" title="unicon.bases.routers.connection_provider.BaseCommonRpConnectionProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCommonRpConnectionProvider</span></code></a></p>
<p>Connection Provider for Dual RP
The connection class for any platform depends on connection provider
class for providing two essential methods, namely, <a class="reference internal" href="#unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.connect" title="unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.connect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connect</span></code></a> and
<a class="reference internal" href="#unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.disconnect" title="unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.disconnect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disconnect</span></code></a>. As the name suggests their role is to let the application
connect and disconnect to the device.</p>
<p>Initializes the connection provider.</p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.assign_ha_mode">
<span class="sig-name descname"><span class="pre">assign_ha_mode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.assign_ha_mode" title="Link to this definition">¶</a></dt>
<dd><p>Gets the HA mode for this chassis</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.connect" title="Link to this definition">¶</a></dt>
<dd><p>Connects, initializes and designates handle</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.designate_handles">
<span class="sig-name descname"><span class="pre">designate_handles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.designate_handles" title="Link to this definition">¶</a></dt>
<dd><p>Identifies the Role of each handle and designates if
it is active or standby</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.disconnect">
<span class="sig-name descname"><span class="pre">disconnect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.disconnect" title="Link to this definition">¶</a></dt>
<dd><p>Disconnect the connection to both RP’s</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.establish_connection">
<span class="sig-name descname"><span class="pre">establish_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.establish_connection" title="Link to this definition">¶</a></dt>
<dd><p>Reads the device state and brings both RP to the right state</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.init_active">
<span class="sig-name descname"><span class="pre">init_active</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.init_active" title="Link to this definition">¶</a></dt>
<dd><p>Performs active RP initialization</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.init_standby">
<span class="sig-name descname"><span class="pre">init_standby</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.init_standby" title="Link to this definition">¶</a></dt>
<dd><p>Performs Standby RP initialization</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.learn_hostname">
<span class="sig-name descname"><span class="pre">learn_hostname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subconnection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.learn_hostname" title="Link to this definition">¶</a></dt>
<dd><p>Update the learned hostname if learn is enabled.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.learn_tokens">
<span class="sig-name descname"><span class="pre">learn_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subconnection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.learn_tokens" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.unlock_standby">
<span class="sig-name descname"><span class="pre">unlock_standby</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider.unlock_standby" title="Link to this definition">¶</a></dt>
<dd><p>Unlocks standby handle</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseQuadRpConnectionProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.bases.routers.connection_provider.</span></span><span class="sig-name descname"><span class="pre">BaseQuadRpConnectionProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseQuadRpConnectionProvider" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider" title="unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseMultiRpConnectionProvider</span></code></a></p>
<p>Connection Provider for Quad device
The connection class for any platform depends on connection provider
class for providing two essential methods, namely, <code class="xref py py-obj docutils literal notranslate"><span class="pre">connect</span></code> and
<code class="xref py py-obj docutils literal notranslate"><span class="pre">disconnect</span></code>. As the name suggests their role is to let the application
connect and disconnect to the device.</p>
<p>Initializes the connection provider.</p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseQuadRpConnectionProvider.designate_handles">
<span class="sig-name descname"><span class="pre">designate_handles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseQuadRpConnectionProvider.designate_handles" title="Link to this definition">¶</a></dt>
<dd><p>Identifies the Role of each handle and designates if
it is active, standby, active_ics or standby_ics</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseQuadRpConnectionProvider.establish_connection">
<span class="sig-name descname"><span class="pre">establish_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseQuadRpConnectionProvider.establish_connection" title="Link to this definition">¶</a></dt>
<dd><p>Reads the device state and brings both RP to the right state</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseQuadRpConnectionProvider.is_interactive">
<span class="sig-name descname"><span class="pre">is_interactive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseQuadRpConnectionProvider.is_interactive" title="Link to this definition">¶</a></dt>
<dd><p>Check whether a connection is interactive</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.bases.routers.connection_provider.</span></span><span class="sig-name descname"><span class="pre">BaseSingleRpConnectionProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#unicon.bases.routers.connection_provider.BaseCommonRpConnectionProvider" title="unicon.bases.routers.connection_provider.BaseCommonRpConnectionProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCommonRpConnectionProvider</span></code></a></p>
<p>Connection provider for single RP</p>
<p>The connection class for any platform depends on connection provider
class for providing two essential methods, namely, <a class="reference internal" href="#unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider.connect" title="unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider.connect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connect</span></code></a> and
<a class="reference internal" href="#unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider.disconnect" title="unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider.disconnect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disconnect</span></code></a>. As the name suggests their role is to let the application
connect to and disconnect from the device.</p>
<p>Initializes the connection provider.</p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider.connect" title="Link to this definition">¶</a></dt>
<dd><p>Performs the device connection and initialization</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider.disconnect">
<span class="sig-name descname"><span class="pre">disconnect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider.disconnect" title="Link to this definition">¶</a></dt>
<dd><p>Disconnect from the device</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider.establish_connection">
<span class="sig-name descname"><span class="pre">establish_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider.establish_connection" title="Link to this definition">¶</a></dt>
<dd><p>Reads the device state and brings it to the right state</p>
<p>Note: Passive hostname learning is enabled by default and will
give a warning if the device hostname does not match the learned
hostname. The learned hostname is only used if user specifies
<code class="xref py py-obj docutils literal notranslate"><span class="pre">learn_hostname=True</span></code>. A timeout may occur if the prompt pattern
uses the hostname, the timeout error includes the hostname and
a hint to check the hostname if a mismatch was detected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider.init_handle">
<span class="sig-name descname"><span class="pre">init_handle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider.init_handle" title="Link to this definition">¶</a></dt>
<dd><p>bring device handle to enable state</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider.learn_hostname">
<span class="sig-name descname"><span class="pre">learn_hostname</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider.learn_hostname" title="Link to this definition">¶</a></dt>
<dd><p>Update the learned hostname if learn is enabled.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider.learn_tokens">
<span class="sig-name descname"><span class="pre">learn_tokens</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseSingleRpConnectionProvider.learn_tokens" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseStackRpConnectionProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.bases.routers.connection_provider.</span></span><span class="sig-name descname"><span class="pre">BaseStackRpConnectionProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseStackRpConnectionProvider" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider" title="unicon.bases.routers.connection_provider.BaseMultiRpConnectionProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseMultiRpConnectionProvider</span></code></a></p>
<p>Connection Provider for Stack
The connection class for any platform depends on connection provider
class for providing two essential methods, namely, <a class="reference internal" href="#unicon.bases.routers.connection_provider.BaseStackRpConnectionProvider.connect" title="unicon.bases.routers.connection_provider.BaseStackRpConnectionProvider.connect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connect</span></code></a> and
<code class="xref py py-obj docutils literal notranslate"><span class="pre">disconnect</span></code>. As the name suggests their role is to let the application
connect and disconnect to the device.</p>
<p>Initializes the connection provider.</p>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseStackRpConnectionProvider.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseStackRpConnectionProvider.connect" title="Link to this definition">¶</a></dt>
<dd><p>Connects, initializes and designates handle</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.connection_provider.BaseStackRpConnectionProvider.designate_handles">
<span class="sig-name descname"><span class="pre">designate_handles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.connection_provider.BaseStackRpConnectionProvider.designate_handles" title="Link to this definition">¶</a></dt>
<dd><p>Identifies the Role of each handle and designates if
it is active or standby</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-unicon.bases.routers.services">
<span id="unicon-bases-routers-services-module"></span><h2>unicon.bases.routers.services module<a class="headerlink" href="#module-unicon.bases.routers.services" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>Module:</dt><dd><p>unicon.bases.routers.services</p>
</dd>
<dt>Authors:</dt><dd><p>ATS TEAM (<a class="reference external" href="mailto:ats-dev&#37;&#52;&#48;cisco&#46;com">ats-dev<span>&#64;</span>cisco<span>&#46;</span>com</a>, CSG( STEP) - India)</p>
</dd>
<dt>Description:</dt><dd><p>Contains service base classes related to routers</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="unicon.bases.routers.services.BaseService">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">unicon.bases.routers.services.</span></span><span class="sig-name descname"><span class="pre">BaseService</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.services.BaseService" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for all router services.</p>
<p>It include 4 execution steps, which are .</p>
<ul class="simple">
<li><p>pre_service which generally check for the pre-requisite for
particular service. One of them will be if connection is established,
before try to execute a service on the connection.</p></li>
<li><p>call_service which includes the actual service implementation in it.
and set the value for self.result, which will be used to process the
final result of service.</p></li>
<li><p>post_service includes reverting the device to earlier state.
One of them will be bringing the device to end state of that service after
service execution.</p></li>
<li><p>get_service_result will verify the self.result (response of each
service) with service error_pattern and timeout_pattern. If self.result
doesn’t match any of the above pattern, service result will be
considered pass or it  raises SubCommandFailure exception.</p></li>
</ul>
<dl>
<dt>Example ::</dt><dd><p>Implement service which issue given command and device and get the
return response from device.</p>
<p>from unicon.bases.routers.services import BaseService</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">RunCommand</span><span class="p">(</span><span class="n">BaseService</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>  <span class="n">connection</span><span class="p">,</span>  <span class="n">context</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connection</span> <span class="o">=</span> <span class="n">connection</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span> <span class="o">=</span> <span class="n">context</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timeout_pattern</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Timeout occurred&#39;</span><span class="p">,</span> <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error_pattern</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;my command error&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_state</span> <span class="o">=</span> <span class="s1">&#39;enable&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_state</span> <span class="o">=</span> <span class="s1">&#39;enable&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pre_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># Check if connection is established</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">is_connected</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">reconnect</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ConnectionError</span><span class="p">(</span><span class="s2">&quot;Connection is not established to device&quot;</span><span class="p">)</span>

        <span class="c1"># Bring the device to required state to issue a command.</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">state_machine</span><span class="o">.</span><span class="n">go_to</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start_state</span><span class="p">,</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">spawn</span><span class="p">,</span>
                                            <span class="n">context</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">context</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">post_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># Bring the device back to end state.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">state_machine</span><span class="o">.</span><span class="n">go_to</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end_state</span><span class="p">,</span>
                                            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">spawn</span><span class="p">,</span>
                                            <span class="n">context</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">context</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">call_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># Command to issue on device is `command`</span>
        <span class="n">con</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection</span>
        <span class="n">con</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;+++ run_command +++ &quot;</span><span class="p">)</span>
        <span class="n">con</span><span class="o">.</span><span class="n">spawn</span><span class="o">.</span><span class="n">sendline</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="c1"># self.result attribute will be used at result validation.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">spawn</span><span class="o">.</span><span class="n">expect</span><span class="p">(</span><span class="o">.*</span><span class="c1">#?)</span>

    <span class="k">def</span> <span class="nf">get_service_result</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> – Device connection object</p></li>
<li><p><strong>context</strong> – connection context</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.services.BaseService.add_error_patterns">
<span class="sig-name descname"><span class="pre">add_error_patterns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'extend'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.services.BaseService.add_error_patterns" title="Link to this definition">¶</a></dt>
<dd><p>Allow user to modify error_pattern.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.services.BaseService.add_pattern">
<span class="sig-name descname"><span class="pre">add_pattern</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'extend'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.services.BaseService.add_pattern" title="Link to this definition">¶</a></dt>
<dd><p>Procedure to add/modify/remove error patterns.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.services.BaseService.add_timeout_patterns">
<span class="sig-name descname"><span class="pre">add_timeout_patterns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'extend'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.services.BaseService.add_timeout_patterns" title="Link to this definition">¶</a></dt>
<dd><p>Allow user to modify timeout_pattern.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.services.BaseService.call_service">
<span class="sig-name descname"><span class="pre">call_service</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.services.BaseService.call_service" title="Link to this definition">¶</a></dt>
<dd><p>Actual services implementation code</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.services.BaseService.get_handle">
<span class="sig-name descname"><span class="pre">get_handle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.services.BaseService.get_handle" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.services.BaseService.get_service_result">
<span class="sig-name descname"><span class="pre">get_service_result</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.services.BaseService.get_service_result" title="Link to this definition">¶</a></dt>
<dd><p>Common result procedure for all Services</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.services.BaseService.get_sm">
<span class="sig-name descname"><span class="pre">get_sm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.services.BaseService.get_sm" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.services.BaseService.get_spawn">
<span class="sig-name descname"><span class="pre">get_spawn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.services.BaseService.get_spawn" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.services.BaseService.log_service_call">
<span class="sig-name descname"><span class="pre">log_service_call</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.services.BaseService.log_service_call" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.services.BaseService.platform_check">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">platform_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.services.BaseService.platform_check" title="Link to this definition">¶</a></dt>
<dd><p>Verifies whether the service is applicable for a given platform</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>If the service is applicable for a given platform
False: If service is not applicable for the given platform</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>True</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.services.BaseService.post_service">
<span class="sig-name descname"><span class="pre">post_service</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.services.BaseService.post_service" title="Link to this definition">¶</a></dt>
<dd><p>Common post_service procedure for all Services</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.services.BaseService.pre_service">
<span class="sig-name descname"><span class="pre">pre_service</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.services.BaseService.pre_service" title="Link to this definition">¶</a></dt>
<dd><p>Common pre_service procedure for all Services</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.services.BaseService.service_dialog">
<span class="sig-name descname"><span class="pre">service_dialog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">service_dialog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matched_retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matched_retry_sleep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.services.BaseService.service_dialog" title="Link to this definition">¶</a></dt>
<dd><p>Form dialog for required service state</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.services.BaseService.trim_device_output">
<span class="sig-name descname"><span class="pre">trim_device_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.services.BaseService.trim_device_output" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="unicon.bases.routers.services.BaseService.verify_error_pattern">
<span class="sig-name descname"><span class="pre">verify_error_pattern</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">error_pat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unicon.bases.routers.services.BaseService.verify_error_pattern" title="Link to this definition">¶</a></dt>
<dd><p>Procedure to which matches the error pattern.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-unicon.bases.routers">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-unicon.bases.routers" title="Link to this heading">¶</a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="unicon.bases.linux.html" class="btn btn-neutral float-left" title="unicon.bases.linux package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="unicon.core.html" class="btn btn-neutral float-right" title="unicon.core package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014-2020, Cisco Systems Inc..
      <span class="lastupdated">Last updated on Dec 27, 2024.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>