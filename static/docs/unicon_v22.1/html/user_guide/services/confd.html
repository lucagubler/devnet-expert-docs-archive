

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ConfD &mdash; Unicon Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=82a976d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=1045b1b5" />

  
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="FXOS/FTD" href="ftd.html" />
    <link rel="prev" title="CIMC" href="cimc.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Unicon Plugins
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supported_platforms.html">Supported Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connection.html">Connection Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../passwords.html">Password Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proxy.html">Connection Through Proxies</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API/Services</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="what_are_services.html">What Are Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="generic_services.html">Common Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="generic_services.html#dual-rp-services">Dual RP Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="generic_services.html#stack-rp-services">Stack RP Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="generic_services.html#quad-rp-services">Quad RP Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="aci.html">ACI</a></li>
<li class="toctree-l2"><a class="reference internal" href="asa_fp2k.html">ASA/FP2K</a></li>
<li class="toctree-l2"><a class="reference internal" href="cimc.html">CIMC</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ConfD</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#execute">execute</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configure">configure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cli-style">cli_style</a></li>
<li class="toctree-l3"><a class="reference internal" href="#command">command</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reload">reload</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ftd.html">FXOS/FTD</a></li>
<li class="toctree-l2"><a class="reference internal" href="fxos.html">FXOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="fxos_fp4k.html">FXOS/FP4K</a></li>
<li class="toctree-l2"><a class="reference internal" href="fxos_fp9k.html">FXOS/FP9K</a></li>
<li class="toctree-l2"><a class="reference internal" href="gaia.html">Check Point Gaia OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="iosxe.html">IOSXE</a></li>
<li class="toctree-l2"><a class="reference internal" href="iosxe_c9800_ewc_ap.html">IOSXE/C9800/EWC_AP</a></li>
<li class="toctree-l2"><a class="reference internal" href="iosxr.html">IOSXR</a></li>
<li class="toctree-l2"><a class="reference internal" href="junos.html">Junos</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux.html">Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="nso.html">NSO</a></li>
<li class="toctree-l2"><a class="reference internal" href="nxos.html">NXOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="nxos_mds.html">NXOS/MDS</a></li>
<li class="toctree-l2"><a class="reference internal" href="sdwan.html">SDWAN</a></li>
<li class="toctree-l2"><a class="reference internal" href="sros.html">SROS</a></li>
<li class="toctree-l2"><a class="reference internal" href="staros.html">StarOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="vos.html">VOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="windows.html">Windows</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="service_dialogs.html">Dialog Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robot/index.html">RobotFramework Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../playback/index.html">Playback</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guide/plugins.html">Plugin Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guide/service_framework.html">How to write  a new Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guide/eal.html">Expect Abstraction Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guide/statemachine.html">State Machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guide/unittests.html">Develop &amp; Run Unittests</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/modules.html">Unicon API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog/index.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog_plugins/index.html">Plugins Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Unicon Plugins</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">API/Services</a></li>
      <li class="breadcrumb-item active">ConfD</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="confd">
<h1>ConfD<a class="headerlink" href="#confd" title="Link to this heading">¶</a></h1>
<p>This section lists the services which are supported with ConfD based CLI. This plugin
can be used with NSO, CSP, ESC and NFVIS. For the CSP, ESC and NFVIS plugins, specify the
platform as <code class="xref py py-obj docutils literal notranslate"><span class="pre">csp</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">esc</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">nfvis</span></code> respectively.</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="#execute">execute</a></p></li>
<li><p><a class="reference external" href="#configure">configure</a></p></li>
<li><p><a class="reference external" href="#cli-style">cli_style</a> (ConfD only)</p></li>
<li><p><a class="reference external" href="#command">command</a></p></li>
<li><p><a class="reference external" href="#reload">reload</a> (CSP only)</p></li>
</ul>
</div></blockquote>
<p>The following generic services are also available:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="generic_services.html#send">send</a></p></li>
<li><p><a class="reference external" href="generic_services.html#sendline">sendline</a></p></li>
<li><p><a class="reference external" href="generic_services.html#expect">expect</a></p></li>
<li><p><a class="reference external" href="generic_services.html#log-user">log_user</a></p></li>
</ul>
</div></blockquote>
<p><strong>Chatty terminal ignore</strong></p>
<p>It is currently not possible to disable terminal logging like in IOS. To enable the ConfD plugin
to ignore ‘chatty terminal’ output, set the <code class="docutils literal notranslate"><span class="pre">IGNORE_CHATTY_TERM_OUTPUT</span></code> boolean setting for
the connection to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dev</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="n">dev</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">IGNORE_CHATTY_TERM_OUTPUT</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">dev</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;cmd&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Error pattern handling</strong></p>
<p>If you want to execute commands that could fail to execute properly and you want to verify
this automatically using a specific error pattern, you can specify the <code class="xref py py-obj docutils literal notranslate"><span class="pre">error_pattern</span></code>
option with a list of regular expressions to match on the output. This option is available
for the execute, configure, and command service.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;show command error&#39;</span><span class="p">,</span> <span class="n">error_pattern</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;----\^&#39;</span><span class="p">])</span>

<span class="go">2017-07-20T09:47:34: %UNICON-INFO: +++ execute  +++</span>

<span class="go">2017-07-20T09:47:34: %UNICON-INFO: +++ command  +++</span>
<span class="go">show command error</span>
<span class="go">-----------------------------^</span>
<span class="go">syntax error: unknown argument</span>
<span class="go">user@ncs&gt; Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
  File <span class="nb">&quot;/projects/unicon/src/unicon/bases/routers/services.py&quot;</span>, line <span class="m">193</span>, in <span class="n">__call__</span>
<span class="w">    </span><span class="bp">self</span><span class="o">.</span><span class="n">call_service</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
  File <span class="nb">&quot;/projects/unicon/src/unicon/plugins/nso/service_implementation.py&quot;</span>, line <span class="m">262</span>, in <span class="n">call_service</span>
<span class="w">    </span><span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">reply</span><span class="o">=</span><span class="n">reply</span><span class="p">,</span> <span class="n">error_pattern</span><span class="o">=</span><span class="n">error_pattern</span><span class="p">)</span>
  File <span class="nb">&quot;/projects/unicon/src/unicon/bases/routers/services.py&quot;</span>, line <span class="m">197</span>, in <span class="n">__call__</span>
<span class="w">    </span><span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_service_result</span><span class="p">()</span>
  File <span class="nb">&quot;/projects/unicon/src/unicon/bases/routers/services.py&quot;</span>, line <span class="m">180</span>, in <span class="n">get_service_result</span>
<span class="w">    </span><span class="bp">self</span><span class="o">.</span><span class="n">match_list</span><span class="p">)</span>
<span class="gr">unicon.core.errors.SubCommandFailure</span>: <span class="n">(&#39;sub_command failure, patterns matched in the output:&#39;, [&#39;----\\^&#39;])</span>
<span class="gp">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>If you want to avoid errors being detected with any command, you can pass an empty list to the settings object.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyats.topology</span> <span class="kn">import</span> <span class="n">loader</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tb</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;testbed.yaml&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ncs</span> <span class="o">=</span> <span class="n">tb</span><span class="o">.</span><span class="n">devices</span><span class="o">.</span><span class="n">ncs</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ncs</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">via</span><span class="o">=</span><span class="s1">&#39;cli&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ncs</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">ERROR_PATTERN</span><span class="o">=</span><span class="p">[]</span>
</pre></div>
</div>
<p>The default error patterns can be seen by printing the settings.ERROR_PATTERN attribute.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ncs</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">ERROR_PATTERN</span>
<span class="go">[&#39;Error:&#39;, &#39;syntax error&#39;, &#39;Aborted&#39;, &#39;result false&#39;]</span>
</pre></div>
</div>
<p>Alternatively, you can pass an empty list when executing a command to avoid error pattern checking.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;show command error&#39;</span><span class="p">,</span> <span class="n">error_pattern</span><span class="o">=</span><span class="p">[])</span>
</pre></div>
</div>
<section id="execute">
<h2>execute<a class="headerlink" href="#execute" title="Link to this heading">¶</a></h2>
<p>This service is used to execute arbitrary commands on the device. It is
intended to execute non-interactive commands. In case you want to execute
an command that uses interactive responses use <code class="xref py py-obj docutils literal notranslate"><span class="pre">reply</span></code> option to specify
the Dialog object that handles the responses.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>command</p></td>
<td><p>str, list</p></td>
<td><p>command(s) to execute</p></td>
</tr>
<tr class="row-odd"><td><p>style</p></td>
<td><p>str</p></td>
<td><p>(optional) CLI style (‘cisco’ or ‘juniper’)</p></td>
</tr>
<tr class="row-even"><td><p>timeout</p></td>
<td><p>int (default 60 sec)</p></td>
<td><p>(optional) timeout value for the overall interaction.</p></td>
</tr>
<tr class="row-odd"><td><p>reply</p></td>
<td><p>Dialog</p></td>
<td><p>(optional) additional dialog object</p></td>
</tr>
<tr class="row-even"><td><p>error_pattern</p></td>
<td><p>list</p></td>
<td><p>(optional) list of regex expressions to detect errors</p></td>
</tr>
</tbody>
</table>
<p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">execute</span></code> service returns the output of the command in string format if a single command
is passed. If multiple commands are passed, the returned data is a dictionary with the commands
as keys and the responses as values. You can expect a TimeoutError, StateMachineError or
SubCommandFailure error in case anything goes wrong.</p>
<p>This service can be used in ‘exec’ and ‘config’ modes of the CLI. The plugin will
automatically detect CLI state changes. You can use ‘config’, ‘exit’, ‘end’ and ‘switch cli’
commands to switch CLI state or CLI style, this will be detected automatically.</p>
<p>When you execute a command using the ‘execute’ service, the CLI style that is active before
execution will be restored at the end of the execution. This means that you cannot use
the <code class="xref py py-obj docutils literal notranslate"><span class="pre">execute</span></code> service to switch styles, use the <code class="xref py py-obj docutils literal notranslate"><span class="pre">cli_style</span></code> service for to change CLI style.
Executing the command <code class="xref py py-obj docutils literal notranslate"><span class="pre">switch</span> <span class="pre">cli</span></code> by itself will raise an exception and point to cli_style.
You <em>can</em> use the ‘switch cli’ command as part of a series of commands to be executed.</p>
<p>The commands to execute can be specified as a single command, a newline separated list of
commands, or a list of commands.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">ncs</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;show services&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="go">&lt;class &#39;str&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">ncs</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;show services</span><span class="se">\n</span><span class="s1">show devices list&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cisco&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="go">&lt;class &#39;dict&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">ncs</span><span class="o">.</span><span class="n">execute</span><span class="p">([</span><span class="s1">&#39;show services&#39;</span><span class="p">,</span><span class="s1">&#39;show devices list&#39;</span><span class="p">],</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cisco&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="go">&lt;class &#39;dict&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt;</span>
</pre></div>
</div>
</section>
<section id="configure">
<h2>configure<a class="headerlink" href="#configure" title="Link to this heading">¶</a></h2>
<p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">configure</span></code> service is used to perform configuration on the CLI. It will change
to configuration mode, execute the configuration command(s), commit the configuration
and change state back to exec mode.  If a failure is detected, the CLI state is changed
to exec mode, configuration changes are discarded and a <code class="xref py py-obj docutils literal notranslate"><span class="pre">SubCommandFailure</span> <span class="pre">error</span></code> is raised.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>command</p></td>
<td><p>str, list</p></td>
<td><p>configuration command(s) to execute</p></td>
</tr>
<tr class="row-odd"><td><p>timeout</p></td>
<td><p>int (default 60 sec)</p></td>
<td><p>(optional) timeout value for the overall interaction.</p></td>
</tr>
<tr class="row-even"><td><p>reply</p></td>
<td><p>Dialog</p></td>
<td><p>(optional) additional dialog object</p></td>
</tr>
<tr class="row-odd"><td><p>error_pattern</p></td>
<td><p>list</p></td>
<td><p>(optional) list of regex expressions to detect errors</p></td>
</tr>
</tbody>
</table>
<p>The configuration commands to execute can be specified as a single command, a newline separated
list of commands or a list of commands. The <code class="xref py py-obj docutils literal notranslate"><span class="pre">configure</span></code> service returns the output data in a
dictionary with the commands as keys and the responses as values. A dictionary is always returned
because the ‘commit’ command is always part of the execution. The <code class="xref py py-obj docutils literal notranslate"><span class="pre">commit</span></code> command is added to
the commands automatically if it is not provided as part of the configuration command.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ncs</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="s1">&#39;services l3vpn foo endpoint PE1 pe-interface 0/0/0/1 ce CE1 ce-interface 0/1 ce-address 1.1.1.1 pe-address 1.1.1.2&#39;</span><span class="p">)</span>

<span class="n">config</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">services l3vpn foo endpoint PE1</span>
<span class="s2">pe-interface 0/0/0/1</span>
<span class="s2">ce CE1 ce-interface 0/1</span>
<span class="s2">ce-address 1.1.1.1</span>
<span class="s2">pe-address 1.1.1.2</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">ncs</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="cli-style">
<h2>cli_style<a class="headerlink" href="#cli-style" title="Link to this heading">¶</a></h2>
<p>This service is used to switch the CLI style between Cisco and Juniper styles. This service will
execute ‘switch cli’ if the style needs to be changed. This is only supported by the ConfD main
plugin and is intended for NSO.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>style</p></td>
<td><p>str</p></td>
<td><p>CLI style ‘cisco’ or ‘juniper’</p></td>
</tr>
</tbody>
</table>
<p>The style argument is a string, at minimum ‘c’ or ‘j’ should be passed, using
‘cisco’ and ‘juniper’ is also supported. You can switch CLI style in both exec and config modes.</p>
</section>
<section id="command">
<h2>command<a class="headerlink" href="#command" title="Link to this heading">¶</a></h2>
<p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">command</span></code> service is used by the execute and configure services to execute a single command
on the CLI. You can use this service but the <code class="xref py py-obj docutils literal notranslate"><span class="pre">execute</span></code> service is the preferred method.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>command</p></td>
<td><p>str</p></td>
<td><p>command to execute</p></td>
</tr>
<tr class="row-odd"><td><p>timeout</p></td>
<td><p>int (default 60 sec)</p></td>
<td><p>(optional) timeout value for the overall interaction.</p></td>
</tr>
<tr class="row-even"><td><p>reply</p></td>
<td><p>Dialog</p></td>
<td><p>(optional) additional dialog object</p></td>
</tr>
<tr class="row-odd"><td><p>error_pattern</p></td>
<td><p>list</p></td>
<td><p>(optional) list of regex expressions to detect errors</p></td>
</tr>
</tbody>
</table>
<p>State changes in CLI will be detected, but to execute a command in a specific CLI style,
you should use the <code class="xref py py-obj docutils literal notranslate"><span class="pre">execute</span></code> service with the <code class="xref py py-obj docutils literal notranslate"><span class="pre">style</span></code> option.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ncs</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="s2">&quot;show services&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="reload">
<h2>reload<a class="headerlink" href="#reload" title="Link to this heading">¶</a></h2>
<p>Reload service for the ConfD plugin. Only supported with the CSP series. When used on the console
(i.e. via CIMC console), will return the reboot log. Console sessions will be detected automatically
based on the logs observed during the initial connection.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>reload_command</p></td>
<td><p>str</p></td>
<td><p>command to execute to reload the device</p></td>
</tr>
<tr class="row-odd"><td><p>timeout</p></td>
<td><p>int (default 600 sec)</p></td>
<td><p>(optional) timeout value for the overall interaction.</p></td>
</tr>
<tr class="row-even"><td><p>reply</p></td>
<td><p>Dialog</p></td>
<td><p>(optional) additional dialog object</p></td>
</tr>
</tbody>
</table>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># When running on the console, the boot log will be returned.</span>
<span class="n">boot_log</span> <span class="o">=</span> <span class="n">csp</span><span class="o">.</span><span class="n">reload</span><span class="p">()</span>
</pre></div>
</div>
<p><em>Section author: Dave Wapstra &lt;<a class="reference external" href="mailto:dwapstra&#37;&#52;&#48;cisco&#46;com">dwapstra<span>&#64;</span>cisco<span>&#46;</span>com</a>&gt;</em></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cimc.html" class="btn btn-neutral float-left" title="CIMC" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ftd.html" class="btn btn-neutral float-right" title="FXOS/FTD" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014-2020, Cisco Systems Inc..
      <span class="lastupdated">Last updated on Dec 27, 2024.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>