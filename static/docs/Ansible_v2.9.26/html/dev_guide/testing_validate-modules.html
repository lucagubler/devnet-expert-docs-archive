

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>validate-modules &mdash; Ansible Documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://docs.ansible.com/ansible/latest/dev_guide/testing_validate-modules.html"/>
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.min.css' rel='stylesheet' type='text/css'>

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/ansible.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/ansible.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> <!---- extra head elements for Ansible beyond RTD Sphinx Theme --->
<script type="text/javascript" src="//www.redhat.com/dtm.js"></script>
<!-- <meta class="swiftype" name="published_at" data-type="date" content="2017-12-13" /> -->
<meta class="swiftype" name="version" data-type="string" content="2.9">

<!-- Google Tag Manager Data Layer -->
<script>
 dataLayer = [];
</script>
<!-- End Google Tag Manager Data Layer -->

<script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script> 
</head>

<body class="wy-body-for-nav">
   <!---- extra body elements for Ansible beyond RTD Sphinx Theme --->
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PSB293" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-PSB293');</script>
<!-- End Google Tag Manager -->

  <div class="DocSite-globalNav ansibleNav">
      <ul>
          <li><a href="https://www.ansible.com/ansiblefest" target="_blank">AnsibleFest</a></li>
          <li><a href="https://www.ansible.com/tower" target="_blank">Products</a></li>
          <li><a href="https://www.ansible.com/community" target="_blank">Community</a></li>
          <li><a href="https://www.ansible.com/webinars-training" target="_blank">Webinars & Training</a></li>
          <li><a href="https://www.ansible.com/blog" target="_blank">Blog</a></li>
      </ul>
  </div>

<a class="DocSite-nav" href="/" style="padding-bottom: 30px;">

  <img class="DocSiteNav-logo"
    src="../_static/images/logo_invert.png"
    alt="Ansible Logo">
  <div class="DocSiteNav-title">
    Documentation
  </div>
</a> 
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Ansible
          

          
          </a>

          
            
            
              <div class="version">
                2.9
              </div>
            
          

          <!--- Based on https://github.com/rtfd/sphinx_rtd_theme/pull/438/files -->

<div class="version">
  
    <div class="version-dropdown">
      <select class="version-list" id="version-list" onchange="javascript:location.href = this.value;">
        <script> x = document.getElementById("version-list"); </script>
        
          <script>
            current_url = window.location.href;
            option = document.createElement("option");
            option.text = "latest";
            if ( "latest" == "2.9" ) {
              option.selected = true;
            }
            if (current_url.search("2.9") > -1) {
              option.value = current_url.replace("2.9","latest");
            } else {
              option.value = current_url.replace("latest","latest");
            }
            x.add(option);
          </script>
        
          <script>
            current_url = window.location.href;
            option = document.createElement("option");
            option.text = "2.9";
            if ( "2.9" == "2.9" ) {
              option.selected = true;
            }
            if (current_url.search("2.9") > -1) {
              option.value = current_url.replace("2.9","2.9");
            } else {
              option.value = current_url.replace("latest","2.9");
            }
            x.add(option);
          </script>
        
          <script>
            current_url = window.location.href;
            option = document.createElement("option");
            option.text = "devel";
            if ( "devel" == "2.9" ) {
              option.selected = true;
            }
            if (current_url.search("2.9") > -1) {
              option.value = current_url.replace("2.9","devel");
            } else {
              option.value = current_url.replace("latest","devel");
            }
            x.add(option);
          </script>
        
      </select>
    </div>
  
</div>
          
<div role="search">
<!--  <form id="rtd-search-form" class="wy-form" action="../search.html" -->
  <form id="rtd-search-form" class="wy-form"  method="get">
    <input type="text" class="st-default-search-input" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation, Upgrade &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation_guide/index.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../porting_guides/porting_guides.html">Ansible Porting Guides</a></li>
</ul>
<p class="caption"><span class="caption-text">Using Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">User Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributing to Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../community/index.html">Ansible Community Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Extending Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Developer Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Common Ansible Scenarios</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scenario_guides/cloud_guides.html">Public Cloud Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scenario_guides/network_guides.html">Network Technology Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scenario_guides/virt_guides.html">Virtualization and Containerization Guides</a></li>
</ul>
<p class="caption"><span class="caption-text">Ansible for Network Automation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../network/index.html">Ansible for Network Automation</a></li>
</ul>
<p class="caption"><span class="caption-text">Ansible Galaxy</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../galaxy/user_guide.html">Galaxy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../galaxy/dev_guide.html">Galaxy Developer Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference &amp; Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules/modules_by_category.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_appendices/playbooks_keywords.html">Playbook Keywords</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_appendices/common_return_values.html">Return Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_appendices/config.html">Ansible Configuration Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_appendices/general_precedence.html">Controlling how Ansible behaves: precedence rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_appendices/YAMLSyntax.html">YAML Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_appendices/python_3_support.html">Python 3 Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_appendices/interpreter_discovery.html">Interpreter Discovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_appendices/release_and_maintenance.html">Release and maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_appendices/test_strategies.html">Testing Strategies</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing/sanity/index.html">Sanity Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_appendices/faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_appendices/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_appendices/module_utils.html">Ansible Reference: Module Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_appendices/special_variables.html">Special Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_appendices/tower.html">Red Hat Ansible Tower</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference_appendices/logging.html">Logging Ansible output</a></li>
</ul>
<p class="caption"><span class="caption-text">Roadmaps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../roadmap/index.html">Ansible Roadmap</a></li>
</ul>

            
          
        </div>
        
         <!-- extra nav elements for Ansible beyond RTD Sphinx Theme --->
<!-- changeable widget links to tower - do not change as image controlled by Ansible-->
<div id="sideBanner">
  <br/>
  <a href="https://www.ansible.com/docs-left?utm_source=docs">
    <img style="border-width:0px;" src="https://cdn2.hubspot.net/hubfs/330046/docs-graphics/ASB-docs-left-rail.png" />
  </a>
  <br/><br/><br/>
</div>
      </div>
    </nav>
  </div>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Ansible</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          
















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>validate-modules</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <!-- Ansible-specific additions for modules etc -->
                
                  <a href="https://github.com/ansible/ansible/edit/devel/docs/docsite/rst/dev_guide/testing_validate-modules.rst?description=%23%23%23%23%23%20SUMMARY%0A%3C!---%20Your%20description%20here%20--%3E%0A%0A%0A%23%23%23%23%23%20ISSUE%20TYPE%0A-%20Docs%20Pull%20Request%0A%0A%2Blabel:%20docsite_pr" class="fa fa-github"> Edit on GitHub</a>
                
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <!--- Based on sphinx versionwarning extension. Extension currently only works on READTHEDOCS -->
  <script>
    startsWith = function(str, needle) {
      return str.slice(0, needle.length) == needle
    }
    // Create a banner if we're not on the official docs site
    if (location.host == "docs.testing.ansible.com") {
      document.write('<div id="testing_banner_id" class="admonition important">');
      document.write('<p>This is the testing site for Ansible Documentation. Unless you are reviewing pre-production changes, please visit the <a href="https://docs.ansible.com/ansible/latest/">official documentation website</a>.</p> <p></p>');
      document.write('</div>');
    }
    
      // Create a banner if we're not the latest version
      current_url_path = window.location.pathname;
      if (startsWith(current_url_path, "/ansible/latest/") || startsWith(current_url_path, "/ansible/3/")) {
        document.write('<div id="banner_id" class="admonition caution">');
        document.write('<p>You are reading the latest community version of the Ansible documentation. Red Hat subscribers, select <b>2.9</b> in the version selection to the left for the most recent Red Hat release.</p>');
        document.write('</div>');

        /* temp banner to advertise AnsibleFest
        document.write('<div id="banner_id" class="admonition important">');
        document.write('<p><a href="https://www.ansible.com/ansiblefest?sc_cid=7013a000002gyPxAAI">AnsibleFest</a> is going virtual with two days of expert speakers, live demos and hands-on labs Oct 13-14!</p>');
        document.write('</div>'); */
      } else if (startsWith(current_url_path, "/ansible/2.9/")) {
        document.write('<div id="banner_id" class="admonition caution">');
        document.write('<p>You are reading the latest Red Hat released version of the Ansible documentation. Community users can use this, or select any version in version selection to the left, including <b>latest</b> for the most recent community version.</p>');
        document.write('</div>');
      } else if (startsWith(current_url_path, "/ansible/devel/")) {
        document.write('<div id="banner_id" class="admonition caution">');
        document.write('<p>You are reading the <b>devel</b> version of the Ansible documentation - this version is not guaranteed stable. Use the version selection to the left if you want the latest stable released version.</p>');
        document.write('</div>');
      } else {
        document.write('<div id="banner_id" class="admonition caution">');
        document.write('<p>You are reading an older version of the Ansible documentation. Use the version selection to the left if you want the latest stable released version.</p>');
        document.write('</div>');
      }
    
  </script>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="validate-modules">
<span id="testing-validate-modules"></span><h1><a class="toc-backref" href="#id1">validate-modules</a><a class="headerlink" href="#validate-modules" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="topics">
<p class="topic-title">Topics</p>
<ul class="simple">
<li><p><a class="reference internal" href="#validate-modules" id="id1">validate-modules</a></p>
<ul>
<li><p><a class="reference internal" href="#usage" id="id2">Usage</a></p></li>
<li><p><a class="reference internal" href="#help" id="id3">Help</a></p></li>
<li><p><a class="reference internal" href="#extending-validate-modules" id="id4">Extending validate-modules</a></p></li>
<li><p><a class="reference internal" href="#codes" id="id5">Codes</a></p></li>
</ul>
</li>
</ul>
</div>
<p>Python program to help test or validate Ansible modules.</p>
<p><code class="docutils literal notranslate"><span class="pre">validate-modules</span></code> is one of the <code class="docutils literal notranslate"><span class="pre">ansible-test</span></code> Sanity Tests, see <a class="reference internal" href="testing_sanity.html#testing-sanity"><span class="std std-ref">Sanity Tests</span></a> for more information.</p>
<p>Originally developed by Matt Martz (&#64;sivel)</p>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id2">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/path/to/ansible/source
<span class="nb">source</span><span class="w"> </span>hacking/env-setup
ansible-test<span class="w"> </span>sanity<span class="w"> </span>--test<span class="w"> </span>validate-modules
</pre></div>
</div>
</div>
<div class="section" id="help">
<h2><a class="toc-backref" href="#id3">Help</a><a class="headerlink" href="#help" title="Permalink to this headline">¶</a></h2>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>usage:<span class="w"> </span>validate-modules<span class="w"> </span><span class="o">[</span>-h<span class="o">]</span><span class="w"> </span><span class="o">[</span>-w<span class="o">]</span><span class="w"> </span><span class="o">[</span>--exclude<span class="w"> </span>EXCLUDE<span class="o">]</span><span class="w"> </span><span class="o">[</span>--arg-spec<span class="o">]</span>
<span class="w">                        </span><span class="o">[</span>--base-branch<span class="w"> </span>BASE_BRANCH<span class="o">]</span><span class="w"> </span><span class="o">[</span>--format<span class="w"> </span><span class="o">{</span>json,plain<span class="o">}]</span>
<span class="w">                        </span><span class="o">[</span>--output<span class="w"> </span>OUTPUT<span class="o">]</span>
<span class="w">                        </span>modules<span class="w"> </span><span class="o">[</span>modules<span class="w"> </span>...<span class="o">]</span>

positional<span class="w"> </span>arguments:
<span class="w">  </span>modules<span class="w">               </span>Path<span class="w"> </span>to<span class="w"> </span>module<span class="w"> </span>or<span class="w"> </span>module<span class="w"> </span>directory

optional<span class="w"> </span>arguments:
<span class="w">  </span>-h,<span class="w"> </span>--help<span class="w">            </span>show<span class="w"> </span>this<span class="w"> </span><span class="nb">help</span><span class="w"> </span>message<span class="w"> </span>and<span class="w"> </span><span class="nb">exit</span>
<span class="w">  </span>-w,<span class="w"> </span>--warnings<span class="w">        </span>Show<span class="w"> </span>warnings
<span class="w">  </span>--exclude<span class="w"> </span>EXCLUDE<span class="w">     </span>RegEx<span class="w"> </span>exclusion<span class="w"> </span>pattern
<span class="w">  </span>--arg-spec<span class="w">            </span>Analyze<span class="w"> </span>module<span class="w"> </span>argument<span class="w"> </span>spec
<span class="w">  </span>--base-branch<span class="w"> </span>BASE_BRANCH
<span class="w">                        </span>Used<span class="w"> </span><span class="k">in</span><span class="w"> </span>determining<span class="w"> </span><span class="k">if</span><span class="w"> </span>new<span class="w"> </span>options<span class="w"> </span>were<span class="w"> </span>added
<span class="w">  </span>--format<span class="w"> </span><span class="o">{</span>json,plain<span class="o">}</span>
<span class="w">                        </span>Output<span class="w"> </span>format.<span class="w"> </span>Default:<span class="w"> </span><span class="s2">&quot;plain&quot;</span>
<span class="w">  </span>--output<span class="w"> </span>OUTPUT<span class="w">       </span>Output<span class="w"> </span>location,<span class="w"> </span>use<span class="w"> </span><span class="s2">&quot;-&quot;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>stdout.<span class="w"> </span>Default<span class="w"> </span><span class="s2">&quot;-&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="extending-validate-modules">
<h2><a class="toc-backref" href="#id4">Extending validate-modules</a><a class="headerlink" href="#extending-validate-modules" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">validate-modules</span></code> tool has a <a class="reference external" href="https://github.com/ansible/ansible/blob/devel/test/lib/ansible_test/_data/sanity/validate-modules/validate_modules/schema.py">schema.py</a> that is used to validate the YAML blocks, such as <code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span></code> and <code class="docutils literal notranslate"><span class="pre">RETURNS</span></code>.</p>
</div>
<div class="section" id="codes">
<h2><a class="toc-backref" href="#id5">Codes</a><a class="headerlink" href="#codes" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Error Code</strong></p></td>
<td><p><strong>Type</strong></p></td>
<td><p><strong>Level</strong></p></td>
<td><p><strong>Sample Message</strong></p></td>
</tr>
<tr class="row-even"><td><p>ansible-module-not-initialized</p></td>
<td><p>Syntax</p></td>
<td><p>Error</p></td>
<td><p>Execution of the module did not result in initialization of AnsibleModule</p></td>
</tr>
<tr class="row-odd"><td><p>deprecation-mismatch</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Module marked as deprecated or removed in at least one of the filename, its metadata, or in DOCUMENTATION (setting DOCUMENTATION.deprecated for deprecation or removing all Documentation for removed) but not in all three places.</p></td>
</tr>
<tr class="row-even"><td><p>doc-choices-do-not-match-spec</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Value for “choices” from the argument_spec does not match the documentation</p></td>
</tr>
<tr class="row-odd"><td><p>doc-choices-incompatible-type</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Choices value from the documentation is not compatible with type defined in the argument_spec</p></td>
</tr>
<tr class="row-even"><td><p>doc-default-does-not-match-spec</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Value for “default” from the argument_spec does not match the documentation</p></td>
</tr>
<tr class="row-odd"><td><p>doc-default-incompatible-type</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Default value from the documentation is not compatible with type defined in the argument_spec</p></td>
</tr>
<tr class="row-even"><td><p>doc-missing-type</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Documentation doesn’t specify a type but argument in <code class="docutils literal notranslate"><span class="pre">argument_spec</span></code> use default type (<code class="docutils literal notranslate"><span class="pre">str</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p>doc-type-does-not-match-spec</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Argument_spec defines type different than documentation does</p></td>
</tr>
<tr class="row-even"><td><p>documentation-error</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Unknown <code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span></code> error</p></td>
</tr>
<tr class="row-odd"><td><p>documentation-syntax-error</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Invalid <code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span></code> schema</p></td>
</tr>
<tr class="row-even"><td><p>illegal-future-imports</p></td>
<td><p>Imports</p></td>
<td><p>Error</p></td>
<td><p>Only the following <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span></code> imports are allowed: <code class="docutils literal notranslate"><span class="pre">absolute_import</span></code>, <code class="docutils literal notranslate"><span class="pre">division</span></code>, and <code class="docutils literal notranslate"><span class="pre">print_function</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>import-before-documentation</p></td>
<td><p>Imports</p></td>
<td><p>Error</p></td>
<td><p>Import found before documentation variables. All imports must appear below <code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span></code>/<code class="docutils literal notranslate"><span class="pre">EXAMPLES</span></code>/<code class="docutils literal notranslate"><span class="pre">RETURN</span></code>/<code class="docutils literal notranslate"><span class="pre">ANSIBLE_METADATA</span></code></p></td>
</tr>
<tr class="row-even"><td><p>import-error</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Exception</span></code> attempting to import module for <code class="docutils literal notranslate"><span class="pre">argument_spec</span></code> introspection</p></td>
</tr>
<tr class="row-odd"><td><p>import-placement</p></td>
<td><p>Locations</p></td>
<td><p>Warning</p></td>
<td><p>Imports should be directly below <code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span></code>/<code class="docutils literal notranslate"><span class="pre">EXAMPLES</span></code>/<code class="docutils literal notranslate"><span class="pre">RETURN</span></code>/<code class="docutils literal notranslate"><span class="pre">ANSIBLE_METADATA</span></code> for legacy modules</p></td>
</tr>
<tr class="row-even"><td><p>imports-improper-location</p></td>
<td><p>Imports</p></td>
<td><p>Error</p></td>
<td><p>Imports should be directly below <code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span></code>/<code class="docutils literal notranslate"><span class="pre">EXAMPLES</span></code>/<code class="docutils literal notranslate"><span class="pre">RETURN</span></code>/<code class="docutils literal notranslate"><span class="pre">ANSIBLE_METADATA</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>incompatible-choices</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Choices value from the argument_spec is not compatible with type defined in the argument_spec</p></td>
</tr>
<tr class="row-even"><td><p>incompatible-default-type</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Default value from the argument_spec is not compatible with type defined in the argument_spec</p></td>
</tr>
<tr class="row-odd"><td><p>invalid-argument-spec</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Argument in argument_spec must be a dictionary/hash when used</p></td>
</tr>
<tr class="row-even"><td><p>invalid-argument-spec-options</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Suboptions in argument_spec are invalid</p></td>
</tr>
<tr class="row-odd"><td><p>invalid-documentation</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span></code> is not valid YAML</p></td>
</tr>
<tr class="row-even"><td><p>invalid-documentation-options</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DOCUMENTATION.options</span></code> must be a dictionary/hash when used</p></td>
</tr>
<tr class="row-odd"><td><p>invalid-examples</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXAMPLES</span></code> is not valid YAML</p></td>
</tr>
<tr class="row-even"><td><p>invalid-extension</p></td>
<td><p>Naming</p></td>
<td><p>Error</p></td>
<td><p>Official Ansible modules must have a <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension for python modules or a <code class="docutils literal notranslate"><span class="pre">.ps1</span></code> for powershell modules</p></td>
</tr>
<tr class="row-odd"><td><p>invalid-metadata-status</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ANSIBLE_METADATA.status</span></code> of deprecated or removed can’t include other statuses</p></td>
</tr>
<tr class="row-even"><td><p>invalid-metadata-type</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ANSIBLE_METADATA</span></code> was not provided as a dict, YAML not supported, Invalid <code class="docutils literal notranslate"><span class="pre">ANSIBLE_METADATA</span></code> schema</p></td>
</tr>
<tr class="row-odd"><td><p>invalid-module-schema</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">AnsibleModule</span></code> schema validation error</p></td>
</tr>
<tr class="row-even"><td><p>invalid-requires-extension</p></td>
<td><p>Naming</p></td>
<td><p>Error</p></td>
<td><p>Module <code class="docutils literal notranslate"><span class="pre">#AnsibleRequires</span> <span class="pre">-CSharpUtil</span></code> should not end in .cs, Module <code class="docutils literal notranslate"><span class="pre">#Requires</span></code> should not end in .psm1</p></td>
</tr>
<tr class="row-odd"><td><p>last-line-main-call</p></td>
<td><p>Syntax</p></td>
<td><p>Error</p></td>
<td><p>Call to <code class="docutils literal notranslate"><span class="pre">main()</span></code> not the last line (or <code class="docutils literal notranslate"><span class="pre">removed_module()</span></code> in the case of deprecated &amp; docs only modules)</p></td>
</tr>
<tr class="row-even"><td><p>metadata-changed</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ANSIBLE_METADATA</span></code> cannot be changed in a point release for a stable branch</p></td>
</tr>
<tr class="row-odd"><td><p>missing-doc-fragment</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span></code> fragment missing</p></td>
</tr>
<tr class="row-even"><td><p>missing-existing-doc-fragment</p></td>
<td><p>Documentation</p></td>
<td><p>Warning</p></td>
<td><p>Pre-existing <code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span></code> fragment missing</p></td>
</tr>
<tr class="row-odd"><td><p>missing-documentation</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>No <code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span></code> provided</p></td>
</tr>
<tr class="row-even"><td><p>missing-examples</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>No <code class="docutils literal notranslate"><span class="pre">EXAMPLES</span></code> provided</p></td>
</tr>
<tr class="row-odd"><td><p>missing-gplv3-license</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>GPLv3 license header not found</p></td>
</tr>
<tr class="row-even"><td><p>missing-if-name-main</p></td>
<td><p>Syntax</p></td>
<td><p>Error</p></td>
<td><p>Next to last line is not <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">__name__</span> <span class="pre">==</span> <span class="pre">&quot;__main__&quot;:</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>missing-main-call</p></td>
<td><p>Syntax</p></td>
<td><p>Error</p></td>
<td><p>Did not find a call to <code class="docutils literal notranslate"><span class="pre">main()</span></code> (or <code class="docutils literal notranslate"><span class="pre">removed_module()</span></code> in the case of deprecated &amp; docs only modules)</p></td>
</tr>
<tr class="row-even"><td><p>missing-metadata</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>No <code class="docutils literal notranslate"><span class="pre">ANSIBLE_METADATA</span></code> provided</p></td>
</tr>
<tr class="row-odd"><td><p>missing-module-utils-basic-import</p></td>
<td><p>Imports</p></td>
<td><p>Warning</p></td>
<td><p>Did not find <code class="docutils literal notranslate"><span class="pre">ansible.module_utils.basic</span></code> import</p></td>
</tr>
<tr class="row-even"><td><p>missing-module-utils-import-csharp-requirements</p></td>
<td><p>Imports</p></td>
<td><p>Error</p></td>
<td><p>No <code class="docutils literal notranslate"><span class="pre">Ansible.ModuleUtils</span></code> or C# Ansible util requirements/imports found</p></td>
</tr>
<tr class="row-odd"><td><p>missing-powershell-interpreter</p></td>
<td><p>Syntax</p></td>
<td><p>Error</p></td>
<td><p>Interpreter line is not <code class="docutils literal notranslate"><span class="pre">#!powershell</span></code></p></td>
</tr>
<tr class="row-even"><td><p>missing-python-doc</p></td>
<td><p>Naming</p></td>
<td><p>Error</p></td>
<td><p>Missing python documentation file</p></td>
</tr>
<tr class="row-odd"><td><p>missing-python-interpreter</p></td>
<td><p>Syntax</p></td>
<td><p>Error</p></td>
<td><p>Interpreter line is not <code class="docutils literal notranslate"><span class="pre">#!/usr/bin/python</span></code></p></td>
</tr>
<tr class="row-even"><td><p>missing-return</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>No <code class="docutils literal notranslate"><span class="pre">RETURN</span></code> documentation provided</p></td>
</tr>
<tr class="row-odd"><td><p>missing-return-legacy</p></td>
<td><p>Documentation</p></td>
<td><p>Warning</p></td>
<td><p>No <code class="docutils literal notranslate"><span class="pre">RETURN</span></code> documentation provided for legacy module</p></td>
</tr>
<tr class="row-even"><td><p>missing-suboption-docs</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Argument in argument_spec has sub-options but documentation does not define sub-options</p></td>
</tr>
<tr class="row-odd"><td><p>module-incorrect-version-added</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Module level <code class="docutils literal notranslate"><span class="pre">version_added</span></code> is incorrect</p></td>
</tr>
<tr class="row-even"><td><p>module-invalid-version-added</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Module level <code class="docutils literal notranslate"><span class="pre">version_added</span></code> is not a valid version number</p></td>
</tr>
<tr class="row-odd"><td><p>module-utils-specific-import</p></td>
<td><p>Imports</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">module_utils</span></code> imports should import specific components, not <code class="docutils literal notranslate"><span class="pre">*</span></code></p></td>
</tr>
<tr class="row-even"><td><p>multiple-utils-per-requires</p></td>
<td><p>Imports</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Ansible.ModuleUtils</span></code> requirements do not support multiple modules per statement</p></td>
</tr>
<tr class="row-odd"><td><p>multiple-csharp-utils-per-requires</p></td>
<td><p>Imports</p></td>
<td><p>Error</p></td>
<td><p>Ansible C# util requirements do not support multiple utils per statement</p></td>
</tr>
<tr class="row-even"><td><p>no-default-for-required-parameter</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Option is marked as required but specifies a default. Arguments with a default should not be marked as required</p></td>
</tr>
<tr class="row-odd"><td><p>nonexistent-parameter-documented</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Argument is listed in DOCUMENTATION.options, but not accepted by the module</p></td>
</tr>
<tr class="row-even"><td><p>option-incorrect-version-added</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">version_added</span></code> for new option is incorrect</p></td>
</tr>
<tr class="row-odd"><td><p>option-invalid-version-added</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">version_added</span></code> for new option is not a valid version number</p></td>
</tr>
<tr class="row-even"><td><p>parameter-invalid</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Argument in argument_spec is not a valid python identifier</p></td>
</tr>
<tr class="row-odd"><td><p>parameter-invalid-elements</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Value for “elements” is valid only when value of “type” is <code class="docutils literal notranslate"><span class="pre">list</span></code></p></td>
</tr>
<tr class="row-even"><td><p>implied-parameter-type-mismatch</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Argument_spec implies <code class="docutils literal notranslate"><span class="pre">type=&quot;str&quot;</span></code> but documentation defines it as different data type</p></td>
</tr>
<tr class="row-odd"><td><p>parameter-type-not-in-doc</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Type value is defined in <code class="docutils literal notranslate"><span class="pre">argument_spec</span></code> but documentation doesn’t specify a type</p></td>
</tr>
<tr class="row-even"><td><p>python-syntax-error</p></td>
<td><p>Syntax</p></td>
<td><p>Error</p></td>
<td><p>Python <code class="docutils literal notranslate"><span class="pre">SyntaxError</span></code> while parsing module</p></td>
</tr>
<tr class="row-odd"><td><p>return-syntax-error</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RETURN</span></code> is not valid YAML, <code class="docutils literal notranslate"><span class="pre">RETURN</span></code> fragments missing  or invalid</p></td>
</tr>
<tr class="row-even"><td><p>subdirectory-missing-init</p></td>
<td><p>Naming</p></td>
<td><p>Error</p></td>
<td><p>Ansible module subdirectories must contain an <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>try-except-missing-has</p></td>
<td><p>Imports</p></td>
<td><p>Warning</p></td>
<td><p>Try/Except <code class="docutils literal notranslate"><span class="pre">HAS_</span></code> expression missing</p></td>
</tr>
<tr class="row-even"><td><p>undocumented-parameter</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>Argument is listed in the argument_spec, but not documented in the module</p></td>
</tr>
<tr class="row-odd"><td><p>unidiomatic-typecheck</p></td>
<td><p>Syntax</p></td>
<td><p>Error</p></td>
<td><p>Type comparison using <code class="docutils literal notranslate"><span class="pre">type()</span></code> found. Use <code class="docutils literal notranslate"><span class="pre">isinstance()</span></code> instead</p></td>
</tr>
<tr class="row-even"><td><p>unknown-doc-fragment</p></td>
<td><p>Documentation</p></td>
<td><p>Warning</p></td>
<td><p>Unknown pre-existing <code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span></code> error</p></td>
</tr>
<tr class="row-odd"><td><p>use-boto3</p></td>
<td><p>Imports</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">boto</span></code> import found, new modules should use <code class="docutils literal notranslate"><span class="pre">boto3</span></code></p></td>
</tr>
<tr class="row-even"><td><p>use-fail-json-not-sys-exit</p></td>
<td><p>Imports</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sys.exit()</span></code> call found. Should be <code class="docutils literal notranslate"><span class="pre">exit_json</span></code>/<code class="docutils literal notranslate"><span class="pre">fail_json</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>use-module-utils-urls</p></td>
<td><p>Imports</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">requests</span></code> import found, should use <code class="docutils literal notranslate"><span class="pre">ansible.module_utils.urls</span></code> instead</p></td>
</tr>
<tr class="row-even"><td><p>use-run-command-not-os-call</p></td>
<td><p>Imports</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">os.call</span></code> used instead of <code class="docutils literal notranslate"><span class="pre">module.run_command</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>use-run-command-not-popen</p></td>
<td><p>Imports</p></td>
<td><p>Error</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">subprocess.Popen</span></code> used instead of <code class="docutils literal notranslate"><span class="pre">module.run_command</span></code></p></td>
</tr>
<tr class="row-even"><td><p>use-short-gplv3-license</p></td>
<td><p>Documentation</p></td>
<td><p>Error</p></td>
<td><p>GPLv3 license header should be the <a class="reference internal" href="developing_modules_documenting.html#copyright"><span class="std std-ref">short form</span></a> for new modules</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>


<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','yABGvz2N8PwcwBxyfzUc','2.0.0');
</script>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019 Red Hat, Inc.
      <span class="lastupdated">
        Last updated on Dec 26, 2024.
      </span>

    </p>
  </div> 
</footer>
        </div>
      </div>

    </section>

  </div>

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script>

  
  
    
   <!-- extra footer elements for Ansible beyond RTD Sphinx Theme --->
<!-- begin analytics -->
<script type="text/javascript">
var _hsq = _hsq || [];
_hsq.push(["setContentType", "standard-page"]);
      (function(d,s,i,r) {
      if (d.getElementById(i)){return;}
      var n = d.createElement(s),e = document.getElementsByTagName(s)[0];
      n.id=i;n.src = '//js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/330046.js';
      e.parentNode.insertBefore(n, e);
      })(document, "script", "hs-analytics",300000);
</script>
<!-- end analytics -->
<script type="text/javascript">
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
  _satellite.pageBottom();
}
</script> 

</body>
</html>