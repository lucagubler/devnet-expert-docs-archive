<!doctype html>
<html lang="zh" class="no-js">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-36037335-10"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-36037335-10');
</script>


<link rel="alternate" hreflang="en" href="http://localhost:1313/docs/tasks/administer-cluster/network-policy-provider/">
<link rel="alternate" hreflang="ko" href="http://localhost:1313/ko/docs/tasks/administer-cluster/network-policy-provider/">
<link rel="alternate" hreflang="fr" href="http://localhost:1313/fr/docs/tasks/administer-cluster/network-policy-provider/">
<link rel="alternate" hreflang="es" href="http://localhost:1313/es/docs/tasks/administer-cluster/network-policy-provider/">

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.87.0" />
<link rel="canonical" type="text/html" href="http://localhost:1313/zh/docs/tasks/administer-cluster/network-policy-provider/">
<link rel="shortcut icon" type="image/png" href="/images/favicon.png">
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="manifest" href="/manifest.webmanifest">
<link rel="apple-touch-icon" href="/images/kubernetes-192x192.png">
<title>å®‰è£…ç½‘ç»œç­–ç•¥é©±åŠ¨ | Kubernetes</title><meta property="og:title" content="å®‰è£…ç½‘ç»œç­–ç•¥é©±åŠ¨" />
<meta property="og:description" content="ç”Ÿäº§çº§åˆ«çš„å®¹å™¨ç¼–æ’ç³»ç»Ÿ" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://localhost:1313/zh/docs/tasks/administer-cluster/network-policy-provider/" /><meta property="og:site_name" content="Kubernetes" />

<meta itemprop="name" content="å®‰è£…ç½‘ç»œç­–ç•¥é©±åŠ¨">
<meta itemprop="description" content="ç”Ÿäº§çº§åˆ«çš„å®¹å™¨ç¼–æ’ç³»ç»Ÿ"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="å®‰è£…ç½‘ç»œç­–ç•¥é©±åŠ¨"/>
<meta name="twitter:description" content="ç”Ÿäº§çº§åˆ«çš„å®¹å™¨ç¼–æ’ç³»ç»Ÿ"/>






<link href="/scss/main.css" rel="stylesheet">


<script
  src="/js/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>





<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "url": "https://kubernetes.io",
    "logo": "https://kubernetes.io/images/favicon.png",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "http://localhost:1313/search/?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }

  }
</script>
<meta name="theme-color" content="#326ce5">




<link rel="stylesheet" href="/css/feature-states.css">



<meta name="description" content="">
<meta property="og:description" content="">
<meta name="twitter:description" content="">
<meta property="og:url" content="http://localhost:1313/zh/docs/tasks/administer-cluster/network-policy-provider/">
<meta property="og:title" content="å®‰è£…ç½‘ç»œç­–ç•¥é©±åŠ¨">
<meta name="twitter:title" content="å®‰è£…ç½‘ç»œç­–ç•¥é©±åŠ¨">
<meta name="twitter:image" content="https://kubernetes.io/images/favicon.png" />

<meta name="twitter:image:alt" content="Kubernetes">

<meta property="og:image" content="/images/kubernetes-horizontal-color.png">

<meta property="og:type" content="article">

<script src="/js/script.js"></script>


  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark  flex-column flex-md-row td-navbar" data-auto-burger="primary">
        <a class="navbar-brand" href="/zh/"></a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			
			
			<li class="nav-item mr-2 mb-lg-0">
				
				<a class="nav-link active" href="/zh/docs/" >æ–‡æ¡£</a>
			</li>
			
			
			
			<li class="nav-item mr-2 mb-lg-0">
				
				<a class="nav-link" href="/zh/blog/" >Kubernetes åšå®¢</a>
			</li>
			
			
			
			<li class="nav-item mr-2 mb-lg-0">
				
				<a class="nav-link" href="/zh/training/" >åŸ¹è®­</a>
			</li>
			
			
			
			<li class="nav-item mr-2 mb-lg-0">
				
				<a class="nav-link" href="/zh/partners/" >åˆä½œä¼™ä¼´</a>
			</li>
			
			
			
			<li class="nav-item mr-2 mb-lg-0">
				
				<a class="nav-link" href="/zh/community/" >ç¤¾åŒº</a>
			</li>
			
			
			
			<li class="nav-item mr-2 mb-lg-0">
				
				<a class="nav-link" href="/zh/case-studies/" >æ¡ˆä¾‹åˆ†æ</a>
			</li>
			
			
			
			<li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	Versions
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/releases">Release Information</a>
	
	<a class="dropdown-item" href="https://kubernetes.io/zh/docs/tasks/administer-cluster/network-policy-provider/">v1.23</a>
	
	<a class="dropdown-item" href="https://v1-22.docs.kubernetes.io/zh/docs/tasks/administer-cluster/network-policy-provider/">v1.22</a>
	
	<a class="dropdown-item" href="https://v1-21.docs.kubernetes.io/zh/docs/tasks/administer-cluster/network-policy-provider/">v1.21</a>
	
	<a class="dropdown-item" href="https://v1-20.docs.kubernetes.io/zh/docs/tasks/administer-cluster/network-policy-provider/">v1.20</a>
	
	<a class="dropdown-item" href="https://v1-19.docs.kubernetes.io/zh/docs/tasks/administer-cluster/network-policy-provider/">v1.19</a>
	
</div>
			</li>
			
			
			<li class="nav-item dropdown">
				

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	ä¸­æ–‡ Chinese
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/docs/tasks/administer-cluster/network-policy-provider/">English</a>
	
	<a class="dropdown-item" href="/ko/docs/tasks/administer-cluster/network-policy-provider/">í•œêµ­ì–´ Korean</a>
	
	<a class="dropdown-item" href="/fr/docs/tasks/administer-cluster/network-policy-provider/">FranÃ§ais</a>
	
	<a class="dropdown-item" href="/es/docs/tasks/administer-cluster/network-policy-provider/">EspaÃ±ol</a>
	
</div>

			</li>
			
		</ul>
	</div>
	<button id="hamburger" onclick="kub.toggleMenu()" data-auto-burger-exclude><div></div></button>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
è¿™æ˜¯æœ¬èŠ‚çš„å¤šé¡µæ‰“å°è§†å›¾ã€‚
<a href="#" onclick="print();return false;">ç‚¹å‡»æ­¤å¤„æ‰“å°</a>.
</p><p>
<a href="/zh/docs/tasks/administer-cluster/network-policy-provider/">è¿”å›æœ¬é¡µå¸¸è§„è§†å›¾</a>.
</p>
</div>



<h1 class="title">å®‰è£…ç½‘ç»œç­–ç•¥é©±åŠ¨</h1>





    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-b4418905b0c14630e4e9cb1368241534">ä½¿ç”¨ Antrea æä¾› NetworkPolicy</a></li>


    
  
    
    
	
<li>2: <a href="#pg-1239a77618c6278373832a142cd85519">ä½¿ç”¨ Calico æä¾› NetworkPolicy</a></li>


    
  
    
    
	
<li>3: <a href="#pg-95039241255a31df196beaa405b68eba">ä½¿ç”¨ Cilium æä¾› NetworkPolicy</a></li>


    
  
    
    
	
<li>4: <a href="#pg-505a0a6a7e6eff361bbb3be81c84b2e0">ä½¿ç”¨ kube-router æä¾› NetworkPolicy</a></li>


    
  
    
    
	
<li>5: <a href="#pg-2842eac98aa0e229a5c6755c4c83d2a7">ä½¿ç”¨ Romana æä¾› NetworkPolicy</a></li>


    
  
    
    
	
<li>6: <a href="#pg-ac075c3fdfd0d41aa753cc70e42be064">ä½¿ç”¨ Weave Net æä¾› NetworkPolicy</a></li>


    
  

    </ul>


<div class="content">
      <!--
title: Install a Network Policy Provider
weight: 30
-->

</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-b4418905b0c14630e4e9cb1368241534">1 - ä½¿ç”¨ Antrea æä¾› NetworkPolicy</h1>
    
	<!--
---
title: Use Antrea for NetworkPolicy
content_type: task
weight: 10
---
-->
<!-- overview -->
<!--
This page shows how to install and use Antrea CNI plugin on Kubernetes.
For background on Project Antrea, read the [Introduction to Antrea](https://antrea.io/docs/).
-->
<p>æœ¬é¡µå±•ç¤ºäº†å¦‚ä½•åœ¨ kubernetes ä¸­å®‰è£…å’Œä½¿ç”¨ Antrea CNI æ’ä»¶ã€‚
è¦äº†è§£ Antrea é¡¹ç›®çš„èƒŒæ™¯ï¼Œè¯·é˜…è¯» <a href="https://antrea.io/docs/">Antrea ä»‹ç»</a>ã€‚</p>
<h2 id="before-you-begin">Before you begin</h2>
<!--
You need to have a Kubernetes cluster. Follow the
[kubeadm getting started guide](/docs/reference/setup-tools/kubeadm/) to bootstrap one.
-->
<p>ä½ éœ€è¦æ‹¥æœ‰ä¸€ä¸ª kuernetes é›†ç¾¤ã€‚
éµå¾ª <a href="/zh/docs/reference/setup-tools/kubeadm/">kubeadm å…¥é—¨æŒ‡å—</a>è‡ªè¡Œåˆ›å»ºä¸€ä¸ªã€‚</p>
<!-- steps -->
<!--
## Deploying Antrea with kubeadm

Follow [Getting Started](https://github.com/vmware-tanzu/antrea/blob/main/docs/getting-started.md) guide to deploy Antrea for kubeadm.
-->
<h2 id="ä½¿ç”¨-kubeadm-éƒ¨ç½²-antrea">ä½¿ç”¨ kubeadm éƒ¨ç½² Antrea</h2>
<p>éµå¾ª<a href="https://github.com/vmware-tanzu/antrea/blob/main/docs/getting-started.md">å…¥é—¨</a>æŒ‡å—
ä¸º kubeadm éƒ¨ç½² Antrea ã€‚</p>
<h2 id="what-s-next">What's next</h2>
<!--
Once your cluster is running, you can follow the [Declare Network Policy](/docs/tasks/administer-cluster/declare-network-policy/) to try out Kubernetes NetworkPolicy.
-->
<p>ä¸€æ—¦ä½ çš„é›†ç¾¤å·²ç»è¿è¡Œï¼Œä½ å¯ä»¥éµå¾ª
<a href="/zh/docs/tasks/administer-cluster/declare-network-policy/">å£°æ˜ç½‘ç»œç­–ç•¥</a>
æ¥å°è¯• Kubernetes NetworkPolicyã€‚</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-1239a77618c6278373832a142cd85519">2 - ä½¿ç”¨ Calico æä¾› NetworkPolicy</h1>
    
	<!-- overview -->
<!--
This page shows a couple of quick ways to create a Calico cluster on Kubernetes.
-->
<p>æœ¬é¡µå±•ç¤ºäº†å‡ ç§åœ¨ Kubernetes ä¸Šå¿«é€Ÿåˆ›å»º Calico é›†ç¾¤çš„æ–¹æ³•ã€‚</p>
<h2 id="before-you-begin">Before you begin</h2>
<!--
Decide whether you want to deploy a [cloud](#creating-a-calico-cluster-with-google-kubernetes-engine-gke) or [local](#creating-a-local-calico-cluster-with-kubeadm) cluster.
-->
<p>ç¡®å®šä½ æƒ³éƒ¨ç½²ä¸€ä¸ª<a href="#gke-cluster">äº‘ç‰ˆæœ¬</a>è¿˜æ˜¯<a href="#local-cluster">æœ¬åœ°ç‰ˆæœ¬</a>çš„é›†ç¾¤ã€‚</p>
<!-- steps -->
<!--
## Creating a Calico cluster with Google Kubernetes Engine (GKE)

**Prerequisite**: [gcloud](https://cloud.google.com/sdk/docs/quickstarts).
-->
<h2 id="gke-cluster">åœ¨ Google Kubernetes Engine (GKE) ä¸Šåˆ›å»ºä¸€ä¸ª Calico é›†ç¾¤</h2>
<p><strong>å…ˆå†³æ¡ä»¶</strong>: <a href="https://cloud.google.com/sdk/docs/quickstarts">gcloud</a></p>
<!--
1.  To launch a GKE cluster with Calico, include the `--enable-network-policy` flag.
-->
<ol>
<li>
<p>å¯åŠ¨ä¸€ä¸ªå¸¦æœ‰ Calico çš„ GKE é›†ç¾¤ï¼Œéœ€è¦åŠ ä¸Šå‚æ•° <code>--enable-network-policy</code>ã€‚</p>
<p><strong>è¯­æ³•</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">gcloud container clusters create <span style="color:#666">[</span>CLUSTER_NAME<span style="color:#666">]</span> --enable-network-policy
</code></pre></div><p><strong>ç¤ºä¾‹</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">gcloud container clusters create my-calico-cluster --enable-network-policy
</code></pre></div></li>
</ol>
<!--
1.  To verify the deployment, use the following command.
-->
<ol start="2">
<li>
<p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤éªŒè¯éƒ¨ç½²æ˜¯å¦æ­£ç¡®ã€‚</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">kubectl get pods --namespace<span style="color:#666">=</span>kube-system
</code></pre></div><!--
The Calico pods begin with `calico`. Check to make sure each one has a status of `Running`.
-->
<p>Calico çš„ pods åä»¥ <code>calico</code> æ‰“å¤´ï¼Œæ£€æŸ¥ç¡®è®¤æ¯ä¸ª pods çŠ¶æ€ä¸º <code>Running</code>ã€‚</p>
</li>
</ol>
<!-- 
## Creating a local Calico cluster with kubeadm

To get a local single-host Calico cluster in fifteen minutes using kubeadm, refer to the
[Calico Quickstart](https://docs.projectcalico.org/latest/getting-started/kubernetes/).
-->
<h2 id="local-cluster">ä½¿ç”¨ kubeadm åˆ›å»ºä¸€ä¸ªæœ¬åœ° Calico é›†ç¾¤  </h2>
<p>ä½¿ç”¨ kubeadm åœ¨ 15 åˆ†é’Ÿå†…å¾—åˆ°ä¸€ä¸ªæœ¬åœ°å•ä¸»æœº Calico é›†ç¾¤ï¼Œè¯·å‚è€ƒ
<a href="https://docs.projectcalico.org/latest/getting-started/kubernetes/">Calico å¿«é€Ÿå…¥é—¨</a>ã€‚</p>
<h2 id="what-s-next">What's next</h2>
<!--
Once your cluster is running, you can follow the [Declare Network Policy](/docs/tasks/administer-cluster/declare-network-policy/) to try out Kubernetes NetworkPolicy.
-->
<p>é›†ç¾¤è¿è¡Œåï¼Œæ‚¨å¯ä»¥æŒ‰ç…§<a href="/zh/docs/tasks/administer-cluster/declare-network-policy/">å£°æ˜ç½‘ç»œç­–ç•¥</a>
å»å°è¯•ä½¿ç”¨ Kubernetes NetworkPolicyã€‚</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-95039241255a31df196beaa405b68eba">3 - ä½¿ç”¨ Cilium æä¾› NetworkPolicy</h1>
    
	<!--
reviewers:
- danwent
- aanm
title: Use Cilium for NetworkPolicy
content_type: task
weight: 20
-->
<!-- overview -->
<!--
This page shows how to use Cilium for NetworkPolicy.

For background on Cilium, read the [Introduction to Cilium](https://docs.cilium.io/en/stable/intro).
-->
<p>æœ¬é¡µå±•ç¤ºå¦‚ä½•ä½¿ç”¨ Cilium æä¾› NetworkPolicyã€‚</p>
<p>å…³äº Cilium çš„èƒŒæ™¯çŸ¥è¯†ï¼Œè¯·é˜…è¯» <a href="https://docs.cilium.io/en/stable/intro">Cilium ä»‹ç»</a>ã€‚</p>
<h2 id="before-you-begin">Before you begin</h2>
<p><p>ä½ å¿…é¡»æ‹¥æœ‰ä¸€ä¸ª Kubernetes çš„é›†ç¾¤ï¼ŒåŒæ—¶ä½ çš„ Kubernetes é›†ç¾¤å¿…é¡»å¸¦æœ‰ kubectl å‘½ä»¤è¡Œå·¥å…·ã€‚
å»ºè®®åœ¨è‡³å°‘æœ‰ä¸¤ä¸ªèŠ‚ç‚¹çš„é›†ç¾¤ä¸Šè¿è¡Œæœ¬æ•™ç¨‹ï¼Œä¸”è¿™äº›èŠ‚ç‚¹ä¸ä½œä¸ºæ§åˆ¶å¹³é¢ä¸»æœºã€‚
å¦‚æœä½ è¿˜æ²¡æœ‰é›†ç¾¤ï¼Œä½ å¯ä»¥é€šè¿‡ <a href="https://minikube.sigs.k8s.io/docs/tutorials/multi_node/">Minikube</a>
æ„å»ºä¸€ä¸ªä½ è‡ªå·±çš„é›†ç¾¤ï¼Œæˆ–è€…ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢ä»»æ„ä¸€ä¸ª Kubernetes å·¥å…·æ„å»ºï¼š</p>
<!--
You need to have a Kubernetes cluster, and the kubectl command-line tool must
be configured to communicate with your cluster. It is recommended to run this tutorial on a cluster with at least two nodes that are not acting as control plane hosts. If you do not already have a
cluster, you can create one by using
[minikube](https://minikube.sigs.k8s.io/docs/tutorials/multi_node/)
or you can use one of these Kubernetes playgrounds:
-->
<ul>
<li><a href="https://www.katacoda.com/courses/kubernetes/playground">Katacoda</a></li>
<li><a href="http://labs.play-with-k8s.com/">ç©è½¬ Kubernetes</a></li>
</ul>
 
 To check the version, enter <code>kubectl version</code>.
</p>
<!-- steps -->
<!--
## Deploying Cilium on Minikube for Basic Testing

To get familiar with Cilium easily you can follow the
[Cilium Kubernetes Getting Started Guide](https://docs.cilium.io/en/stable/gettingstarted/k8s-install-default/)
to perform a basic DaemonSet installation of Cilium in minikube.

To start minikube, minimal version required is >= v1.5.2, run the with the
following arguments:
-->
<h2 id="åœ¨-minikube-ä¸Šéƒ¨ç½²-cilium-ç”¨äºåŸºæœ¬æµ‹è¯•">åœ¨ Minikube ä¸Šéƒ¨ç½² Cilium ç”¨äºåŸºæœ¬æµ‹è¯•</h2>
<p>ä¸ºäº†è½»æ¾ç†Ÿæ‚‰ Cilium ä½ å¯ä»¥æ ¹æ®
<a href="https://docs.cilium.io/en/stable/gettingstarted/k8s-install-default/s">Cilium Kubernetes å…¥é—¨æŒ‡å—</a>
åœ¨ minikube ä¸­æ‰§è¡Œä¸€ä¸ª cilium çš„åŸºæœ¬ DaemonSet å®‰è£…ã€‚</p>
<p>è¦å¯åŠ¨ minikubeï¼Œéœ€è¦çš„æœ€ä½ç‰ˆæœ¬ä¸º 1.5.2ï¼Œä½¿ç”¨ä¸‹é¢çš„å‚æ•°è¿è¡Œï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">minikube version
</code></pre></div><pre><code>minikube version: v1.5.2
</code></pre><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">minikube start --network-plugin<span style="color:#666">=</span>cni --memory<span style="color:#666">=</span><span style="color:#666">4096</span>
</code></pre></div><!--
For minikube you can install Cilium using its CLI tool. Cilium will
automatically detect the cluster configuration and will install the appropriate
components for a successful installation:
-->
<p>å¯¹äº minikube ä½ å¯ä»¥ä½¿ç”¨ Cilium çš„ CLI å·¥å…·å®‰è£…å®ƒã€‚
Cilium å°†è‡ªåŠ¨æ£€æµ‹é›†ç¾¤é…ç½®å¹¶ä¸ºæˆåŠŸçš„é›†ç¾¤éƒ¨ç½²é€‰æ‹©åˆé€‚çš„ç»„ä»¶ã€‚</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">curl -LO https://github.com/cilium/cilium-cli/releases/latest/download/cilium-linux-amd64.tar.gz
sudo tar xzvfC cilium-linux-amd64.tar.gz /usr/local/bin
rm cilium-linux-amd64.tar.gz
cilium install
</code></pre></div><pre><code>ğŸ”® Auto-detected Kubernetes kind: minikube
âœ¨ Running &quot;minikube&quot; validation checks
âœ… Detected minikube version &quot;1.20.0&quot;
â„¹ï¸  Cilium version not set, using default version &quot;v1.10.0&quot;
ğŸ”® Auto-detected cluster name: minikube
ğŸ”® Auto-detected IPAM mode: cluster-pool
ğŸ”® Auto-detected datapath mode: tunnel
ğŸ”‘ Generating CA...
2021/05/27 02:54:44 [INFO] generate received request
2021/05/27 02:54:44 [INFO] received CSR
2021/05/27 02:54:44 [INFO] generating key: ecdsa-256
2021/05/27 02:54:44 [INFO] encoded CSR
2021/05/27 02:54:44 [INFO] signed certificate with serial number 48713764918856674401136471229482703021230538642
ğŸ”‘ Generating certificates for Hubble...
2021/05/27 02:54:44 [INFO] generate received request
2021/05/27 02:54:44 [INFO] received CSR
2021/05/27 02:54:44 [INFO] generating key: ecdsa-256
2021/05/27 02:54:44 [INFO] encoded CSR
2021/05/27 02:54:44 [INFO] signed certificate with serial number 3514109734025784310086389188421560613333279574
ğŸš€ Creating Service accounts...
ğŸš€ Creating Cluster roles...
ğŸš€ Creating ConfigMap...
ğŸš€ Creating Agent DaemonSet...
ğŸš€ Creating Operator Deployment...
âŒ› Waiting for Cilium to be installed...
</code></pre><!--
The remainder of the Getting Started Guide explains how to enforce both L3/L4
(i.e., IP address + port) security policies, as well as L7 (e.g., HTTP) security
policies using an example application.
-->
<p>å…¥é—¨æŒ‡å—å…¶ä½™çš„éƒ¨åˆ†ç”¨ä¸€ä¸ªç¤ºä¾‹åº”ç”¨è¯´æ˜äº†å¦‚ä½•å¼ºåˆ¶æ‰§è¡Œ L3/L4ï¼ˆå³ IP åœ°å€+ç«¯å£ï¼‰çš„å®‰å…¨ç­–ç•¥
ä»¥åŠL7 ï¼ˆå¦‚ HTTPï¼‰çš„å®‰å…¨ç­–ç•¥ã€‚</p>
<!--
## Deploying Cilium for Production Use

For detailed instructions around deploying Cilium for production, see:
[Cilium Kubernetes Installation Guide](https://docs.cilium.io/en/stable/concepts/kubernetes/intro/)
This documentation includes detailed requirements, instructions and example
production DaemonSet files.
 -->
<h2 id="éƒ¨ç½²-cilium-ç”¨äºç”Ÿäº§ç”¨é€”">éƒ¨ç½² Cilium ç”¨äºç”Ÿäº§ç”¨é€”</h2>
<p>å…³äºéƒ¨ç½² Cilium ç”¨äºç”Ÿäº§çš„è¯¦ç»†è¯´æ˜ï¼Œè¯·è§
<a href="https://docs.cilium.io/en/stable/concepts/kubernetes/intro/">Cilium Kubernetes å®‰è£…æŒ‡å—</a>
æ­¤æ–‡æ¡£åŒ…æ‹¬è¯¦ç»†çš„éœ€æ±‚ã€è¯´æ˜å’Œç”Ÿäº§ç”¨é€” DaemonSet æ–‡ä»¶ç¤ºä¾‹ã€‚</p>
<!-- discussion -->
<!--
##  Understanding Cilium components

Deploying a cluster with Cilium adds Pods to the `kube-system` namespace. To see
this list of Pods run:
 -->
<h2 id="äº†è§£-cilium-ç»„ä»¶">äº†è§£ Cilium ç»„ä»¶</h2>
<p>éƒ¨ç½²ä½¿ç”¨ Cilium çš„é›†ç¾¤ä¼šæ·»åŠ  Pods åˆ° <code>kube-system</code> å‘½åç©ºé—´ã€‚è¦æŸ¥çœ‹ Pod åˆ—è¡¨ï¼Œè¿è¡Œï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">kubectl get pods --namespace<span style="color:#666">=</span>kube-system -l k8s-app<span style="color:#666">=</span>cilium
</code></pre></div><!-- You'll see a list of Pods similar to this: -->
<p>ä½ å°†çœ‹åˆ°åƒè¿™æ ·çš„ Pods åˆ—è¡¨ï¼š</p>
<pre><code class="language-console" data-lang="console">NAME           READY   STATUS    RESTARTS   AGE
cilium-kkdhz   1/1     Running   0          3m23s
...
</code></pre><!--
A `cilium` Pod runs on each node in your cluster and enforces network policy
on the traffic to/from Pods on that node using Linux BPF.
-->
<p>ä½ çš„é›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½ä¼šè¿è¡Œä¸€ä¸ª <code>cilium</code> Podï¼Œé€šè¿‡ä½¿ç”¨ Linux BPF
é’ˆå¯¹è¯¥èŠ‚ç‚¹ä¸Šçš„ Pod çš„å…¥ç«™ã€å‡ºç«™æµé‡å®æ–½ç½‘ç»œç­–ç•¥æ§åˆ¶ã€‚</p>
<h2 id="what-s-next">What's next</h2>
<!--
Once your cluster is running, you can follow the
[Declare Network Policy](/docs/tasks/administer-cluster/declare-network-policy/)
to try out Kubernetes NetworkPolicy with Cilium.
Have fun, and if you have questions, contact us using the
[Cilium Slack Channel](https://cilium.herokuapp.com/).
-->
<p>é›†ç¾¤è¿è¡Œåï¼Œä½ å¯ä»¥æŒ‰ç…§
<a href="/zh/docs/tasks/administer-cluster/declare-network-policy/">å£°æ˜ç½‘ç»œç­–ç•¥</a>
è¯•ç”¨åŸºäº Cilium çš„ Kubernetes NetworkPolicyã€‚
ç©å¾—å¼€å¿ƒï¼Œå¦‚æœä½ æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·åˆ° <a href="https://cilium.herokuapp.com/">Cilium Slack é¢‘é“</a>
è”ç³»æˆ‘ä»¬ã€‚</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-505a0a6a7e6eff361bbb3be81c84b2e0">4 - ä½¿ç”¨ kube-router æä¾› NetworkPolicy</h1>
    
	<!-- overview -->
<!--
This page shows how to use [Kube-router](https://github.com/cloudnativelabs/kube-router) for NetworkPolicy.
-->
<p>æœ¬é¡µå±•ç¤ºå¦‚ä½•ä½¿ç”¨ <a href="https://github.com/cloudnativelabs/kube-router">Kube-router</a> æä¾› NetworkPolicyã€‚</p>
<h2 id="before-you-begin">Before you begin</h2>
<!--
You need to have a Kubernetes cluster running. If you do not already have a cluster, you can create one by using any of the cluster installers like Kops, Bootkube, Kubeadm etc.
-->
<p>ä½ éœ€è¦æ‹¥æœ‰ä¸€ä¸ªè¿è¡Œä¸­çš„ Kubernetes é›†ç¾¤ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰é›†ç¾¤ï¼Œå¯ä»¥ä½¿ç”¨ä»»æ„çš„é›†ç¾¤
å®‰è£…ç¨‹åºå¦‚ Kopsã€Bootkubeã€Kubeadm ç­‰åˆ›å»ºä¸€ä¸ªã€‚</p>
<!-- steps -->
<!--
## Installing Kube-router addon

The Kube-router Addon comes with a Network Policy Controller that watches Kubernetes API server for any NetworkPolicy and pods updated and configures iptables rules and ipsets to allow or block traffic as directed by the policies. Please follow the [trying Kube-router with cluster installers](https://www.kube-router.io/docs/user-guide/#try-kube-router-with-cluster-installers) guide to install Kube-router addon.
-->
<h2 id="å®‰è£…-kube-router-æ’ä»¶">å®‰è£… kube-router æ’ä»¶</h2>
<p>kube-router æ’ä»¶è‡ªå¸¦ä¸€ä¸ªç½‘ç»œç­–ç•¥æ§åˆ¶å™¨ï¼Œç›‘è§†æ¥è‡ªäº Kubernetes API æœåŠ¡å™¨çš„
NetworkPolicy å’Œ Pod çš„å˜åŒ–ï¼Œæ ¹æ®ç­–ç•¥æŒ‡ç¤ºé…ç½® iptables è§„åˆ™å’Œ ipsets æ¥å…è®¸æˆ–é˜»æ­¢æµé‡ã€‚
è¯·æ ¹æ® <a href="https://www.kube-router.io/docs/user-guide/#try-kube-router-with-cluster-installers">é€šè¿‡é›†ç¾¤å®‰è£…ç¨‹åºå°è¯• kube-router</a> æŒ‡å—å®‰è£… kube-router æ’ä»¶ã€‚</p>
<h2 id="what-s-next">What's next</h2>
<!--
Once you have installed the Kube-router addon, you can follow the [Declare Network Policy](/docs/tasks/administer-cluster/declare-network-policy/) to try out Kubernetes NetworkPolicy.
-->
<p>åœ¨ä½ å®‰è£…äº† kube-router æ’ä»¶åï¼Œå¯ä»¥å‚è€ƒ
<a href="/zh/docs/tasks/administer-cluster/declare-network-policy/">å£°æ˜ç½‘ç»œç­–ç•¥</a>
å»å°è¯•ä½¿ç”¨ Kubernetes NetworkPolicyã€‚</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-2842eac98aa0e229a5c6755c4c83d2a7">5 - ä½¿ç”¨ Romana æä¾› NetworkPolicy</h1>
    
	<!--
reviewers:
- chrismarino
title: Romana for NetworkPolicy
content_type: task
weight: 40
-->
<!-- overview -->
<!--
This page shows how to use Romana for NetworkPolicy.
-->
<p>æœ¬é¡µå±•ç¤ºå¦‚ä½•ä½¿ç”¨ Romana ä½œä¸º NetworkPolicyã€‚</p>
<h2 id="before-you-begin">Before you begin</h2>
<!--
Complete steps 1, 2, and 3 of  the [kubeadm getting started guide](/docs/getting-started-guides/kubeadm/).
-->
<p>å®Œæˆ <a href="/zh/docs/reference/setup-tools/kubeadm/">kubeadm å…¥é—¨æŒ‡å—</a>ä¸­çš„ 1ã€2ã€3 æ­¥ã€‚</p>
<!-- steps -->
<!--
## Installing Romana with kubeadm

Follow the [containerized installation guide](https://github.com/romana/romana/tree/master/containerize) for kubeadm.

## Applying network policies

To apply network policies use one of the following:

* [Romana network policies](https://github.com/romana/romana/wiki/Romana-policies).
    * [Example of Romana network policy](https://github.com/romana/core/blob/master/doc/policy.md).
* The NetworkPolicy API.
 -->
<h2 id="ä½¿ç”¨-kubeadm-å®‰è£…-romana">ä½¿ç”¨ kubeadm å®‰è£… Romana</h2>
<p>æŒ‰ç…§<a href="https://github.com/romana/romana/tree/master/containerize">å®¹å™¨åŒ–å®‰è£…æŒ‡å—</a>ï¼Œ
ä½¿ç”¨ kubeadm å®‰è£…ã€‚</p>
<h2 id="åº”ç”¨ç½‘ç»œç­–ç•¥">åº”ç”¨ç½‘ç»œç­–ç•¥</h2>
<p>ä½¿ç”¨ä»¥ä¸‹çš„ä¸€ç§æ–¹å¼åº”ç”¨ç½‘ç»œç­–ç•¥ï¼š</p>
<ul>
<li><a href="https://github.com/romana/romana/wiki/Romana-policies">Romana ç½‘ç»œç­–ç•¥</a>
<ul>
<li><a href="https://github.com/romana/core/blob/master/doc/policy.md">Romana ç½‘ç»œç­–ç•¥ä¾‹å­</a></li>
</ul>
</li>
<li>NetworkPolicy API</li>
</ul>
<h2 id="what-s-next">What's next</h2>
<!--
Once you have installed Romana, you can follow the [Declare Network Policy](/docs/tasks/administer-cluster/declare-network-policy/) to try out Kubernetes NetworkPolicy.
 -->
<p>Romana å®‰è£…å®Œæˆåï¼Œä½ å¯ä»¥æŒ‰ç…§
<a href="/zh/docs/tasks/administer-cluster/declare-network-policy/">å£°æ˜ç½‘ç»œç­–ç•¥</a>
å»å°è¯•ä½¿ç”¨ Kubernetes NetworkPolicyã€‚</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ac075c3fdfd0d41aa753cc70e42be064">6 - ä½¿ç”¨ Weave Net æä¾› NetworkPolicy</h1>
    
	<!--
reviewers:
- bboreham
title: Weave Net for NetworkPolicy
content_type: task
weight: 50
-->
<!-- overview -->
<!--
This page shows how to use Weave Net for NetworkPolicy.
-->
<p>æœ¬é¡µå±•ç¤ºå¦‚ä½•ä½¿ç”¨ä½¿ç”¨ Weave Net æä¾› NetworkPolicyã€‚</p>
<h2 id="before-you-begin">Before you begin</h2>
<!--
You need to have a Kubernetes cluster. Follow the
[kubeadm getting started guide](/docs/reference/setup-tools/kubeadm/) to bootstrap one.
 -->
<p>ä½ éœ€è¦æ‹¥æœ‰ä¸€ä¸ª Kubernetes é›†ç¾¤ã€‚æŒ‰ç…§
<a href="/zh/docs/reference/setup-tools/kubeadm/">kubeadm å…¥é—¨æŒ‡å—</a>
æ¥å¯åŠ¨ä¸€ä¸ªã€‚</p>
<!-- steps -->
<!--
## Install the Weave Net addon

Follow the [Integrating Kubernetes via the Addon](https://www.weave.works/docs/net/latest/kubernetes/kube-addon/) guide.

The Weave Net addon for Kubernetes comes with a
[Network Policy Controller](https://www.weave.works/docs/net/latest/kubernetes/kube-addon/#npc)
that automatically monitors Kubernetes for any NetworkPolicy annotations on all
namespaces and configures `iptables` rules to allow or block traffic as directed by the policies.
-->
<h2 id="å®‰è£…-weave-net-æ’ä»¶">å®‰è£… Weave Net æ’ä»¶</h2>
<p>æŒ‰ç…§<a href="https://www.weave.works/docs/net/latest/kubernetes/kube-addon/">é€šè¿‡æ’ä»¶é›†æˆ Kubernetes</a>
æŒ‡å—æ‰§è¡Œå®‰è£…ã€‚</p>
<p>Kubernetes çš„ Weave Net æ’ä»¶å¸¦æœ‰
<a href="https://www.weave.works/docs/net/latest/kubernetes/kube-addon/#npc">ç½‘ç»œç­–ç•¥æ§åˆ¶å™¨</a>ï¼Œ
å¯è‡ªåŠ¨ç›‘æ§ Kubernetes æ‰€æœ‰åå­—ç©ºé—´çš„ NetworkPolicy æ³¨é‡Šï¼Œ
é…ç½® <code>iptables</code> è§„åˆ™ä»¥å…è®¸æˆ–é˜»æ­¢ç­–ç•¥æŒ‡ç¤ºçš„æµé‡ã€‚</p>
<!--
## Test the installation

Verify that the weave works.

Enter the following command:
-->
<h2 id="æµ‹è¯•å®‰è£…">æµ‹è¯•å®‰è£…</h2>
<p>éªŒè¯ weave æ˜¯å¦æœ‰æ•ˆã€‚</p>
<p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">kubectl get po -n kube-system -o wide
</code></pre></div><!-- The output is similar to this: -->
<p>è¾“å‡ºç±»ä¼¼è¿™æ ·ï¼š</p>
<pre><code>NAME                                    READY     STATUS    RESTARTS   AGE       IP              NODE
weave-net-1t1qg                         2/2       Running   0          9d        192.168.2.10    worknode3
weave-net-231d7                         2/2       Running   1          7d        10.2.0.17       worknodegpu
weave-net-7nmwt                         2/2       Running   3          9d        192.168.2.131   masternode
weave-net-pmw8w                         2/2       Running   0          9d        192.168.2.216   worknode2
</code></pre><!--
Each Node has a weave Pod, and all Pods are `Running` and `2/2 READY`. (`2/2` means that each Pod has `weave` and `weave-npc`.)
-->
<p>æ¯ä¸ª Node éƒ½æœ‰ä¸€ä¸ª weave Podï¼Œæ‰€æœ‰ Pod éƒ½æ˜¯<code>Running</code> å’Œ <code>2/2 READY</code>ã€‚
ï¼ˆ<code>2/2</code> è¡¨ç¤ºæ¯ä¸ª Pod éƒ½æœ‰ <code>weave</code> å’Œ <code>weave-npc</code>ï¼‰</p>
<h2 id="what-s-next">What's next</h2>
<!--
Once you have installed the Weave Net addon, you can follow the [Declare Network Policy](/docs/tasks/administer-cluster/declare-network-policy/) to try out Kubernetes NetworkPolicy. If you have any question, contact us at [#weave-community on Slack or Weave User Group](https://github.com/weaveworks/weave#getting-help).
 -->
<p>å®‰è£… Weave Net æ’ä»¶åï¼Œä½ å¯ä»¥å‚è€ƒ
<a href="/zh/docs/tasks/administer-cluster/declare-network-policy/">å£°æ˜ç½‘ç»œç­–ç•¥</a>
æ¥è¯•ç”¨ Kubernetes NetworkPolicyã€‚
å¦‚æœä½ æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·é€šè¿‡
<a href="https://github.com/weaveworks/weave#getting-help">Slack ä¸Šçš„ #weave-community é¢‘é“æˆ–è€… Weave ç”¨æˆ·ç»„</a>
è”ç³»æˆ‘ä»¬ã€‚</p>

</div>



    
	
  



          </main>
        </div>
      </div>
      
<footer class="d-print-none">
  <div class="footer__links">
    <nav>
      
      
      
      <a class="text-white" href="/zh/docs/home/">ä¸»é¡µ</a>
      
      <a class="text-white" href="/zh/blog/">åšå®¢</a>
      
      <a class="text-white" href="/zh/training/">åŸ¹è®­</a>
      
      <a class="text-white" href="/zh/partners/">åˆä½œä¼™ä¼´</a>
      
      <a class="text-white" href="/zh/community/">ç¤¾åŒº</a>
      
      <a class="text-white" href="/zh/case-studies/">æ¡ˆä¾‹åˆ†æ</a>
      
    </nav>
  </div>
  <div class="container-fluid">
    <div class="row">
      <div class="col-6 col-sm-2 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="User mailing list" aria-label="User mailing list">
    <a class="text-white" target="_blank" href="https://discuss.kubernetes.io">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" href="https://twitter.com/kubernetesio">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Calendar" aria-label="Calendar">
    <a class="text-white" target="_blank" href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io">
      <i class="fas fa-calendar-alt"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Youtube" aria-label="Youtube">
    <a class="text-white" target="_blank" href="https://youtube.com/kubernetescommunity">
      <i class="fab fa-youtube"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-2 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/kubernetes/kubernetes">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" href="https://slack.k8s.io">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Contribute" aria-label="Contribute">
    <a class="text-white" target="_blank" href="https://git.k8s.io/community/contributors/guide">
      <i class="fas fa-edit"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" target="_blank" href="https://stackoverflow.com/questions/tagged/kubernetes">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-8 text-center order-sm-2">
        <small class="text-white">&copy; 2024 The Kubernetes Authors | Documentation Distributed under <a href="https://git.k8s.io/website/LICENSE" class="light-text">CC BY 4.0</a></small>
        <br/>
        <small class="text-white">Copyright &copy; 2024 The Linux Foundation &reg;. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage" class="light-text">Trademark Usage page</a></small>
        <br/>
        <small class="text-white">ICP license: äº¬ICPå¤‡17074266å·-3</small>
        
        
          
        
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="/js/popper-1.14.3.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="/js/bootstrap-4.3.1.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>










<script src="/js/main.js"></script>






  </body>
</html>
