<!DOCTYPE html>
<!-- Page generated 2022-04-20 18:09:54 +0000-->
<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex"/><title>Development Environments Preview | Docker Documentation</title>
  <meta name="description" content="Dev Environments" />
  <meta name="keywords" content="Dev Environments, share, collaborate, local">
  <link rel="canonical" href="https://localhost:4000/desktop/dev-environments/" />

  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="../../favicons/docs@2x.ico" sizes="129x128">
  <link rel="apple-touch-icon" type="image/x-icon" href="../../favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/favicons/docs@2x.ico">
  <meta property="og:image" content="/favicons/docs@2x.ico"/>
  <meta name="theme-color" content="#2496ed" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- hide elements that are only shown without JavaScript enabled -->
  <script>document.documentElement.classList.add('js')</script>
  <style>html.js .no-js { display: none !important; }</style><script defer src="../../js/theme-switcher.js"></script>
  <script defer src="../../js/anchorlinks.js"></script>
  <script defer src="../../js/jquery.js"></script>
  <script defer src="../../js/bootstrap.min.js"></script>
  <script defer src="../../js/docs.js"></script><link rel="preload" as="font" href="https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0bf8pkAg.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="../../fonts/geomanist/hinted-Geomanist-Book.woff2"    type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="../../fonts/geomanist/hinted-Geomanist-Regular.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="../../fonts/glyphicons-halflings-regular.woff2"       type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="../../fonts/fontawesome-webfont.woff2%3Fv=4.7.0"        type="font/woff2" crossorigin="anonymous">

  <link rel="stylesheet" href="../../css/font-awesome.min.css">
  <link rel="stylesheet" href="../../css/bootstrap.min.css">
  <link rel="stylesheet" href="../../css/style.css" id="pagestyle">

  <!-- SEO stuff -->
  <meta name="twitter:title" itemprop="title name" content="Development Environments Preview"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="" />
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:domain" content="docs.docker.com"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:image:src" content="https://docs.docker.com/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker Documentation"/>
  <meta property="og:title" content="Development Environments Preview" />
  <meta property="og:description" content="Dev Environments" />
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2022-04-20T18:09:54+00:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="https://docs.docker.com/images/docs@2x.png"/>
  <meta property="og:locale" content="en_US" />
  <meta property="og:url" content="https://docs.docker.com/desktop/dev-environments/" />
  <meta property="og:site_name" content="Docker Documentation" />
  <meta property="article:published_time" itemprop="datePublished" content="2022-04-20T18:09:54+00:00"/>
  <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","headline":"Development Environments Preview","description":"Dev Environments","url":"https://docs.docker.com/desktop/dev-environments/"}</script>
  <!-- END SEO STUFF -->
</head>
<body class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="../../index.html">
                <img class="logo" src="../../images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs" width="160" height="28" />
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="../../index.html">
        <img src="../../images/docker-icon.svg" alt="Docker Docs" title="Docker Docs" width="30" height="30" />
    </a>
</div>
<div class="search-form" id="search-div">
    <form class="search-form form-inline" id="searchForm" action="http://localhost:4000/search/" method="get">
        <label for="st-search-input" class="sr-only">Search</label>
        <input class="search-field form-control ds-input" id="st-search-input" name="q" placeholder="Search the docs" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteResults"></div>
        <!-- <button type="submit" class="search-submit btn btn-default">Search</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div>
        <ul class="nav navbar-nav"><li><a href="../../index.html" id="home">Home</a></li><li><a href="../../get-started/overview/index.html" id="guides">Guides</a></li><li><a href="../index.html" id="manuals">Manuals</a></li><li><a href="../../reference/index.html" id="reference">Reference</a></li><li><a href="../../samples/index.html" id="samples">Samples</a></li></ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle" aria-label="Current page's menu toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
    </div>
</div>
<div class="row hidden-sm hidden-xs">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li><a href="../../index.html" title="Docker docs homepage"><i class="fa fa-home"></i></a></li>
            <li><a href="../index.html">Manuals</a></li><li><a href="../index.html">Docker Desktop</a></li><li><a href="index.html">Dev Environments (Preview)</a></li></ol>
    </nav>
</div></div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section"><h1>Development Environments Preview</h1><p><em class="reading-time">Estimated reading time: 14 minutes</em></p><p>Dev Environments enable you to collaborate easily by allowing you to share work-in-progress code with your team members. When using Dev Environments, you can easily set up repeatable development environments, keeping the environment details versioned along with your code. You can also share your work-in-progress code with your team members in just one click and without having to deal with any merge conflicts while moving between Git branches to get your code on to their machine.</p>

<p>Dev Environments also allow you to switch between your developer environments or your team members’ environments, move between branches to look at changes that are in progress, without moving off your current Git branch.</p>

<blockquote>
  <p><strong>Preview</strong></p>

  <p>The Dev Environments feature is currently offered as a Preview. We recommend that you do not use this in production environments.</p>
</blockquote>

<p>To access Dev Environments, from the Docker menu, select <strong>Dashboard</strong> &gt; <strong>Dev Environments</strong>.</p>

<p><img src="../images/dev-env-create.png" alt="Dev environment intro" width="700px" /></p>

<h2 id="prerequisites">Prerequisites</h2>

<p>Dev Environments are available as part of Docker Desktop 3.5.0 release. Download and install <strong>Docker Desktop 3.5.0</strong> or higher:</p>

<ul>
  <li><a href="../mac/release-notes/index.html">Mac</a></li>
  <li><a href="../windows/release-notes/index.html">Windows</a></li>
</ul>

<p>To get started with Dev Environments, you must have the following tools and extension installed on your machine:</p>

<ul>
  <li><a href="https://git-scm.com" target="_blank" rel="noopener" class="_">Git</a></li>
  <li><a href="https://code.visualstudio.com/" target="_blank" rel="noopener" class="_">Visual Studio Code</a></li>
  <li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers" target="_blank" rel="noopener" class="_">Visual Studio Code Remote Containers Extension</a></li>
</ul>

<p>Click <strong>Install</strong> to download and install any missing tools.</p>

<h3 id="add-git-to-your-path-on-windows">Add Git to your PATH on Windows</h3>

<p>If you have already installed Git, and it’s not detected properly, run the following command to check whether you can use Git with the CLI or PowerShell:</p>

<p><code class="highlighter-rouge">$ git --version</code></p>

<p>If it doesn’t detect Git as a valid command, you must reinstall Git and ensure you choose the option  <strong>Git from the command line...</strong> or the <strong>Use Git and optional Unix tools...</strong>  on the <strong>Adjusting your PATH environment</strong>  step.</p>

<p><img src="../images/dev-env-gitbash.png" alt="Windows add Git to path" width="300px" /></p>

<blockquote>
  <p><strong>Note</strong></p>

  <p>After you have installed Git, you must quit and then start Docker Desktop. From the Docker menu, select <strong>Quit Docker Desktop</strong>, and then start it again.</p>
</blockquote>

<h2 id="start-a-single-container-dev-environment">Start a single container Dev Environment</h2>

<p>The simplest way to get started with Dev Environments is to create a new environment by cloning the Git repository of the project you are working on. For example, let us create a new Dev Environment using a simple <code class="highlighter-rouge">single-dev-env</code> project from the <a href="https://github.com/dockersamples/single-dev-env" target="_blank" rel="noopener" class="_">Docker Samples</a> GitHub repository.</p>

<blockquote>
  <p><strong>Note</strong></p>

  <p>When cloning a Git repository using SSH, ensure you’ve added your SSH key to the ssh-agent. To do this, open a terminal and run <code class="highlighter-rouge">ssh-add &lt;path to your private ssh key&gt;</code>.</p>
</blockquote>

<blockquote>
  <p><strong>Note</strong></p>

  <p>If you have enabled the WSL 2 integration in Docker Desktop for Windows, make sure you have an SSH agent running in your WSL 2 distribution.</p>
</blockquote>

<div class="panel panel-default">
  <div class="panel-heading collapsed" data-toggle="collapse" data-target="#collapse-wsl2-ssh" style="cursor: pointer">
How to start an SSH agent in WSL2 <em class="chevron fa fa-fw"></em>
  </div>
  <div class="collapse block" id="collapse-wsl2-ssh">
If your WSL 2 distribution doesn't have an `ssh-agent` running, you can append this script at the end of your profile file (that is: ~/.profile, ~/.zshrc, ...).     <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
SSH_ENV="$HOME/.ssh/agent-environment"
function start_agent {
    echo "Initialising new SSH agent..."
    /usr/bin/ssh-agent | sed 's/^echo/#echo/' &gt; "${SSH_ENV}"
    echo succeeded
    chmod 600 "${SSH_ENV}"
    . "${SSH_ENV}" &gt; /dev/null
}
# Source SSH settings, if applicable
if [ -f "${SSH_ENV}" ]; then
    . "${SSH_ENV}" &gt; /dev/null
    ps -ef | grep ${SSH_AGENT_PID} | grep ssh-agent$ &gt; /dev/null || {
        start_agent;
    }
else
    start_agent;
fi
</code></pre></div>    </div>
  </div>
</div>

<ol>
  <li>Under Dev Environments, click <strong>Create</strong>. This opens the <strong>Create a Dev Environment</strong> dialog. Click <strong>Get Started</strong> and then copy <code class="highlighter-rouge">https://github.com/dockersamples/single-dev-env.git</code> and add it to the <strong>Enter the Git Repository</strong> field on the <strong>Existing Git repo</strong> source.</li>
  <li>
    <p>Now, click <strong>Continue</strong>.</p>

    <p>This clones the Git code inside a volume, determines the best image for your Dev Environment, and finally, opens VS Code inside the Dev Environment container.</p>
  </li>
</ol>

<p><img src="../images/dev-env-container.png" alt="Single container Dev environment" width="700px" /></p>

<p>In the above example, the names <code class="highlighter-rouge">wizardly_ellis</code> and <code class="highlighter-rouge">relaxed_maclaren</code> are randomly generated. You’ll most likely see different names when you create your Dev Environment.</p>

<p>Hover over the container and click <strong>Open in VS Code</strong> to start working in VS Code as usual. You can also open a terminal in VS Code, and use Git to push or pull code to your repository, or switch between branches and work as you would normally.</p>

<p>You can launch the application by running the command <code class="highlighter-rouge">make run</code> in your VS Code terminal. This opens an http server on port 8080. Open <a href="http://localhost:8080">http://localhost:8080</a> in your browser to see the running application.</p>

<p><img src="../images/dev-env-localhost.png" alt="Single container Dev environment" width="700px" /></p>

<h3 id="create-a-dev-environment-from-a-specific-branch-or-tag">Create a Dev Environment from a specific branch or tag</h3>

<p>You can create a dev environment from a specific branch (for example, a branch corresponding to a Pull Request) or a tag by adding <code class="highlighter-rouge">@mybranch</code> or <code class="highlighter-rouge">@tag</code> as a suffix to your Git URL:</p>

<p><code class="highlighter-rouge">https://github.com/dockersamples/single-dev-env@mybranch</code></p>

<p>or</p>

<p><code class="highlighter-rouge">git@github.com:dockersamples/single-dev-env.git@mybranch</code></p>

<p>Docker then clones the repository with your specified branch or tag.</p>

<h3 id="recap">Recap</h3>

<p>Let’s summarize the tasks we performed so far to start a single container Dev Environment.</p>

<ol>
  <li>First, we cloned a Git repository in a container using Git credentials. Note that this did not conflict with any of the local files on your host.</li>
  <li>The Go tools required for our sample project was set up automatically for us. Also, this did not cause any friction with our local tooling setup.</li>
  <li>Finally, we were able to run the application server inside a container using the VS Code terminal and access it automatically from the host.</li>
</ol>

<h2 id="share-your-dev-environment">Share your Dev Environment</h2>

<div class="docker-upgrade-cta" role="alert">
  <div class="docker-upgrade-cta__heading">
This feature requires a paid Docker subscription
  </div>
  <p>Docker Pro, Team, and Business users can now share Dev Environments with their team members.</p>
 <a class="btn btn-primary" role="button" href="https://www.docker.com/pricing?utm_source=docker&amp;utm_medium=webreferral&amp;utm_campaign=docs_driven_upgrade" target="_blank"> Upgrade now </a>
</div>

<p>When you are ready to share your environment, just click the <strong>Share</strong> button and specify the Docker Hub namespace where you’d like to push your Dev Environment to.</p>

<p><img src="../images/dev-env-share.png" alt="Share a Dev environment" width="700px" /></p>

<p>This creates a Docker image of your dev environment, uploads it to the Docker Hub namespace you have specified in the previous step, and provides a tiny URL which you can use to share your work with your team members.</p>

<p><img src="../images/dev-env-shared.png" alt="Dev environment shared" width="700px" /></p>

<p>Your team members need to open the <strong>Create</strong> dialog, select the <strong>Existing Dev Environment</strong> tab, and then paste the URL. Your Dev Environment now starts in the exact same state as you shared it.</p>

<p>Using this shared Dev Environment, your team members can access the code, any dependencies, and the current Git branch you are working on. They can also review your changes and provide feedback even before you create a pull request!</p>

<h2 id="start-a-sample-compose-dev-environment">Start a sample Compose Dev Environment</h2>

<p>You can also use Dev Environments to collaborate on any Docker Compose-based projects. For example, let’s use the <code class="highlighter-rouge">compose-dev-env</code> project from the <a href="https://github.com/dockersamples/compose-dev-env" target="_blank" rel="noopener" class="_">Docker Samples</a> GitHub repository.</p>

<blockquote>
  <p><strong>Note</strong></p>

  <p>When cloning a Git repository using SSH, ensure you’ve added your SSH key to the ssh-agent. To do this, open a terminal and run <code class="highlighter-rouge">ssh-add &lt;path to your private ssh key&gt;</code>.</p>
</blockquote>

<ol>
  <li>Under Dev Environments, click <strong>Create</strong>. This opens the <strong>Create a Dev Environment</strong> dialog. Click <strong>Get Started</strong> and then copy <code class="highlighter-rouge">https://github.com/dockersamples/compose-dev-env.git</code> and add it to the <strong>Enter the Git Repository</strong> field on the <strong>Existing Git repo</strong> source.</li>
  <li>
    <p>Click <strong>Continue</strong>. This initializes the project and clones the Git code and builds the Compose application. This:</p>

    <ul>
      <li>Builds local images for services that are defined in the Compose file</li>
      <li>Pulls images required for other services</li>
      <li>Creates volumes and networks</li>
      <li>Starts the Compose stack</li>
    </ul>
  </li>
</ol>

<p><img src="../images/dev-env-compose.png" alt="Compose Dev environment" width="700px" /></p>

<p>Now your application is up and running, you can check by opening <a href="http://localhost:8080">http://localhost:8080</a> in your browser.</p>

<p>The time taken to start the Compose application depends on how your application is configured, whether the images have been built, and the number of services you have defined, etc.</p>

<p>You’ll also notice that VS Code doesn’t open directly (unlike the single container Dev Environment) as there are multiple services configured. You can hover over a service and then click on the <strong>Open in VS Code</strong> button to open a specific service in Visual Studio Code. This stops the existing container and creates a new container which allows you to develop and update your service in VS Code.</p>

<p>You can now update your service and test it against your Compose application.</p>

<h2 id="set-up-your-own-compose-dev-environment">Set up your own Compose Dev Environment</h2>

<p>In the previous section, we’ve learnt how to start a sample Compose Dev Environment. To set up a Dev Environment for your own Compose-based project, you’ll need some extra configuration that tells Docker Desktop how to build, start, and use the right Dev Environment image for your services.</p>

<p>Dev Environments use an additional <code class="highlighter-rouge">docker-compose.yaml</code> file located in the <code class="highlighter-rouge">.docker</code> directory at the root of your project. This file allows you to define the image required for a dedicated service, the ports you’d like to expose, along with additional configuration options dedicated to Dev Environments coming in the future.</p>

<p>Let’s take a detailed look at the <code class="highlighter-rouge">docker-compose.yaml</code> file we used in the <a href="https://github.com/dockersamples/compose-dev-env/blob/main/.docker/docker-compose.yaml" target="_blank" rel="noopener" class="_">compose-dev-env</a> sample project.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">3.7"</span>
<span class="na">services</span><span class="pi">:</span>
  <span class="na">backend</span><span class="pi">:</span>
    <span class="na">build</span><span class="pi">:</span>
      <span class="na">context</span><span class="pi">:</span> <span class="s">backend</span>
      <span class="na">target</span><span class="pi">:</span> <span class="s">development</span>
    <span class="na">secrets</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">db-password</span>
    <span class="na">depends_on</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">db</span>
  <span class="na">db</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">mariadb</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>
    <span class="na">healthcheck</span><span class="pi">:</span>
      <span class="na">test</span><span class="pi">:</span> <span class="pi">[</span> <span class="s2">"</span><span class="s">CMD"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">mysqladmin"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">ping"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">-h"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">127.0.0.1"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">--silent"</span> <span class="pi">]</span>
      <span class="na">interval</span><span class="pi">:</span> <span class="s">3s</span>
      <span class="na">retries</span><span class="pi">:</span> <span class="s">5</span>
      <span class="na">start_period</span><span class="pi">:</span> <span class="s">30s</span>
    <span class="na">secrets</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">db-password</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">db-data:/var/lib/mysql</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">MYSQL_DATABASE=example</span>
      <span class="pi">-</span> <span class="s">MYSQL_ROOT_PASSWORD_FILE=/run/secrets/db-password</span>
    <span class="na">expose</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">3306</span>
  <span class="na">proxy</span><span class="pi">:</span>
    <span class="na">build</span><span class="pi">:</span> <span class="s">proxy</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">8080:80</span>
    <span class="na">depends_on</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">backend</span>
<span class="na">volumes</span><span class="pi">:</span>
  <span class="na">db-data</span><span class="pi">:</span>
<span class="na">secrets</span><span class="pi">:</span>
  <span class="na">db-password</span><span class="pi">:</span>
    <span class="na">file</span><span class="pi">:</span> <span class="s">db/password.txt</span>
</code></pre></div></div>

<p>In the above yaml file, the build context <code class="highlighter-rouge">backend</code> specifies that that the container should be built using the <code class="highlighter-rouge">development</code> stage (<code class="highlighter-rouge">target</code> attribute) of the Dockerfile located in the <code class="highlighter-rouge">backend</code> directory (<code class="highlighter-rouge">context</code> attribute)</p>

<p>The <code class="highlighter-rouge">development</code> stage of the Dockerfile is defined as follows:</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span><span class="s"> golang:1.16-alpine AS build</span>
<span class="k">WORKDIR</span><span class="s"> /go/src/github.com/org/repo</span>
<span class="k">COPY</span><span class="s"> . .</span>

<span class="k">RUN </span>go build <span class="nt">-o</span> server .

<span class="k">FROM</span><span class="s"> build AS development</span>
<span class="k">RUN </span>apk update <span class="se">\
</span>    <span class="o">&amp;&amp;</span> apk add git
<span class="k">CMD</span><span class="s"> ["go", "run", "main.go"]</span>

<span class="k">FROM</span><span class="s"> alpine:3.12</span>
<span class="k">EXPOSE</span><span class="s"> 8000</span>
<span class="k">COPY</span><span class="s"> --from=build /go/src/github.com/org/repo/server /server</span>
<span class="k">CMD</span><span class="s"> ["/server"]</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">development</code>target uses a <code class="highlighter-rouge">golang:1.16-alpine</code> image with all dependencies you need for development. You can start your project directly from VS Code and interact with the others applications or services such as the database or the frontend.</p>

<p>In our example, the Docker Compose files are the same. However, they could be different and the services defined in the main Compose file may use other targets to build or directly reference other images.</p>

<h2 id="specify-a-dockerfile">Specify a Dockerfile</h2>

<p>In this preview, Dev Environments support a JSON file which allows you to specify a Dockerfile to define your Dev Environment. You must include this as part of the <code class="highlighter-rouge">.docker</code> folder and then add it as a <code class="highlighter-rouge">config.json</code> file. For example:</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="s2">"dockerfile"</span><span class="p">:</span> <span class="s2">"Dockerfile.devenv"</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Next, you have to define the dependencies you want to include in your <code class="highlighter-rouge">Dockerfile.devenv</code>, alongside the following requisites:</p>

<p>While some images or Dockerfiles will include a non-root user, many base images and Dockerfiles do not. Fortunately, you can add a non-root user named <code class="highlighter-rouge">vscode</code>. If you were to include the Docker tooling (e.g. <code class="highlighter-rouge">docker</code> cli, <code class="highlighter-rouge">docker compose</code>, etc.) in the <code class="highlighter-rouge">Dockerfile.devenv</code>, you would need the <code class="highlighter-rouge">vscode</code> user to be included in the <code class="highlighter-rouge">docker</code> group.</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># syntax=docker/dockerfile:1</span>

<span class="k">FROM</span><span class="s"> &lt;your base image&gt;</span>

<span class="k">RUN </span>useradd <span class="nt">-s</span> /bin/bash <span class="nt">-m</span> vscode <span class="se">\
</span> <span class="o">&amp;&amp;</span> groupadd docker <span class="se">\
</span> <span class="o">&amp;&amp;</span> usermod <span class="nt">-aG</span> docker vscode

<span class="k">USER</span><span class="s"> vscode</span>
</code></pre></div></div>

<h2 id="specify-a-base-image">Specify a base image</h2>

<p>If you already have an image built, you can specify it as a base image to define your Dev Environment. You must include this as part of the <code class="highlighter-rouge">.docker</code> folder and then add it as a <code class="highlighter-rouge">config.json</code> file. For example, to use the Jekyll base image, add:</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"image"</span><span class="p">:</span> <span class="s2">"jekyll/jekyll"</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p><strong>Note</strong></p>

  <p>This configuration is to unblock users for the Preview release only. We may move this configuration for single and multi-container applications to a Compose-based implementation in future releases.</p>

  <p>To get involved with the discussion on how we are going to implement this as part of Compose, join the <strong>#docker-dev-environments</strong> channel in the <a href="https://dockercommunity.slack.com/messages" target="_blank" rel="noopener" class="_">Docker Community Slack</a>, or let us know your feedback by creating an issue in the <a href="https://github.com/docker/dev-environments/issues" target="_blank" rel="noopener" class="_">Dev Environments</a> GitHub repository.</p>
</blockquote>

<h2 id="start-a-dev-environment-from-a-local-folder">Start a Dev Environment from a local folder</h2>

<p>You can also start a Dev Environment from local code on your machine.</p>

<ol>
  <li>Click <strong>Create</strong> to open the <strong>Create a Dev Environment</strong> dialog. Select the <strong>Local Folder</strong> tab, and click <strong>Select directory</strong> to open the root of the code that you would like to work on.</li>
  <li>
    <p>Now, click <strong>Create</strong>.</p>

    <p>This creates a Dev Environment using your local folder, and bind-mounts your local code in the Dev Environment. Finally, it opens VS Code inside the Dev Environment container.</p>
  </li>
</ol>

<blockquote>
  <p><strong>Note</strong></p>

  <p>When using a local folder for a Dev Environment, file changes are synchronized between your Dev Environment container and your local files. This can affect the performance inside the container, depending on the number of files in your local folder and the operations performed in the container.</p>
</blockquote>

<h2 id="known-issues">Known issues</h2>

<p>The following section lists known issues and workarounds in the Dev Environments Preview:</p>

<ol>
  <li>It is currently not possible to share Compose-based applications using Dev Environments because registries do not support Compose applications. Refer to the <a href="index.html#feedback">Feedback</a> section to let us know your requirements for sharing Compose-based applications.</li>
  <li>When sharing a Dev Environment between Mac and Windows, the VS Code terminal may not function correctly in some cases. To work around this issue, use the Exec in CLI option in the Docker Dashboard.</li>
  <li>When sharing a Dev Environment between ARM64 and AMD64 machines, the environment will be emulated.</li>
</ol>

<h2 id="feedback">Feedback</h2>

<p>We are excited that you are trying out our Dev Environments Preview. We would love to hear from you.</p>

<p>You can let us know your feedback by creating an issue in the <a href="https://github.com/docker/dev-environments/issues" target="_blank" rel="noopener" class="_">Dev Environments</a> GitHub repository. Alternatively, get in touch with us on the <strong>#docker-dev-environments</strong> channel in the <a href="https://dockercommunity.slack.com/messages" target="_blank" rel="noopener" class="_">Docker Community Slack</a>.</p>
<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="../../search/index.html%3Fq=Dev%20Environments.html">Dev Environments</a>, <a href="../../search/index.html%3Fq=share.html">share</a>, <a href="../../search/index.html%3Fq=collaborate.html">collaborate</a>, <a href="../../search/index.html%3Fq=local.html">local</a></span></section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
                                <ul class="nav hidden-md hidden-lg"></ul>
                                <ul class="nav" id="jsTOCLeftNav"></ul>
                            </div>
                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul><li><a href="https://github.com/docker/docker.github.io/edit/master/desktop/dev-environments.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit this page</a></li><li><a href="https://github.com/docker/docker.github.io/issues/new?body=File: [desktop/dev-environments.md](https://docs.docker.com/desktop/dev-environments/)" class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> Request docs changes</a></li>
                                        <li><div class="toggle-mode">
  <div class="icon">
      <i class="fa fa-sun-o" aria-hidden="true"></i>
  </div>
  <div class="toggle-switch">
      <label class="switch">
          <input type="checkbox" id="switch-style">
          <span class="slider round"></span>
      </label>
  </div>
  <div class="icon">
      <i class="fa fa-moon-o" aria-hidden="true"></i>
  </div>
</div>
</li>
                                    </ul>
                                </div><div id="side-toc-title">On this page:</div>
<ul id="my_toc" class="inline_toc">
  <li><a href="index.html#prerequisites" class="nomunge">Prerequisites</a>
    <ul>
      <li><a href="index.html#add-git-to-your-path-on-windows" class="nomunge">Add Git to your PATH on Windows</a></li>
    </ul>
  </li>
  <li><a href="index.html#start-a-single-container-dev-environment" class="nomunge">Start a single container Dev Environment</a>
    <ul>
      <li><a href="index.html#create-a-dev-environment-from-a-specific-branch-or-tag" class="nomunge">Create a Dev Environment from a specific branch or tag</a></li>
      <li><a href="index.html#recap" class="nomunge">Recap</a></li>
    </ul>
  </li>
  <li><a href="index.html#share-your-dev-environment" class="nomunge">Share your Dev Environment</a></li>
  <li><a href="index.html#start-a-sample-compose-dev-environment" class="nomunge">Start a sample Compose Dev Environment</a></li>
  <li><a href="index.html#set-up-your-own-compose-dev-environment" class="nomunge">Set up your own Compose Dev Environment</a></li>
  <li><a href="index.html#specify-a-dockerfile" class="nomunge">Specify a Dockerfile</a></li>
  <li><a href="index.html#specify-a-base-image" class="nomunge">Specify a base image</a></li>
  <li><a href="index.html#start-a-dev-environment-from-a-local-folder" class="nomunge">Start a Dev Environment from a local folder</a></li>
  <li><a href="index.html#known-issues" class="nomunge">Known issues</a></li>
  <li><a href="index.html#feedback" class="nomunge">Feedback</a></li>
</ul>

</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products" target="_blank" rel="noopener">Product offerings</a></b></li>
                        <li><a href="https://www.docker.com/products/personal" target="_blank" rel="noopener">Docker Personal</a></li>
                        <li><a href="https://www.docker.com/products/pro" target="_blank" rel="noopener">Docker Pro</a></li>
                        <li><a href="https://www.docker.com/products/team" target="_blank" rel="noopener">Docker Team</a></li>
                        <li><a href="https://www.docker.com/products/business" target="_blank" rel="noopener">Docker Business</a></li>
                        <li><a href="https://www.docker.com/products" target="_blank" rel="noopener">Compare Subscriptions</a></li>
                        <li><b><a href="https://www.docker.com/" target="_blank" rel="noopener">Features</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub" target="_blank" rel="noopener">Docker Hub</a></li>
                        <li><a href="https://www.docker.com/products/secure-software-supply-chain" target="_blank" rel="noopener">Secure Software Supply Chain</a></li>
                        <li><a href="https://www.docker.com/products/container-runtime" target="_blank" rel="noopener">Container Runtime</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools" target="_blank" rel="noopener">Developer Tools</a></li>
                        <li><a href="https://www.docker.com/partners" target="_blank" rel="noopener">Trusted Content</a></li>
                        <li><a href="https://www.docker.com/roadmap" target="_blank" rel="noopener">Docker Product Roadmap</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener">Developers</a></b></li>
                        <li><a href="https://www.docker.com/use-cases" target="_blank" rel="noopener">Use Cases</a></li>
                        <li><a href="../../get-started/index.html" target="_blank" rel="noopener">Get Started</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank" rel="noopener">Blog</a></li>
                        <li><a href="https://www.docker.com/docker-community" target="_blank" rel="noopener">Community</a></li>
                        <li><a href="https://www.docker.com/open-source" target="_blank" rel="noopener">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/get-involved/developer-preview" target="_blank" rel="noopener">Preview Program</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener">Pricing</a></b></li>
                        <li><a href="https://www.docker.com/pricing/faq" target="_blank" rel="noopener">FAQ</a></li>
                        <li><a href="https://www.docker.com/partners/programs" target="_blank" rel="noopener">Docker Verified Publisher</a></li>
                        <li><a href="https://www.docker.com/partners" target="_blank" rel="noopener">Partners</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank" rel="noopener">About Us</a></b></li>
                        <li><a href="https://www.docker.com/what-container" target="_blank" rel="noopener">What is a Container?</a></li>
                        <li><a href="https://www.docker.com/why-docker" target="_blank" rel="noopener">Why Docker?</a></li>
                        <li><a href="https://www.docker.com/events" target="_blank" rel="noopener">Virtual Events</a></li>
                        <li><a href="https://www.docker.com/swag" target="_blank" rel="noopener">Swag Store
                        </a></li>
                        <li><a href="https://www.docker.com/company/newsroom" target="_blank" rel="noopener">Newsroom</a></li>
                        <li><a href="https://www.docker.com/careers" target="_blank" rel="noopener">Careers</a></li>
                        <li><a href="https://www.docker.com/company/contact" target="_blank" rel="noopener">Contact Us</a></li>
                        <li><a href="https://www.docker.com/customers" target="_blank" rel="noopener">Customers</a></li>
                        <li><a href="https://www.docker.com/newsletter-subscription" target="_blank" rel="noopener">Newsletter</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="https://www.docker.com/legal/docker-terms-service" target="_blank" rel="noopener">Terms of Service</a></li>
                        <li><a href="https://status.docker.com/" target="_blank" rel="noopener">Status</a></li>
                        <li><a href="https://www.docker.com/legal" target="_blank" rel="noopener">Legal</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2021 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="https://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="https://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <script>const pageURL = "/desktop/dev-environments/";</script></body>
</html>
